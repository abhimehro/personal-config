{
  "name": "git_add_or_commit",
  "description": "Add file contents to the index (git add <pathspec>) OR record changes to the repository (git commit -m <message> [files...]). Use the 'action' parameter to specify which action to perform.",
  "arguments": {
    "type": "object",
    "properties": {
      "action": {
        "description": "The action to perform: 'add' or 'commit'",
        "enum": [
          "add",
          "commit"
        ],
        "type": "string"
      },
      "directory": {
        "description": "The directory to run git add or commit in",
        "type": "string"
      },
      "files": {
        "description": "Optional array of files to add or commit. If omitted, all files are added or all staged changes are committed.",
        "items": {
          "type": "string"
        },
        "type": "array"
      },
      "message": {
        "description": "The commit message (required if action is 'commit')",
        "type": "string"
      }
    },
    "required": [
      "directory",
      "action"
    ]
  }
}