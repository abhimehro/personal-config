"use strict";var Ie=Object.create;var K=Object.defineProperty;var Re=Object.getOwnPropertyDescriptor;var Te=Object.getOwnPropertyNames;var Ce=Object.getPrototypeOf,Pe=Object.prototype.hasOwnProperty;var Ue=(n,t)=>{for(var e in t)K(n,e,{get:t[e],enumerable:!0})},se=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Te(t))!Pe.call(n,a)&&a!==e&&K(n,a,{get:()=>t[a],enumerable:!(r=Re(t,a))||r.enumerable});return n};var B=(n,t,e)=>(e=n!=null?Ie(Ce(n)):{},se(t||!n||!n.__esModule?K(e,"default",{value:n,enumerable:!0}):e,n)),_e=n=>se(K({},"__esModule",{value:!0}),n);var Qe={};Ue(Qe,{default:()=>ve});module.exports=_e(Qe);var xe=require("@raycast/api");var c=B(require("react")),h=require("@raycast/api");var ie=Object.prototype.hasOwnProperty;function G(n,t){var e,r;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((r=n.length)===t.length)for(;r--&&G(n[r],t[r]););return r===-1}if(!e||typeof n=="object"){r=0;for(e in n)if(ie.call(n,e)&&++r&&!ie.call(t,e)||!(e in t)||!G(n[e],t[e]))return!1;return Object.keys(t).length===r}}return n!==n&&t!==t}var U=B(require("node:fs")),J=B(require("node:path")),ue=B(require("node:crypto"));var fe=require("react/jsx-runtime");function Le(n){let t=(0,c.useRef)(n),e=(0,c.useRef)(0);return G(n,t.current)||(t.current=n,e.current+=1),(0,c.useMemo)(()=>t.current,[e.current])}function v(n){let t=(0,c.useRef)(n);return t.current=n,t}function te(n,t){let e=n instanceof Error?n.message:String(n);return(0,h.showToast)({style:h.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??e,primaryAction:t?.primaryAction??oe(n),secondaryAction:t?.primaryAction?oe(n):void 0})}var oe=n=>{let t=!0,e="[Extension Name]...",r="";try{let s=JSON.parse((0,U.readFileSync)((0,J.join)(h.environment.assetsPath,"..","package.json"),"utf8"));e=`[${s.title}]...`,r=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(t=!1)}catch{}let a=h.environment.isDevelopment||t,i=n instanceof Error?n?.stack||n?.message||"":String(n);return{title:a?"Copy Logs":"Report Error",onAction(s){s.hide(),a?h.Clipboard.copy(i):(0,h.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(e)}&extension-url=${encodeURI(r)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${i}
\`\`\`
`)}`)}}};function re(n,t,e){let r=(0,c.useRef)(0),[a,i]=(0,c.useState)({isLoading:!0}),s=v(n),l=v(e?.abortable),o=v(t||[]),g=v(e?.onError),d=v(e?.onData),u=v(e?.onWillExecute),b=v(e?.failureToastOptions),w=v(a.data),k=(0,c.useRef)(null),p=(0,c.useRef)({page:0}),y=(0,c.useRef)(!1),S=(0,c.useRef)(!0),A=(0,c.useRef)(50),$=(0,c.useCallback)(()=>(l.current&&(l.current.current?.abort(),l.current.current=new AbortController),++r.current),[l]),m=(0,c.useCallback)((...C)=>{let E=$();u.current?.(C),i(f=>({...f,isLoading:!0}));let L=Oe(s.current)(...C);function O(f){return f.name=="AbortError"||E===r.current&&(g.current?g.current(f):h.environment.launchType!==h.LaunchType.Background&&te(f,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(P){P.hide(),k.current?.(...o.current||[])}},...b.current}),i({error:f,isLoading:!1})),f}return typeof L=="function"?(y.current=!0,L(p.current).then(({data:f,hasMore:P,cursor:Ee})=>(E===r.current&&(p.current&&(p.current.cursor=Ee,p.current.lastItem=f?.[f.length-1]),d.current&&d.current(f,p.current),P&&(A.current=f.length),S.current=P,i(Ae=>p.current.page===0?{data:f,isLoading:!1}:{data:(Ae.data||[])?.concat(f),isLoading:!1})),f),f=>(S.current=!1,O(f)))):(y.current=!1,L.then(f=>(E===r.current&&(d.current&&d.current(f),i({data:f,isLoading:!1})),f),O))},[d,g,o,s,i,k,u,p,b,$]);k.current=m;let I=(0,c.useCallback)(()=>{p.current={page:0};let C=o.current||[];return m(...C)},[m,o]),R=(0,c.useCallback)(async(C,E)=>{let L;try{if(E?.optimisticUpdate){$(),typeof E?.rollbackOnError!="function"&&E?.rollbackOnError!==!1&&(L=structuredClone(w.current?.value));let O=E.optimisticUpdate;i(f=>({...f,data:O(f.data)}))}return await C}catch(O){if(typeof E?.rollbackOnError=="function"){let f=E.rollbackOnError;i(P=>({...P,data:f(P.data)}))}else E?.optimisticUpdate&&E?.rollbackOnError!==!1&&i(f=>({...f,data:L}));throw O}finally{E?.shouldRevalidateAfter!==!1&&(h.environment.launchType===h.LaunchType.Background||h.environment.commandMode==="menu-bar"?await I():I())}},[I,w,i,$]),T=(0,c.useCallback)(()=>{p.current.page+=1;let C=o.current||[];m(...C)},[p,o,m]);(0,c.useEffect)(()=>{p.current={page:0},e?.execute!==!1?m(...t||[]):$()},[Le([t,e?.execute,m]),l,p]),(0,c.useEffect)(()=>()=>{$()},[$]);let W=e?.execute!==!1?a.isLoading:!1,z={...a,isLoading:W},F=y.current?{pageSize:A.current,hasMore:S.current,onLoadMore:T}:void 0;return{...z,revalidate:I,mutate:R,pagination:F}}function Oe(n){return n===Promise.all||n===Promise.race||n===Promise.resolve||n===Promise.reject?n.bind(Promise):n}function ce(n){return typeof n!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(n))!==null}function Me(n){return n instanceof URLSearchParams?n.toString():n}function de(n,t=[]){function e(r){return"update"in n?n.update(r,"utf8"):n.write(r)}return{dispatch:function(r){r=Me(r),r===null?this._null():this["_"+typeof r](r)},_object:function(r){let a=/\[object (.*)\]/i,i=Object.prototype.toString.call(r),s=a.exec(i)?.[1]??"unknown:["+i+"]";s=s.toLowerCase();let l=null;if((l=t.indexOf(r))>=0){this.dispatch("[CIRCULAR:"+l+"]");return}else t.push(r);if(Buffer.isBuffer(r))return e("buffer:"),e(r.toString("utf8"));if(s!=="object"&&s!=="function"&&s!=="asyncfunction")if(this["_"+s])this["_"+s](r);else throw new Error('Unknown object type "'+s+'"');else{let o=Object.keys(r);o=o.sort(),ce(r)||o.splice(0,0,"prototype","__proto__","constructor"),e("object:"+o.length+":");let g=this;return o.forEach(function(d){g.dispatch(d),e(":"),g.dispatch(r[d]),e(",")})}},_array:function(r,a){a=typeof a<"u"?a:!1;let i=this;if(e("array:"+r.length+":"),!a||r.length<=1){r.forEach(function(o){i.dispatch(o)});return}let s=[],l=r.map(function(o){let g=Ve(),d=t.slice();return de(g,d).dispatch(o),s=s.concat(d.slice(t.length)),g.read().toString()});t=t.concat(s),l.sort(),this._array(l,!1)},_date:function(r){e("date:"+r.toJSON())},_symbol:function(r){e("symbol:"+r.toString())},_error:function(r){e("error:"+r.toString())},_boolean:function(r){e("bool:"+r.toString())},_string:function(r){e("string:"+r.length+":"),e(r.toString())},_function:function(r){e("fn:"),ce(r)?this.dispatch("[native]"):this.dispatch(r.toString()),this.dispatch("function-name:"+String(r.name)),this._object(r)},_number:function(r){e("number:"+r.toString())},_xml:function(r){e("xml:"+r.toString())},_null:function(){e("Null")},_undefined:function(){e("Undefined")},_regexp:function(r){e("regex:"+r.toString())},_uint8array:function(r){e("uint8array:"),this.dispatch(Array.prototype.slice.call(r))},_uint8clampedarray:function(r){e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(r))},_int8array:function(r){e("int8array:"),this.dispatch(Array.prototype.slice.call(r))},_uint16array:function(r){e("uint16array:"),this.dispatch(Array.prototype.slice.call(r))},_int16array:function(r){e("int16array:"),this.dispatch(Array.prototype.slice.call(r))},_uint32array:function(r){e("uint32array:"),this.dispatch(Array.prototype.slice.call(r))},_int32array:function(r){e("int32array:"),this.dispatch(Array.prototype.slice.call(r))},_float32array:function(r){e("float32array:"),this.dispatch(Array.prototype.slice.call(r))},_float64array:function(r){e("float64array:"),this.dispatch(Array.prototype.slice.call(r))},_arraybuffer:function(r){e("arraybuffer:"),this.dispatch(new Uint8Array(r))},_url:function(r){e("url:"+r.toString())},_map:function(r){e("map:");let a=Array.from(r);this._array(a,!0)},_set:function(r){e("set:");let a=Array.from(r);this._array(a,!0)},_file:function(r){e("file:"),this.dispatch([r.name,r.size,r.type,r.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){e("domwindow")},_bigint:function(r){e("bigint:"+r.toString())},_process:function(){e("process")},_timer:function(){e("timer")},_pipe:function(){e("pipe")},_tcp:function(){e("tcp")},_udp:function(){e("udp")},_tty:function(){e("tty")},_statwatcher:function(){e("statwatcher")},_securecontext:function(){e("securecontext")},_connection:function(){e("connection")},_zlib:function(){e("zlib")},_context:function(){e("context")},_nodescript:function(){e("nodescript")},_httpparser:function(){e("httpparser")},_dataview:function(){e("dataview")},_signal:function(){e("signal")},_fsevent:function(){e("fsevent")},_tlswrap:function(){e("tlswrap")}}}function Ve(){return{buf:"",write:function(n){this.buf+=n},end:function(n){this.buf+=n},read:function(){return this.buf}}}function De(n,t){let e=this[n];return e instanceof Date?`__raycast_cached_date__${e.toISOString()}`:Buffer.isBuffer(e)?`__raycast_cached_buffer__${e.toString("base64")}`:t}function We(n,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function H(n){let t=ue.default.createHash("sha1");return de(t).dispatch(n),t.digest("hex")}var ze=Symbol("cache without namespace"),le=new Map;function Ne(n,t,e){let r=e?.cacheNamespace||ze,a=le.get(r)||le.set(r,new h.Cache({namespace:e?.cacheNamespace})).get(r);if(!a)throw new Error("Missing cache");let i=v(n),s=v(t),l=(0,c.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(i.current)}catch(u){console.error("Could not get Cache data:",u);return}}),o=(0,c.useMemo)(()=>{if(typeof l<"u"){if(l==="undefined")return;try{return JSON.parse(l,We)}catch(u){return console.warn("The cached data is corrupted",u),s.current}}else return s.current},[l,s]),g=v(o),d=(0,c.useCallback)(u=>{let b=typeof u=="function"?u(g.current):u;if(typeof b>"u")a.set(i.current,"undefined");else{let w=JSON.stringify(b,De);a.set(i.current,w)}return b},[a,i,g]);return[o,d]}var M=Symbol();function je(n,t,e){let{initialData:r,keepPreviousData:a,internal_cacheKeySuffix:i,...s}=e||{},l=(0,c.useRef)(null),[o,g]=Ne(H(t||[])+i,M,{cacheNamespace:H(n)}),d=(0,c.useRef)(o!==M?o:r),u=(0,c.useRef)(void 0),{mutate:b,revalidate:w,...k}=re(n,t||[],{...s,onData($,m){u.current=m,s.onData&&s.onData($,m),!(m&&m.page>0)&&(l.current="promise",d.current=$,g($))}}),p,y=k.pagination;u.current&&u.current.page>0&&k.data?p=k.data:l.current==="promise"?p=d.current:a&&o!==M?(p=o,y&&(y.hasMore=!0,y.pageSize=o.length)):a&&o===M?p=d.current:o!==M?(p=o,y&&(y.hasMore=!0,y.pageSize=o.length)):p=r;let S=v(p),A=(0,c.useCallback)(async($,m)=>{let I;try{if(m?.optimisticUpdate){typeof m?.rollbackOnError!="function"&&m?.rollbackOnError!==!1&&(I=structuredClone(S.current));let R=m.optimisticUpdate(S.current);l.current="cache",d.current=R,g(R)}return await b($,{shouldRevalidateAfter:m?.shouldRevalidateAfter})}catch(R){if(typeof m?.rollbackOnError=="function"){let T=m.rollbackOnError(S.current);l.current="cache",d.current=T,g(T)}else m?.optimisticUpdate&&m?.rollbackOnError!==!1&&(l.current="cache",d.current=I,g(I));throw R}},[g,b,S,d,l]);return(0,c.useEffect)(()=>{o!==M&&(l.current="cache",d.current=o)},[o]),{data:p,isLoading:k.isLoading,error:k.error,mutate:u.current&&u.current.page>0?b:A,pagination:y,revalidate:w}}function Fe(n){if(n){let t=Be(n);if(!t)return!1;if(t.subtype==="json"||t.suffix==="json"||t.suffix&&/\bjson\b/i.test(t.suffix)||t.subtype&&/\bjson\b/i.test(t.subtype))return!0}return!1}var Ke=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function Be(n){let t=n.indexOf(";"),e=t!==-1?n.slice(0,t).trim():n.trim(),r=Ke.exec(e.toLowerCase().toLowerCase());if(!r)return;let a=r[1],i=r[2],s,l=i.lastIndexOf("+");return l!==-1&&(s=i.substring(l+1),i=i.substring(0,l)),{type:a,subtype:i,suffix:s}}async function Ge(n){if(!n.ok)throw new Error(n.statusText);let t=n.headers.get("content-type");return t&&Fe(t)?await n.json():await n.text()}function He(n){return{data:n,hasMore:!1}}function V(n,t){let{parseResponse:e,mapResult:r,initialData:a,execute:i,keepPreviousData:s,onError:l,onData:o,onWillExecute:g,failureToastOptions:d,...u}=t||{},b={initialData:a,execute:i,keepPreviousData:s,onError:l,onData:o,onWillExecute:g,failureToastOptions:d},w=v(e||Ge),k=v(r||He),p=(0,c.useRef)(null),y=(0,c.useRef)(null),S=typeof n=="function"?n({page:0}):void 0;(!p.current||typeof y.current>"u"||y.current!==S)&&(p.current=n),y.current=S;let A=(0,c.useRef)(null),$=(0,c.useCallback)((R,T)=>async W=>{let z=await fetch(R(W),{signal:A.current?.signal,...T}),F=await w.current(z);return k.current?.(F)},[w,k]),m=(0,c.useCallback)(async(R,T)=>{let W=await fetch(R,{signal:A.current?.signal,...T}),z=await w.current(W);return k.current(z)?.data},[w,k]),I=(0,c.useMemo)(()=>y.current?$:m,[y,m,$]);return je(I,[p.current,u],{...b,internal_cacheKeySuffix:y.current+H(k.current)+H(w.current),abortable:A})}var ee=require("react");var pe=require("react");var he=new Map([["command down","\u2318"],["control down","\u2303"],["option down","\u2325"],["shift down","\u21E7"]]),ne=new Map([["ctrl","control down"],["shift","shift down"],["opt","option down"],["alt","option down"],["cmd","command down"]]);var Z=class{constructor(t){this.keyCodes=t}parseInputShortcuts(t){return t.filter(e=>this.inputAppIsValid(e)).map(e=>({name:e.name,bundleId:e.bundleId,hostname:e.hostname,slug:e.slug,keymaps:e.keymaps.map(r=>({title:r.title,platforms:r.platforms,sections:r.sections.map(a=>({title:a.title,hotkeys:a.shortcuts.map(i=>this.parseSingleShortcut(i))}))}))}))}inputAppIsValid(t){return t.name!==void 0&&t.name.length>0&&t.slug!==void 0&&t.slug.length>0&&t.keymaps!==void 0&&t.keymaps.length>0&&t.keymaps.every(e=>this.inputKeymapIsValid(e))}inputKeymapIsValid(t){return t.title!==void 0&&t.title.length>0&&t.sections!==void 0&&t.sections.length>0&&t.sections.every(e=>this.inputSectionIsValid(e))}inputSectionIsValid(t){return t.title!==void 0&&t.title.length>0&&t.shortcuts!==void 0&&t.shortcuts.length>0&&t.shortcuts.every(e=>this.inputShortcutIsValid(e))}inputShortcutIsValid(t){return t.title!==void 0&&t.title.length>0&&this.shortcutKeyIsValid(t.key)}shortcutKeyIsValid(t){if(t===void 0)return!0;let e=t.split(" ");return e.length>0&&e.every(r=>this.chordIsValid(r))}chordIsValid(t){let e=t.split(/(?<!\+)\+/);if(e.length===0)return!1;let r=e.length;return this.modifiersExist(r,e)&&this.baseShortcutTokenIsValid(e[r-1])}modifiersExist(t,e){for(let r=0;r<t-1;r++)if(!ne.has(e[r]))return!1;return!0}baseShortcutTokenIsValid(t){return t in this.keyCodes}parseSingleShortcut(t){let r=t.key?.split(" ")?.map(a=>this.parseChord(a));return{title:t.title,sequence:r??[],comment:t.comment}}parseChord(t){let e=t.split(/(?<!\+)\+/),r=e.length,a=[];for(let s=0;s<r-1;s++){let l=e[s],o=ne.get(l);o&&a.push(o)}return{base:e[r-1],modifiers:a}}};function D(){return process.platform==="darwin"?"macos":"windows"}function N(){let{isLoading:n,data:t,revalidate:e}=V("https://hotkys.com/data/key-codes.json",{mapResult:r=>({data:Object.fromEntries(r.keyCodes)}),failureToastOptions:{title:"Failed to load key codes"}});return{isLoading:n,data:t,revalidate:e}}function me(n){let t=D(),e=N(),{isLoading:r,data:a}=V(`https://hotkys.com/data/${t}/${n}.json`,{execute:!!n,failureToastOptions:{title:"Failed to load shortcuts"}}),i=(0,pe.useMemo)(()=>{if(!(!a||!e.data))return new Z(e.data).parseInputShortcuts([a])[0]},[a,e.data]);return{isLoading:r||e.isLoading,data:i}}var Je=[];function ge(){let n=D(),{isLoading:t,data:e}=V(`https://hotkys.com/data/${n}/apps.json`,{keepPreviousData:!0,failureToastOptions:{title:"Failed to load applications"}});return{isLoading:t,data:e?.apps??Je}}var x=require("@raycast/api");var q=require("@raycast/api"),Y=require("react/jsx-runtime");function be(n){let{keymaps:t,onKeymapChange:e}=n;return t.length==1?null:(0,Y.jsx)(q.List.Dropdown,{tooltip:"Select Keymap",storeValue:!0,onChange:e,children:(0,Y.jsx)(q.List.Dropdown.Section,{title:"Keymaps",children:t.map(r=>(0,Y.jsx)(q.List.Dropdown.Item,{title:r,value:r},r))})})}var Ze=new Map([["left","\u2190"],["right","\u2192"],["up","\u2191"],["down","\u2193"],["pageup","PgUp"],["pagedown","PgDown"],["home","Home"],["end","End"],["space","Space"],["capslock","\u21EA"],["backspace","\u232B"],["tab","\u21E5"],["esc","\u238B"],["enter","\u21A9"],["cmd","\u2318"],["ctrl","\u2303"],["opt","\u2325"],["shift","\u21E7"]]);function qe(n){return Ze.get(n)??n.toUpperCase()}function ye(n){let t=[];return n.sequence.forEach((e,r)=>{r>0&&t.push({text:"then"});let a=[];for(let i of e.modifiers){let s=he.get(i);s&&a.push(s)}a.push(qe(e.base)),t.push({tag:a.join(" ")})}),t}var X=require("@raycast/api"),$e=require("child_process");function Ye(n,t,e){let r=JSON.stringify(n),a=JSON.stringify(e);return`(function() {
    const app = Application.currentApplication();
    app.includeStandardAdditions = true;
    const systemEvents = Application("System Events");
    const bundleId = ${r};
    if (bundleId && systemEvents.applicationProcesses.whose({ bundleIdentifier: bundleId }).length > 0) {
      app.doShellScript("open -b " + bundleId);
      delay(${t});
    }
    ${a}.forEach(function(chord) {
      systemEvents.keyCode(chord.keyCode, { using: chord.modifiers });
    });
  })();`}async function ke(n,t,e,r){if(D()!=="macos"){await(0,X.showToast)({style:X.Toast.Style.Failure,title:"Shortcut execution is only supported on macOS"});return}let a=e.map(s=>({keyCode:parseInt(r[s.base],10),modifiers:s.modifiers})),i=Ye(n??"",t,a);(0,$e.spawn)("osascript",["-l","JavaScript","-e",i],{detached:!0,stdio:"ignore"}).unref()}var j=require("react"),_=require("react/jsx-runtime");function we({application:n,isLoading:t}){let e=N(),r=n?.keymaps.map(u=>u.title)??[],[a,i]=(0,j.useState)([]),[s,l]=(0,j.useState)(!0);(0,j.useEffect)(()=>{n&&(i(n?.keymaps[0].sections??[]),l(!1))},[n]);let o=t??s,g=async(u,b)=>{if(e.data===void 0)return;let w=parseFloat((0,x.getPreferenceValues)().delay);await(0,x.closeMainWindow)({popToRootType:x.PopToRootType.Immediate}),await ke(u.bundleId,w,b.sequence,e.data)};return(0,_.jsx)(x.List,{isLoading:o,searchBarPlaceholder:"Search for shortcuts",searchBarAccessory:(0,_.jsx)(be,{keymaps:r,onKeymapChange:u=>{i(Xe(n?.keymaps??[],u)?.sections??[])}}),navigationTitle:n?.name,children:n&&a.map(u=>(0,_.jsx)(x.List.Section,{title:u.title,children:u.hotkeys.map(b=>{let w=({title:y,sequence:S})=>`${y}-${[S.map(({modifiers:A,base:$})=>`${A.join("")}${$}`)].flat().join("")}`,k=ye(b),p=b.comment?[{text:b.comment,icon:x.Icon.SpeechBubble}]:[];return(0,_.jsx)(x.List.Item,{title:b.title,accessories:[...k,...p],keywords:[u.title],actions:b.sequence.length>0?(0,_.jsx)(x.ActionPanel,{children:(0,_.jsx)(x.Action,{title:"Apply",onAction:()=>g(n,b)})}):void 0},w(b))})},u.title))})}function Xe(n,t){return n.find(e=>e.title===t)}var Q=require("@raycast/api");function ae(n){(0,Q.closeMainWindow)({clearRootSearch:!0,popToRootType:Q.PopToRootType.Immediate}),te(void 0,{title:n})}var Se=require("react/jsx-runtime");function ve(n){let[t,e]=(0,ee.useState)(n?.slug),{isLoading:r,data:a}=ge(),{isLoading:i,data:s}=me(t),{isLoading:l,data:o}=re(async()=>{try{return(await(0,xe.getFrontmostApplication)()).bundleId}catch{return}},[],{execute:!n?.slug});(0,ee.useEffect)(()=>{if(t||r||l)return;if(!o){ae("Could not detect the frontmost application");return}let d=a.find(u=>u.bundleId===o);if(!d){ae(`Shortcuts not available for application ${o}`);return}e(d.slug)},[o,l,t,a,r]);let g=r||i||!n?.slug&&l;return(0,Se.jsx)(we,{application:s,isLoading:g})}
