{
  "version": 3,
  "sources": ["../src/view.tsx"],
  "sourcesContent": ["import { Cache, showToast, Toast, List, Icon, Action, ActionPanel, confirmAlert } from \"@raycast/api\";\nimport { useState, useEffect } from \"react\";\nimport { Item } from \"./index\";\n\nconst cache = new Cache();\n\nexport default function View() {\n  const [items, setItems] = useState<Item[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n\n  useEffect(() => {\n    const cached = cache.get(\"items\");\n    const parsedItems: Item[] = cached ? JSON.parse(cached) : [];\n    setItems(parsedItems);\n    setIsLoading(false);\n  }, []);\n\n  const deleteItem = (index: number) => {\n    setItems((prevItems) => {\n      const updatedItems = prevItems.filter((_, i) => i !== index);\n      cache.set(\"items\", JSON.stringify(updatedItems));\n      return updatedItems;\n    });\n    showToast({\n      style: Toast.Style.Success,\n      title: \"Record Deleted\",\n      message: \"The selected record has been removed.\",\n    });\n  };\n\n  return (\n    <List isLoading={isLoading} navigationTitle=\"View Records\" searchBarPlaceholder=\"Search Information...\">\n      <List.Section title=\"Previous Records\">\n        {items.map((item, index) => (\n          <List.Item\n            key={index}\n            title={`$${item.price.toFixed(2)} for ${item.quantity}`}\n            subtitle={`${new Date(item.updateTime).toLocaleString()}`}\n            accessories={[\n              { text: `$${item.unitCost.toFixed(2)}/item` },\n              ...(item.unitSize !== undefined ? [{ text: `${item.perUnitSize?.toFixed(2)}/unit size` }] : []),\n            ]}\n            actions={\n              <ActionPanel>\n                <Action\n                  title=\"Delete Record\"\n                  icon={Icon.Trash}\n                  onAction={() => deleteItem(index)}\n                  style={Action.Style.Destructive}\n                />\n                <Action\n                  title=\"Clear All Records\"\n                  icon={Icon.Trash}\n                  style={Action.Style.Destructive}\n                  onAction={async () => {\n                    if (await confirmAlert({ title: \"Are you sure?\", rememberUserChoice: true })) {\n                      setItems([]); // Clear the items state\n                      cache.set(\"items\", JSON.stringify([])); // Clear the cache\n                      showToast({\n                        style: Toast.Style.Success,\n                        title: \"All Records Cleared\",\n                        message: \"All records have been removed.\",\n                      });\n                    } else {\n                      console.log(\"canceled\"); // Log cancellation\n                    }\n                  }}\n                />\n              </ActionPanel>\n            }\n          />\n        ))}\n      </List.Section>\n    </List>\n  );\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAuF,wBACvFC,EAAoC,iBA0CtBC,EAAA,6BAvCRC,EAAQ,IAAI,QAEH,SAARL,GAAwB,CAC7B,GAAM,CAACM,EAAOC,CAAQ,KAAI,YAAiB,CAAC,CAAC,EACvC,CAACC,EAAWC,CAAY,KAAI,YAAkB,EAAI,KAExD,aAAU,IAAM,CACd,IAAMC,EAASL,EAAM,IAAI,OAAO,EAC1BM,EAAsBD,EAAS,KAAK,MAAMA,CAAM,EAAI,CAAC,EAC3DH,EAASI,CAAW,EACpBF,EAAa,EAAK,CACpB,EAAG,CAAC,CAAC,EAEL,IAAMG,EAAcC,GAAkB,CACpCN,EAAUO,GAAc,CACtB,IAAMC,EAAeD,EAAU,OAAO,CAACE,EAAGC,IAAMA,IAAMJ,CAAK,EAC3D,OAAAR,EAAM,IAAI,QAAS,KAAK,UAAUU,CAAY,CAAC,EACxCA,CACT,CAAC,KACD,aAAU,CACR,MAAO,QAAM,MAAM,QACnB,MAAO,iBACP,QAAS,uCACX,CAAC,CACH,EAEA,SACE,OAAC,QAAK,UAAWP,EAAW,gBAAgB,eAAe,qBAAqB,wBAC9E,mBAAC,OAAK,QAAL,CAAa,MAAM,mBACjB,SAAAF,EAAM,IAAI,CAACY,EAAML,OAChB,OAAC,OAAK,KAAL,CAEC,MAAO,IAAIK,EAAK,MAAM,QAAQ,CAAC,CAAC,QAAQA,EAAK,QAAQ,GACrD,SAAU,GAAG,IAAI,KAAKA,EAAK,UAAU,EAAE,eAAe,CAAC,GACvD,YAAa,CACX,CAAE,KAAM,IAAIA,EAAK,SAAS,QAAQ,CAAC,CAAC,OAAQ,EAC5C,GAAIA,EAAK,WAAa,OAAY,CAAC,CAAE,KAAM,GAAGA,EAAK,aAAa,QAAQ,CAAC,CAAC,YAAa,CAAC,EAAI,CAAC,CAC/F,EACA,WACE,QAAC,eACC,oBAAC,UACC,MAAM,gBACN,KAAM,OAAK,MACX,SAAU,IAAMN,EAAWC,CAAK,EAChC,MAAO,SAAO,MAAM,YACtB,KACA,OAAC,UACC,MAAM,oBACN,KAAM,OAAK,MACX,MAAO,SAAO,MAAM,YACpB,SAAU,SAAY,CAChB,QAAM,gBAAa,CAAE,MAAO,gBAAiB,mBAAoB,EAAK,CAAC,GACzEN,EAAS,CAAC,CAAC,EACXF,EAAM,IAAI,QAAS,KAAK,UAAU,CAAC,CAAC,CAAC,KACrC,aAAU,CACR,MAAO,QAAM,MAAM,QACnB,MAAO,sBACP,QAAS,gCACX,CAAC,GAED,QAAQ,IAAI,UAAU,CAE1B,EACF,GACF,GAjCGQ,CAmCP,CACD,EACH,EACF,CAEJ",
  "names": ["view_exports", "__export", "View", "__toCommonJS", "import_api", "import_react", "import_jsx_runtime", "cache", "items", "setItems", "isLoading", "setIsLoading", "cached", "parsedItems", "deleteItem", "index", "prevItems", "updatedItems", "_", "i", "item"]
}
