"use strict";var d=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var g=Object.prototype.hasOwnProperty;var p=(o,t)=>{for(var c in t)d(o,c,{get:t[c],enumerable:!0})},I=(o,t,c,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of h(t))!g.call(o,r)&&r!==c&&d(o,r,{get:()=>t[r],enumerable:!(a=y(t,r))||a.enumerable});return o};var A=o=>I(d({},"__esModule",{value:!0}),o);var v={};p(v,{default:()=>f});module.exports=A(v);var e=require("@raycast/api"),l=require("react"),i=require("react/jsx-runtime"),m=new e.Cache;function f(){let[o,t]=(0,l.useState)([]),[c,a]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let s=m.get("items"),n=s?JSON.parse(s):[];t(n),a(!1)},[]);let r=s=>{t(n=>{let u=n.filter((L,S)=>S!==s);return m.set("items",JSON.stringify(u)),u}),(0,e.showToast)({style:e.Toast.Style.Success,title:"Record Deleted",message:"The selected record has been removed."})};return(0,i.jsx)(e.List,{isLoading:c,navigationTitle:"View Records",searchBarPlaceholder:"Search Information...",children:(0,i.jsx)(e.List.Section,{title:"Previous Records",children:o.map((s,n)=>(0,i.jsx)(e.List.Item,{title:`$${s.price.toFixed(2)} for ${s.quantity}`,subtitle:`${new Date(s.updateTime).toLocaleString()}`,accessories:[{text:`$${s.unitCost.toFixed(2)}/item`},...s.unitSize!==void 0?[{text:`${s.perUnitSize?.toFixed(2)}/unit size`}]:[]],actions:(0,i.jsxs)(e.ActionPanel,{children:[(0,i.jsx)(e.Action,{title:"Delete Record",icon:e.Icon.Trash,onAction:()=>r(n),style:e.Action.Style.Destructive}),(0,i.jsx)(e.Action,{title:"Clear All Records",icon:e.Icon.Trash,style:e.Action.Style.Destructive,onAction:async()=>{await(0,e.confirmAlert)({title:"Are you sure?",rememberUserChoice:!0})?(t([]),m.set("items",JSON.stringify([])),(0,e.showToast)({style:e.Toast.Style.Success,title:"All Records Cleared",message:"All records have been removed."})):console.log("canceled")}})]})},n))})})}
