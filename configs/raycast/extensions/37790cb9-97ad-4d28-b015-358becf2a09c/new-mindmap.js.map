{
  "version": 3,
  "sources": ["../src/new-mindmap.tsx", "../src/utils/checkInstall.ts"],
  "sourcesContent": ["import { closeMainWindow, open } from \"@raycast/api\";\nimport { checkMindnodeInstallation } from \"./utils/checkInstall\";\n\nexport default async function Command() {\n  const isInstalled = await checkMindnodeInstallation();\n  if (!isInstalled) {\n    return;\n  }\n\n  const url = \"mindnode://newDocument?type=mindMap\";\n  await closeMainWindow();\n  open(url);\n}\n", "import { getApplications, showToast, Toast, open } from \"@raycast/api\";\nimport { readdir } from \"fs/promises\";\n\n// \u65B0\u589E\u68C0\u67E5 Setapp \u76EE\u5F55\u7684\u51FD\u6570\nasync function isMindNodeInstalledInSetapp() {\n  const setappApplicationsPath = \"/Applications/Setapp\";\n  try {\n    const files = await readdir(setappApplicationsPath);\n    return files.some((file) => file.includes(\"MindNode\"));\n  } catch (error) {\n    console.error(\"Error reading Setapp applications directory:\", error);\n    return false;\n  }\n}\n\nasync function isMindNodeInstalled() {\n  const applications = await getApplications();\n  const isInstalledRegular = applications.some(\n    ({ bundleId }) =>\n      bundleId === \"com.ideasoncanvas.mindnode.macos-setapp\" || bundleId === \"com.ideasoncanvas.mindnode.macos\",\n  );\n  const isInstalledSetapp = await isMindNodeInstalledInSetapp();\n  return isInstalledRegular || isInstalledSetapp;\n}\n\nexport async function checkMindnodeInstallation(): Promise<boolean> {\n  const isInstalled = await isMindNodeInstalled();\n  if (!isInstalled) {\n    const options: Toast.Options = {\n      style: Toast.Style.Failure,\n      title: \"MindNode is not installed.\",\n      message: \"Check it more from: https://mindnode.com\",\n      primaryAction: {\n        title: \"Go to App Store\",\n        onAction: (toast) => {\n          open(\"https://apps.apple.com/app/apple-store/id1289197285?pt=14265&ct=web-main&mt=8\");\n          toast.hide();\n        },\n      },\n      secondaryAction: {\n        title: \"Go to Setapp\",\n        onAction: (toast) => {\n          open(\"https://setapp.com/apps/mindnode\");\n          toast.hide();\n        },\n      },\n    };\n\n    await showToast(options);\n  }\n  return isInstalled;\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAsC,wBCAtC,IAAAC,EAAwD,wBACxDC,EAAwB,uBAGxB,eAAeC,GAA8B,CAC3C,IAAMC,EAAyB,uBAC/B,GAAI,CAEF,OADc,QAAM,WAAQA,CAAsB,GACrC,KAAMC,GAASA,EAAK,SAAS,UAAU,CAAC,CACvD,OAASC,EAAO,CACd,eAAQ,MAAM,+CAAgDA,CAAK,EAC5D,EACT,CACF,CAEA,eAAeC,GAAsB,CAEnC,IAAMC,GADe,QAAM,mBAAgB,GACH,KACtC,CAAC,CAAE,SAAAC,CAAS,IACVA,IAAa,2CAA6CA,IAAa,kCAC3E,EACMC,EAAoB,MAAMP,EAA4B,EAC5D,OAAOK,GAAsBE,CAC/B,CAEA,eAAsBC,GAA8C,CAClE,IAAMC,EAAc,MAAML,EAAoB,EAC9C,GAAI,CAACK,EAAa,CAChB,IAAMC,EAAyB,CAC7B,MAAO,QAAM,MAAM,QACnB,MAAO,6BACP,QAAS,2CACT,cAAe,CACb,MAAO,kBACP,SAAWC,GAAU,IACnB,QAAK,+EAA+E,EACpFA,EAAM,KAAK,CACb,CACF,EACA,gBAAiB,CACf,MAAO,eACP,SAAWA,GAAU,IACnB,QAAK,kCAAkC,EACvCA,EAAM,KAAK,CACb,CACF,CACF,EAEA,QAAM,aAAUD,CAAO,CACzB,CACA,OAAOD,CACT,CDhDA,eAAOG,GAAiC,CAEtC,GAAI,CADgB,MAAMC,EAA0B,EAElD,OAGF,IAAMC,EAAM,sCACZ,QAAM,mBAAgB,KACtB,QAAKA,CAAG,CACV",
  "names": ["new_mindmap_exports", "__export", "Command", "__toCommonJS", "import_api", "import_api", "import_promises", "isMindNodeInstalledInSetapp", "setappApplicationsPath", "file", "error", "isMindNodeInstalled", "isInstalledRegular", "bundleId", "isInstalledSetapp", "checkMindnodeInstallation", "isInstalled", "options", "toast", "Command", "checkMindnodeInstallation", "url"]
}
