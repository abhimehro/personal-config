{
  "version": 3,
  "sources": ["../src/create-launch-agent.tsx", "../lib/plist.ts"],
  "sourcesContent": ["import { showToast, Toast } from \"@raycast/api\";\nimport { createLaunchAgent } from \"../lib/plist\";\n\nexport default function Command() {\n  try {\n    const fileName = createLaunchAgent();\n    showToast(Toast.Style.Success, \"File Created\", `Name: ${fileName}.plist`);\n  } catch (error) {\n    console.error(\"Error creating file:\", error);\n    showToast(Toast.Style.Failure, \"Error\", \"Failed to create the file.\");\n  }\n}\n", "import { execSync } from \"child_process\";\n\nexport const getLaunchAgentRecurrence = (filePath: string) => {\n  const plistContent = execSync(`cat ${filePath}`).toString();\n  const intervalMatch = plistContent.match(/<key>StartInterval<\\/key>\\s*<integer>(\\d+)<\\/integer>/);\n\n  if (intervalMatch) {\n    const seconds = parseInt(intervalMatch[1]);\n    if (seconds >= 3600) {\n      const hours = (seconds / 3600).toFixed(2);\n      return `Recurs every ${hours} hour${hours === \"1.00\" ? \"\" : \"s\"}`;\n    }\n    if (seconds >= 60) {\n      const minutes = (seconds / 60).toFixed(2);\n      return `Recurs every ${minutes} minute${minutes === \"1.00\" ? \"\" : \"s\"}`;\n    }\n    return `Recurs every ${seconds} second${seconds === 1 ? \"\" : \"s\"}`;\n  }\n\n  const calendarIntervalMatch = [...plistContent.matchAll(/<key>Weekday<\\/key>\\s*<integer>(\\d)<\\/integer>/g)];\n  if (calendarIntervalMatch.length > 0) {\n    const dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    const daysOfWeek = calendarIntervalMatch.map((match) => dayNames[parseInt(match[1])]);\n    return `Recurs on weekdays: ${daysOfWeek.join(\", \")}`;\n  }\n\n  return \"No recurrence information\";\n};\n\nexport const isLaunchAgentOK = (filePath: string) => {\n  try {\n    return execSync(`plutil -lint ${filePath}`).toString().includes(\"OK\");\n  } catch {\n    return false;\n  }\n};\n\nexport const isLaunchAgentLoaded = (filePath: string) => {\n  try {\n    const result = execSync(`launchctl list | grep $(basename ${filePath} .plist)`, { stdio: \"pipe\" });\n    return result.toString().trim() !== \"\";\n  } catch {\n    return false;\n  }\n};\n\nexport const loadLaunchAgent = (filePath: string) => {\n  try {\n    execSync(`launchctl load ${filePath}`);\n  } catch (error) {\n    console.error(\"Error loading file:\", error);\n  }\n};\n\nexport const unloadLaunchAgent = (filePath: string) => {\n  try {\n    execSync(`launchctl unload ${filePath}`);\n  } catch (error) {\n    console.error(\"Error unloading file:\", error);\n  }\n};\n\nexport const createLaunchAgent = () => {\n  const userLaunchAgentsPath = \"~/Library/LaunchAgents\";\n  const fileName = `com.raycast.${Math.random()}`;\n\n  execSync(`mkdir -p ${userLaunchAgentsPath}`);\n  execSync(`touch ${userLaunchAgentsPath}/${fileName}.plist`);\n\n  return fileName;\n};\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAiC,wBCAjC,IAAAC,EAAyB,yBA8DlB,IAAMC,EAAoB,IAAM,CACrC,IAAMC,EAAuB,yBACvBC,EAAW,eAAe,KAAK,OAAO,CAAC,GAE7C,qBAAS,YAAYD,CAAoB,EAAE,KAC3C,YAAS,SAASA,CAAoB,IAAIC,CAAQ,QAAQ,EAEnDA,CACT,EDnEe,SAARC,GAA2B,CAChC,GAAI,CACF,IAAMC,EAAWC,EAAkB,KACnC,aAAU,QAAM,MAAM,QAAS,eAAgB,SAASD,CAAQ,QAAQ,CAC1E,OAASE,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,KAC3C,aAAU,QAAM,MAAM,QAAS,QAAS,4BAA4B,CACtE,CACF",
  "names": ["create_launch_agent_exports", "__export", "Command", "__toCommonJS", "import_api", "import_child_process", "createLaunchAgent", "userLaunchAgentsPath", "fileName", "Command", "fileName", "createLaunchAgent", "error"]
}
