{
  "version": 3,
  "sources": ["../../src/tools/run-bash.ts"],
  "sourcesContent": ["import { exec } from \"child_process\";\nimport { Tool } from \"@raycast/api\";\n\ntype Input = {\n  /**\n   * The Bash code to solve the user's request.\n   */\n  code: string;\n};\n\n/**\n * Write code in Bash to solve the user's request.\n */\nexport default async function (input: Input) {\n  return new Promise((resolve, reject) => {\n    exec(\n      `export PATH=\"$($SHELL -l -i -c 'echo -e \"\\n\"PATH=\"$PATH:$PATH\"\"\\n\"' 2>/dev/null | grep \"^PATH=\" | cut -d'=' -f2)\"; ${input.code.replace(/\"/g, '\\\\\"')}`,\n      { env: process.env },\n      (error, stdout, stderr) => {\n        if (error) {\n          reject(`Error: ${stderr}`);\n        } else {\n          resolve(stdout.trim());\n        }\n      },\n    );\n  });\n}\n\nexport const confirmation: Tool.Confirmation<Input> = async (input: Input) => {\n  return {\n    message: \"Allow this Bash code to run?\\n```bash\\n\" + input.code + \"\\n```\",\n  };\n};\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,kBAAAE,EAAA,YAAAC,IAAA,eAAAC,EAAAJ,GAAA,IAAAK,EAAqB,yBAarB,eAAOF,EAAwBG,EAAc,CAC3C,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,IACtC,QACE;AAAA;AAAA,oDAAsHF,EAAM,KAAK,QAAQ,KAAM,KAAK,CAAC,GACrJ,CAAE,IAAK,QAAQ,GAAI,EACnB,CAACG,EAAOC,EAAQC,IAAW,CACrBF,EACFD,EAAO,UAAUG,CAAM,EAAE,EAEzBJ,EAAQG,EAAO,KAAK,CAAC,CAEzB,CACF,CACF,CAAC,CACH,CAEO,IAAMR,EAAyC,MAAOI,IACpD,CACL,QAAS,0CAA4CA,EAAM,KAAO,OACpE",
  "names": ["run_bash_exports", "__export", "confirmation", "run_bash_default", "__toCommonJS", "import_child_process", "input", "resolve", "reject", "error", "stdout", "stderr"]
}
