"use strict";var a=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var A=(e,o)=>{for(var n in o)a(e,n,{get:o[n],enumerable:!0})},B=(e,o,n,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of q(o))!T.call(e,t)&&t!==n&&a(e,t,{get:()=>o[t],enumerable:!(l=y(o,t))||l.enumerable});return e};var C=e=>B(a({},"__esModule",{value:!0}),e);var v={};A(v,{default:()=>j});module.exports=C(v);var d=require("@raycast/api");var I=require("child_process");var s=require("child_process");function k(){let{stdout:e}=(0,s.spawnSync)("defaults",["read","com.apple.WindowManager","StandardHideWidgets"],{encoding:"utf-8"});return e.trim()==="0"}function D(){(0,s.spawnSync)("defaults",["write","com.apple.WindowManager","StandardHideWidgets","-bool","true"])}function w(){(0,s.spawnSync)("defaults",["write","com.apple.WindowManager","StandardHideWidgets","-bool","false"])}var i=require("child_process");function g(){let{stdout:e}=(0,i.spawnSync)("defaults",["read","com.apple.WindowManager","StandardHideWidgets"],{encoding:"utf-8"});return e.trim()==="0"}function m(){(0,i.spawnSync)("defaults",["write","com.apple.WindowManager","StandardHideWidgets","-bool","true"])}function W(){(0,i.spawnSync)("defaults",["write","com.apple.WindowManager","StandardHideWidgets","-bool","false"])}var r=require("child_process");function h(){let{stdout:e}=(0,r.spawnSync)("defaults",["read","com.apple.WindowManager","StandardHideWidgets"],{encoding:"utf-8"});return e.trim()==="0"}function S(){(0,r.spawnSync)("defaults",["write","com.apple.WindowManager","StandardHideWidgets","-bool","true"])}function H(){(0,r.spawnSync)("defaults",["write","com.apple.WindowManager","StandardHideWidgets","-bool","false"])}function p(){let{stdout:e}=(0,I.spawnSync)("sw_vers",["-productVersion"],{encoding:"utf-8"});return parseInt(e.trim().split(".")[0])}function c(){return p()===14}function f(){return p()===15}function u(){return p()===26}function x(){if(u())return h();if(f())return g();if(c())return k();throw new Error("Not supported on Monterey and before")}function M(){if(u())S();else if(f())m();else if(c())D();else throw new Error("Not supported on Monterey and before")}function b(){if(u())H();else if(f())W();else if(c())w();else throw new Error("Not supported on Monterey and before")}async function j(){try{x()?(M(),await(0,d.showHUD)("Desktop Widgets Hidden")):(b(),await(0,d.showHUD)("Desktop Widgets Visible"))}catch(e){await(0,d.showHUD)(e)}}
