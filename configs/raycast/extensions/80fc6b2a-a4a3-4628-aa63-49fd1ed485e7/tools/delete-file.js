"use strict";var i=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var w=(e,t)=>{for(var n in t)i(e,n,{get:t[n],enumerable:!0})},P=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of h(t))!m.call(e,o)&&o!==n&&i(e,o,{get:()=>t[o],enumerable:!(s=p(t,o))||s.enumerable});return e};var E=e=>P(i({},"__esModule",{value:!0}),e);var g={};w(g,{confirmation:()=>x,default:()=>y});module.exports=E(g);var d=require("@raycast/api");var a=require("@raycast/api"),r=require("node:path"),v=()=>{let e=(0,a.getPreferenceValues)();if(!e.workspaceRoot)throw new Error("Workspace root directory is not configured. Please set it in the extension preferences.");return(0,r.resolve)(e.workspaceRoot)},l=()=>(0,a.getPreferenceValues)().autoEdit===!0,c=e=>{if(!e)throw new Error("Path is required");let t=v(),n=(0,r.resolve)(t,e),s=(0,r.resolve)(t),o=(0,r.resolve)(n),u=(0,r.relative)(s,o);if(u.startsWith("..")||u==="..")throw new Error(`Path "${e}" is outside the configured workspace root "${t}". All file operations must be within the workspace root directory.`);return o};var f=require("node:fs");async function x({path:e}){if(l())return;let t=c(e);if(!(0,f.existsSync)(t))throw new Error(`File does not exist: ${e}`);return{message:"Are you sure you want to move this file to trash?",info:[{name:"File Path",value:e},{name:"Action",value:"Move to Trash"}]}}async function y({path:e}){let t=c(e);if(!(0,f.existsSync)(t))throw new Error(`File does not exist: ${e}`);return await(0,d.trash)(t),{success:!0,message:`Successfully deleted file: ${e}`}}0&&(module.exports={confirmation});
