{
  "version": 3,
  "sources": ["../../src/tools/read-file.ts", "../../src/utils/workspace.ts"],
  "sourcesContent": ["import { readFile } from \"node:fs/promises\";\nimport { resolveAndValidatePath } from \"../utils/workspace\";\n\ntype Input = {\n  /**\n   * The relative path to the file from the workspace root\n   */\n  path: string;\n};\n\nexport default async function ({ path }: Input) {\n  const filePath = resolveAndValidatePath(path);\n  const content = await readFile(filePath, \"utf8\");\n\n  return content;\n}\n", "import { getPreferenceValues } from \"@raycast/api\";\nimport { resolve, relative } from \"node:path\";\n\nexport const getWorkspaceRoot = () => {\n  const preferences = getPreferenceValues<Preferences>();\n\n  if (!preferences.workspaceRoot) {\n    throw new Error(\"Workspace root directory is not configured. Please set it in the extension preferences.\");\n  }\n\n  return resolve(preferences.workspaceRoot);\n};\n\nexport const isAutoEditEnabled = () => {\n  const preferences = getPreferenceValues<Preferences>();\n  return preferences.autoEdit === true;\n};\n\nexport const resolveAndValidatePath = (userPath: string) => {\n  if (!userPath) {\n    throw new Error(\"Path is required\");\n  }\n\n  const workspaceRoot = getWorkspaceRoot();\n\n  const absolutePath = resolve(workspaceRoot, userPath);\n\n  const normalizedWorkspaceRoot = resolve(workspaceRoot);\n  const normalizedAbsolutePath = resolve(absolutePath);\n\n  const relativePath = relative(normalizedWorkspaceRoot, normalizedAbsolutePath);\n\n  if (relativePath.startsWith(\"..\") || relativePath === \"..\") {\n    throw new Error(\n      `Path \"${userPath}\" is outside the configured workspace root \"${workspaceRoot}\". ` +\n        \"All file operations must be within the workspace root directory.\",\n    );\n  }\n\n  return normalizedAbsolutePath;\n};\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAyB,4BCAzB,IAAAC,EAAoC,wBACpCC,EAAkC,qBAErBC,EAAmB,IAAM,CACpC,IAAMC,KAAc,uBAAiC,EAErD,GAAI,CAACA,EAAY,cACf,MAAM,IAAI,MAAM,yFAAyF,EAG3G,SAAO,WAAQA,EAAY,aAAa,CAC1C,EAOO,IAAMC,EAA0BC,GAAqB,CAC1D,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,kBAAkB,EAGpC,IAAMC,EAAgBC,EAAiB,EAEjCC,KAAe,WAAQF,EAAeD,CAAQ,EAE9CI,KAA0B,WAAQH,CAAa,EAC/CI,KAAyB,WAAQF,CAAY,EAE7CG,KAAe,YAASF,EAAyBC,CAAsB,EAE7E,GAAIC,EAAa,WAAW,IAAI,GAAKA,IAAiB,KACpD,MAAM,IAAI,MACR,SAASN,CAAQ,+CAA+CC,CAAa,qEAE/E,EAGF,OAAOI,CACT,ED9BA,eAAOE,EAAwB,CAAE,KAAAC,CAAK,EAAU,CAC9C,IAAMC,EAAWC,EAAuBF,CAAI,EAG5C,OAFgB,QAAM,YAASC,EAAU,MAAM,CAGjD",
  "names": ["read_file_exports", "__export", "read_file_default", "__toCommonJS", "import_promises", "import_api", "import_node_path", "getWorkspaceRoot", "preferences", "resolveAndValidatePath", "userPath", "workspaceRoot", "getWorkspaceRoot", "absolutePath", "normalizedWorkspaceRoot", "normalizedAbsolutePath", "relativePath", "read_file_default", "path", "filePath", "resolveAndValidatePath"]
}
