"use strict";var x=Object.create;var n=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var Z=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty;var v=(t,e)=>{for(var r in e)n(t,r,{get:e[r],enumerable:!0})},m=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of F(e))!z.call(t,s)&&s!==r&&n(t,s,{get:()=>e[s],enumerable:!(o=A(e,s))||o.enumerable});return t};var p=(t,e,r)=>(r=t!=null?x(Z(t)):{},m(e||!t||!t.__esModule?n(r,"default",{value:t,enumerable:!0}):r,t)),P=t=>m(n({},"__esModule",{value:!0}),t);var I={};v(I,{default:()=>B});module.exports=P(I);var i=require("@raycast/api");var u=p(require("node:process"),1),h=require("node:util"),c=require("node:child_process"),b=(0,h.promisify)(c.execFile);async function f(t,{humanReadableOutput:e=!0}={}){if(u.default.platform!=="darwin")throw new Error("macOS only");let r=e?[]:["-ss"],{stdout:o}=await b("osascript",["-e",t,r]);return o.trim()}var g=async t=>{try{let r=`tell application "BetterZip"
    set archFiles to {${t.map(o=>`"${o}"`).join(",")}}
    queued unarchive archFiles with options {destination:original} show ui true
end tell`;await f(r)}catch(e){console.error(String(e))}};var l=p(require("fs")),a=require("@raycast/api"),d=()=>{try{return l.existsSync("/Applications/BetterZip.app")||l.existsSync("/Applications/Setapp/BetterZip.app")}catch(t){return console.error(String(t)),!1}},y=async()=>{await(0,a.confirmAlert)({icon:{source:"betterzip-icon.png"},title:"BetterZip Not Installed",message:"BetterZip is not installed on your Mac. Please install BetterZip to use this command.",primaryAction:{title:"Get BetterZip",onAction:()=>{(0,a.open)("https://macitbetter.com")}}})};var S=p(require("path"));var w=[".zip",".tar",".tgz",".tbz",".txz",".tzst",".tbr",".tz",".sevenzip",".xar",".rar ",".dmg",".iso",".nupkg",".gz",".7z"];var B=async()=>{try{if(!d()){await y();return}await(0,i.closeMainWindow)({clearRootSearch:!1});let t=await(0,i.getSelectedFinderItems)();if(t.length===0){await(0,i.showToast)({title:"No archives selected",style:i.Toast.Style.Failure});return}let e=[];if(t.forEach(r=>{let o=S.default.extname(r.path);w.includes(o)&&e.push(r.path)}),e.length===0){await(0,i.showToast)({title:"No archives selected",style:i.Toast.Style.Failure});return}await g(e)}catch(t){console.error(String(t)),await(0,i.showToast)({title:String(t),style:i.Toast.Style.Failure})}};
