"use strict";var Cn=Object.create;var ce=Object.defineProperty;var Nn=Object.getOwnPropertyDescriptor;var _n=Object.getOwnPropertyNames;var Un=Object.getPrototypeOf,Dn=Object.prototype.hasOwnProperty;var g=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Fn=(r,e)=>{for(var t in e)ce(r,t,{get:e[t],enumerable:!0})},ot=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of _n(e))!Dn.call(r,s)&&s!==t&&ce(r,s,{get:()=>e[s],enumerable:!(n=Nn(e,s))||n.enumerable});return r};var B=(r,e,t)=>(t=r!=null?Cn(Un(r)):{},ot(e||!r||!r.__esModule?ce(t,"default",{value:r,enumerable:!0}):t,r)),Mn=r=>ot(ce({},"__esModule",{value:!0}),r);var Q=g((tc,Ut)=>{"use strict";var bs="2.0.0",ys=Number.MAX_SAFE_INTEGER||9007199254740991,ws=16,Es=250,ks=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Ut.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ws,MAX_SAFE_BUILD_LENGTH:Es,MAX_SAFE_INTEGER:ys,RELEASE_TYPES:ks,SEMVER_SPEC_VERSION:bs,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ee=g((rc,Dt)=>{"use strict";var Ss=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Dt.exports=Ss});var Y=g((F,Ft)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Fe,MAX_SAFE_BUILD_LENGTH:xs,MAX_LENGTH:Rs}=Q(),vs=ee();F=Ft.exports={};var Is=F.re=[],As=F.safeRe=[],d=F.src=[],Ts=F.safeSrc=[],h=F.t={},Os=0,Me="[a-zA-Z0-9-]",Ls=[["\\s",1],["\\d",Rs],[Me,xs]],Ps=r=>{for(let[e,t]of Ls)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},$=(r,e,t)=>{let n=Ps(e),s=Os++;vs(r,s,e),h[r]=s,d[s]=e,Ts[s]=n,Is[s]=new RegExp(e,t?"g":void 0),As[s]=new RegExp(n,t?"g":void 0)};$("NUMERICIDENTIFIER","0|[1-9]\\d*");$("NUMERICIDENTIFIERLOOSE","\\d+");$("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Me}*`);$("MAINVERSION",`(${d[h.NUMERICIDENTIFIER]})\\.(${d[h.NUMERICIDENTIFIER]})\\.(${d[h.NUMERICIDENTIFIER]})`);$("MAINVERSIONLOOSE",`(${d[h.NUMERICIDENTIFIERLOOSE]})\\.(${d[h.NUMERICIDENTIFIERLOOSE]})\\.(${d[h.NUMERICIDENTIFIERLOOSE]})`);$("PRERELEASEIDENTIFIER",`(?:${d[h.NONNUMERICIDENTIFIER]}|${d[h.NUMERICIDENTIFIER]})`);$("PRERELEASEIDENTIFIERLOOSE",`(?:${d[h.NONNUMERICIDENTIFIER]}|${d[h.NUMERICIDENTIFIERLOOSE]})`);$("PRERELEASE",`(?:-(${d[h.PRERELEASEIDENTIFIER]}(?:\\.${d[h.PRERELEASEIDENTIFIER]})*))`);$("PRERELEASELOOSE",`(?:-?(${d[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[h.PRERELEASEIDENTIFIERLOOSE]})*))`);$("BUILDIDENTIFIER",`${Me}+`);$("BUILD",`(?:\\+(${d[h.BUILDIDENTIFIER]}(?:\\.${d[h.BUILDIDENTIFIER]})*))`);$("FULLPLAIN",`v?${d[h.MAINVERSION]}${d[h.PRERELEASE]}?${d[h.BUILD]}?`);$("FULL",`^${d[h.FULLPLAIN]}$`);$("LOOSEPLAIN",`[v=\\s]*${d[h.MAINVERSIONLOOSE]}${d[h.PRERELEASELOOSE]}?${d[h.BUILD]}?`);$("LOOSE",`^${d[h.LOOSEPLAIN]}$`);$("GTLT","((?:<|>)?=?)");$("XRANGEIDENTIFIERLOOSE",`${d[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);$("XRANGEIDENTIFIER",`${d[h.NUMERICIDENTIFIER]}|x|X|\\*`);$("XRANGEPLAIN",`[v=\\s]*(${d[h.XRANGEIDENTIFIER]})(?:\\.(${d[h.XRANGEIDENTIFIER]})(?:\\.(${d[h.XRANGEIDENTIFIER]})(?:${d[h.PRERELEASE]})?${d[h.BUILD]}?)?)?`);$("XRANGEPLAINLOOSE",`[v=\\s]*(${d[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[h.XRANGEIDENTIFIERLOOSE]})(?:${d[h.PRERELEASELOOSE]})?${d[h.BUILD]}?)?)?`);$("XRANGE",`^${d[h.GTLT]}\\s*${d[h.XRANGEPLAIN]}$`);$("XRANGELOOSE",`^${d[h.GTLT]}\\s*${d[h.XRANGEPLAINLOOSE]}$`);$("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Fe}})(?:\\.(\\d{1,${Fe}}))?(?:\\.(\\d{1,${Fe}}))?`);$("COERCE",`${d[h.COERCEPLAIN]}(?:$|[^\\d])`);$("COERCEFULL",d[h.COERCEPLAIN]+`(?:${d[h.PRERELEASE]})?(?:${d[h.BUILD]})?(?:$|[^\\d])`);$("COERCERTL",d[h.COERCE],!0);$("COERCERTLFULL",d[h.COERCEFULL],!0);$("LONETILDE","(?:~>?)");$("TILDETRIM",`(\\s*)${d[h.LONETILDE]}\\s+`,!0);F.tildeTrimReplace="$1~";$("TILDE",`^${d[h.LONETILDE]}${d[h.XRANGEPLAIN]}$`);$("TILDELOOSE",`^${d[h.LONETILDE]}${d[h.XRANGEPLAINLOOSE]}$`);$("LONECARET","(?:\\^)");$("CARETTRIM",`(\\s*)${d[h.LONECARET]}\\s+`,!0);F.caretTrimReplace="$1^";$("CARET",`^${d[h.LONECARET]}${d[h.XRANGEPLAIN]}$`);$("CARETLOOSE",`^${d[h.LONECARET]}${d[h.XRANGEPLAINLOOSE]}$`);$("COMPARATORLOOSE",`^${d[h.GTLT]}\\s*(${d[h.LOOSEPLAIN]})$|^$`);$("COMPARATOR",`^${d[h.GTLT]}\\s*(${d[h.FULLPLAIN]})$|^$`);$("COMPARATORTRIM",`(\\s*)${d[h.GTLT]}\\s*(${d[h.LOOSEPLAIN]}|${d[h.XRANGEPLAIN]})`,!0);F.comparatorTrimReplace="$1$2$3";$("HYPHENRANGE",`^\\s*(${d[h.XRANGEPLAIN]})\\s+-\\s+(${d[h.XRANGEPLAIN]})\\s*$`);$("HYPHENRANGELOOSE",`^\\s*(${d[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[h.XRANGEPLAINLOOSE]})\\s*$`);$("STAR","(<|>)?=?\\s*\\*");$("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");$("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ge=g((nc,Mt)=>{"use strict";var Cs=Object.freeze({loose:!0}),Ns=Object.freeze({}),_s=r=>r?typeof r!="object"?Cs:r:Ns;Mt.exports=_s});var Ve=g((sc,Bt)=>{"use strict";var Vt=/^[0-9]+$/,jt=(r,e)=>{if(typeof r=="number"&&typeof e=="number")return r===e?0:r<e?-1:1;let t=Vt.test(r),n=Vt.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},Us=(r,e)=>jt(e,r);Bt.exports={compareIdentifiers:jt,rcompareIdentifiers:Us}});var R=g((ac,Wt)=>{"use strict";var $e=ee(),{MAX_LENGTH:qt,MAX_SAFE_INTEGER:be}=Q(),{safeRe:ye,t:we}=Y(),Ds=ge(),{compareIdentifiers:je}=Ve(),Be=class r{constructor(e,t){if(t=Ds(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>qt)throw new TypeError(`version is longer than ${qt} characters`);$e("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?ye[we.LOOSE]:ye[we.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>be||this.major<0)throw new TypeError("Invalid major version");if(this.minor>be||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>be||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<be)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if($e("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if($e("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return je(n,s)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if($e("build compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return je(n,s)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let s=`-${t}`.match(this.options.loose?ye[we.PRERELEASELOOSE]:ye[we.PRERELEASE]);if(!s||s[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let a=[t,s];n===!1&&(a=[t]),je(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Wt.exports=Be});var W=g((ic,Gt)=>{"use strict";var zt=R(),Fs=(r,e,t=!1)=>{if(r instanceof zt)return r;try{return new zt(r,e)}catch(n){if(!t)return null;throw n}};Gt.exports=Fs});var Ht=g((oc,Kt)=>{"use strict";var Ms=W(),Vs=(r,e)=>{let t=Ms(r,e);return t?t.version:null};Kt.exports=Vs});var Jt=g((cc,Xt)=>{"use strict";var js=W(),Bs=(r,e)=>{let t=js(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Xt.exports=Bs});var Qt=g((lc,Yt)=>{"use strict";var Zt=R(),qs=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new Zt(r instanceof Zt?r.version:r,t).inc(e,n,s).version}catch{return null}};Yt.exports=qs});var rr=g((uc,tr)=>{"use strict";var er=W(),Ws=(r,e)=>{let t=er(r,null,!0),n=er(e,null,!0),s=t.compare(n);if(s===0)return null;let a=s>0,i=a?t:n,c=a?n:t,o=!!i.prerelease.length;if(!!c.prerelease.length&&!o){if(!c.patch&&!c.minor)return"major";if(c.compareMain(i)===0)return c.minor&&!c.patch?"minor":"patch"}let f=o?"pre":"";return t.major!==n.major?f+"major":t.minor!==n.minor?f+"minor":t.patch!==n.patch?f+"patch":"prerelease"};tr.exports=Ws});var sr=g((fc,nr)=>{"use strict";var zs=R(),Gs=(r,e)=>new zs(r,e).major;nr.exports=Gs});var ir=g((dc,ar)=>{"use strict";var Ks=R(),Hs=(r,e)=>new Ks(r,e).minor;ar.exports=Hs});var cr=g((hc,or)=>{"use strict";var Xs=R(),Js=(r,e)=>new Xs(r,e).patch;or.exports=Js});var ur=g((pc,lr)=>{"use strict";var Zs=W(),Ys=(r,e)=>{let t=Zs(r,e);return t&&t.prerelease.length?t.prerelease:null};lr.exports=Ys});var _=g((mc,dr)=>{"use strict";var fr=R(),Qs=(r,e,t)=>new fr(r,t).compare(new fr(e,t));dr.exports=Qs});var pr=g((gc,hr)=>{"use strict";var ea=_(),ta=(r,e,t)=>ea(e,r,t);hr.exports=ta});var gr=g(($c,mr)=>{"use strict";var ra=_(),na=(r,e)=>ra(r,e,!0);mr.exports=na});var Ee=g((bc,br)=>{"use strict";var $r=R(),sa=(r,e,t)=>{let n=new $r(r,t),s=new $r(e,t);return n.compare(s)||n.compareBuild(s)};br.exports=sa});var wr=g((yc,yr)=>{"use strict";var aa=Ee(),ia=(r,e)=>r.sort((t,n)=>aa(t,n,e));yr.exports=ia});var kr=g((wc,Er)=>{"use strict";var oa=Ee(),ca=(r,e)=>r.sort((t,n)=>oa(n,t,e));Er.exports=ca});var te=g((Ec,Sr)=>{"use strict";var la=_(),ua=(r,e,t)=>la(r,e,t)>0;Sr.exports=ua});var ke=g((kc,xr)=>{"use strict";var fa=_(),da=(r,e,t)=>fa(r,e,t)<0;xr.exports=da});var qe=g((Sc,Rr)=>{"use strict";var ha=_(),pa=(r,e,t)=>ha(r,e,t)===0;Rr.exports=pa});var We=g((xc,vr)=>{"use strict";var ma=_(),ga=(r,e,t)=>ma(r,e,t)!==0;vr.exports=ga});var Se=g((Rc,Ir)=>{"use strict";var $a=_(),ba=(r,e,t)=>$a(r,e,t)>=0;Ir.exports=ba});var xe=g((vc,Ar)=>{"use strict";var ya=_(),wa=(r,e,t)=>ya(r,e,t)<=0;Ar.exports=wa});var ze=g((Ic,Tr)=>{"use strict";var Ea=qe(),ka=We(),Sa=te(),xa=Se(),Ra=ke(),va=xe(),Ia=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Ea(r,t,n);case"!=":return ka(r,t,n);case">":return Sa(r,t,n);case">=":return xa(r,t,n);case"<":return Ra(r,t,n);case"<=":return va(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Tr.exports=Ia});var Lr=g((Ac,Or)=>{"use strict";var Aa=R(),Ta=W(),{safeRe:Re,t:ve}=Y(),Oa=(r,e)=>{if(r instanceof Aa)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?Re[ve.COERCEFULL]:Re[ve.COERCE]);else{let o=e.includePrerelease?Re[ve.COERCERTLFULL]:Re[ve.COERCERTL],u;for(;(u=o.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||u.index+u[0].length!==t.index+t[0].length)&&(t=u),o.lastIndex=u.index+u[1].length+u[2].length;o.lastIndex=-1}if(t===null)return null;let n=t[2],s=t[3]||"0",a=t[4]||"0",i=e.includePrerelease&&t[5]?`-${t[5]}`:"",c=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Ta(`${n}.${s}.${a}${i}${c}`,e)};Or.exports=Oa});var Cr=g((Tc,Pr)=>{"use strict";var Ge=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,t)}return this}};Pr.exports=Ge});var U=g((Oc,Dr)=>{"use strict";var La=/\s+/g,Ke=class r{constructor(e,t){if(t=Ca(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof He)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(La," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!_r(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Va(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Fa)|(this.options.loose&&Ma))+":"+e,s=Nr.get(n);if(s)return s;let a=this.options.loose,i=a?A[v.HYPHENRANGELOOSE]:A[v.HYPHENRANGE];e=e.replace(i,Ja(this.options.includePrerelease)),k("hyphen replace",e),e=e.replace(A[v.COMPARATORTRIM],_a),k("comparator trim",e),e=e.replace(A[v.TILDETRIM],Ua),k("tilde trim",e),e=e.replace(A[v.CARETTRIM],Da),k("caret trim",e);let c=e.split(" ").map(l=>ja(l,this.options)).join(" ").split(/\s+/).map(l=>Xa(l,this.options));a&&(c=c.filter(l=>(k("loose invalid filter",l,this.options),!!l.match(A[v.COMPARATORLOOSE])))),k("range list",c);let o=new Map,u=c.map(l=>new He(l,this.options));for(let l of u){if(_r(l))return[l];o.set(l.value,l)}o.size>1&&o.has("")&&o.delete("");let f=[...o.values()];return Nr.set(n,f),f}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>Ur(n,t)&&e.set.some(s=>Ur(s,t)&&n.every(a=>s.every(i=>a.intersects(i,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Na(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Za(this.set[t],e,this.options))return!0;return!1}};Dr.exports=Ke;var Pa=Cr(),Nr=new Pa,Ca=ge(),He=re(),k=ee(),Na=R(),{safeRe:A,t:v,comparatorTrimReplace:_a,tildeTrimReplace:Ua,caretTrimReplace:Da}=Y(),{FLAG_INCLUDE_PRERELEASE:Fa,FLAG_LOOSE:Ma}=Q(),_r=r=>r.value==="<0.0.0-0",Va=r=>r.value==="",Ur=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(a=>s.intersects(a,e)),s=n.pop();return t},ja=(r,e)=>(r=r.replace(A[v.BUILD],""),k("comp",r,e),r=Wa(r,e),k("caret",r),r=Ba(r,e),k("tildes",r),r=Ga(r,e),k("xrange",r),r=Ha(r,e),k("stars",r),r),T=r=>!r||r.toLowerCase()==="x"||r==="*",Ba=(r,e)=>r.trim().split(/\s+/).map(t=>qa(t,e)).join(" "),qa=(r,e)=>{let t=e.loose?A[v.TILDELOOSE]:A[v.TILDE];return r.replace(t,(n,s,a,i,c)=>{k("tilde",r,n,s,a,i,c);let o;return T(s)?o="":T(a)?o=`>=${s}.0.0 <${+s+1}.0.0-0`:T(i)?o=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:c?(k("replaceTilde pr",c),o=`>=${s}.${a}.${i}-${c} <${s}.${+a+1}.0-0`):o=`>=${s}.${a}.${i} <${s}.${+a+1}.0-0`,k("tilde return",o),o})},Wa=(r,e)=>r.trim().split(/\s+/).map(t=>za(t,e)).join(" "),za=(r,e)=>{k("caret",r,e);let t=e.loose?A[v.CARETLOOSE]:A[v.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,a,i,c,o)=>{k("caret",r,s,a,i,c,o);let u;return T(a)?u="":T(i)?u=`>=${a}.0.0${n} <${+a+1}.0.0-0`:T(c)?a==="0"?u=`>=${a}.${i}.0${n} <${a}.${+i+1}.0-0`:u=`>=${a}.${i}.0${n} <${+a+1}.0.0-0`:o?(k("replaceCaret pr",o),a==="0"?i==="0"?u=`>=${a}.${i}.${c}-${o} <${a}.${i}.${+c+1}-0`:u=`>=${a}.${i}.${c}-${o} <${a}.${+i+1}.0-0`:u=`>=${a}.${i}.${c}-${o} <${+a+1}.0.0-0`):(k("no pr"),a==="0"?i==="0"?u=`>=${a}.${i}.${c}${n} <${a}.${i}.${+c+1}-0`:u=`>=${a}.${i}.${c}${n} <${a}.${+i+1}.0-0`:u=`>=${a}.${i}.${c} <${+a+1}.0.0-0`),k("caret return",u),u})},Ga=(r,e)=>(k("replaceXRanges",r,e),r.split(/\s+/).map(t=>Ka(t,e)).join(" ")),Ka=(r,e)=>{r=r.trim();let t=e.loose?A[v.XRANGELOOSE]:A[v.XRANGE];return r.replace(t,(n,s,a,i,c,o)=>{k("xRange",r,n,s,a,i,c,o);let u=T(a),f=u||T(i),l=f||T(c),m=l;return s==="="&&m&&(s=""),o=e.includePrerelease?"-0":"",u?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&m?(f&&(i=0),c=0,s===">"?(s=">=",f?(a=+a+1,i=0,c=0):(i=+i+1,c=0)):s==="<="&&(s="<",f?a=+a+1:i=+i+1),s==="<"&&(o="-0"),n=`${s+a}.${i}.${c}${o}`):f?n=`>=${a}.0.0${o} <${+a+1}.0.0-0`:l&&(n=`>=${a}.${i}.0${o} <${a}.${+i+1}.0-0`),k("xRange return",n),n})},Ha=(r,e)=>(k("replaceStars",r,e),r.trim().replace(A[v.STAR],"")),Xa=(r,e)=>(k("replaceGTE0",r,e),r.trim().replace(A[e.includePrerelease?v.GTE0PRE:v.GTE0],"")),Ja=r=>(e,t,n,s,a,i,c,o,u,f,l,m)=>(T(n)?t="":T(s)?t=`>=${n}.0.0${r?"-0":""}`:T(a)?t=`>=${n}.${s}.0${r?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,T(u)?o="":T(f)?o=`<${+u+1}.0.0-0`:T(l)?o=`<${u}.${+f+1}.0-0`:m?o=`<=${u}.${f}.${l}-${m}`:r?o=`<${u}.${f}.${+l+1}-0`:o=`<=${o}`,`${t} ${o}`.trim()),Za=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(k(r[n].semver),r[n].semver!==He.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var re=g((Lc,qr)=>{"use strict";var ne=Symbol("SemVer ANY"),Ze=class r{static get ANY(){return ne}constructor(e,t){if(t=Fr(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Je("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ne?this.value="":this.value=this.operator+this.semver.version,Je("comp",this)}parse(e){let t=this.options.loose?Mr[Vr.COMPARATORLOOSE]:Mr[Vr.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new jr(n[2],this.options.loose):this.semver=ne}toString(){return this.value}test(e){if(Je("Comparator.test",e,this.options.loose),this.semver===ne||e===ne)return!0;if(typeof e=="string")try{e=new jr(e,this.options)}catch{return!1}return Xe(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Br(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Br(this.value,t).test(e.semver):(t=Fr(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Xe(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Xe(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};qr.exports=Ze;var Fr=ge(),{safeRe:Mr,t:Vr}=Y(),Xe=ze(),Je=ee(),jr=R(),Br=U()});var se=g((Pc,Wr)=>{"use strict";var Ya=U(),Qa=(r,e,t)=>{try{e=new Ya(e,t)}catch{return!1}return e.test(r)};Wr.exports=Qa});var Gr=g((Cc,zr)=>{"use strict";var ei=U(),ti=(r,e)=>new ei(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));zr.exports=ti});var Hr=g((Nc,Kr)=>{"use strict";var ri=R(),ni=U(),si=(r,e,t)=>{let n=null,s=null,a=null;try{a=new ni(e,t)}catch{return null}return r.forEach(i=>{a.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new ri(n,t))}),n};Kr.exports=si});var Jr=g((_c,Xr)=>{"use strict";var ai=R(),ii=U(),oi=(r,e,t)=>{let n=null,s=null,a=null;try{a=new ii(e,t)}catch{return null}return r.forEach(i=>{a.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new ai(n,t))}),n};Xr.exports=oi});var Qr=g((Uc,Yr)=>{"use strict";var Ye=R(),ci=U(),Zr=te(),li=(r,e)=>{r=new ci(r,e);let t=new Ye("0.0.0");if(r.test(t)||(t=new Ye("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],a=null;s.forEach(i=>{let c=new Ye(i.semver.version);switch(i.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||Zr(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!t||Zr(t,a))&&(t=a)}return t&&r.test(t)?t:null};Yr.exports=li});var tn=g((Dc,en)=>{"use strict";var ui=U(),fi=(r,e)=>{try{return new ui(r,e).range||"*"}catch{return null}};en.exports=fi});var Ie=g((Fc,an)=>{"use strict";var di=R(),sn=re(),{ANY:hi}=sn,pi=U(),mi=se(),rn=te(),nn=ke(),gi=xe(),$i=Se(),bi=(r,e,t,n)=>{r=new di(r,n),e=new pi(e,n);let s,a,i,c,o;switch(t){case">":s=rn,a=gi,i=nn,c=">",o=">=";break;case"<":s=nn,a=$i,i=rn,c="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(mi(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let f=e.set[u],l=null,m=null;if(f.forEach(p=>{p.semver===hi&&(p=new sn(">=0.0.0")),l=l||p,m=m||p,s(p.semver,l.semver,n)?l=p:i(p.semver,m.semver,n)&&(m=p)}),l.operator===c||l.operator===o||(!m.operator||m.operator===c)&&a(r,m.semver))return!1;if(m.operator===o&&i(r,m.semver))return!1}return!0};an.exports=bi});var cn=g((Mc,on)=>{"use strict";var yi=Ie(),wi=(r,e,t)=>yi(r,e,">",t);on.exports=wi});var un=g((Vc,ln)=>{"use strict";var Ei=Ie(),ki=(r,e,t)=>Ei(r,e,"<",t);ln.exports=ki});var hn=g((jc,dn)=>{"use strict";var fn=U(),Si=(r,e,t)=>(r=new fn(r,t),e=new fn(e,t),r.intersects(e,t));dn.exports=Si});var mn=g((Bc,pn)=>{"use strict";var xi=se(),Ri=_();pn.exports=(r,e,t)=>{let n=[],s=null,a=null,i=r.sort((f,l)=>Ri(f,l,t));for(let f of i)xi(f,e,t)?(a=f,s||(s=f)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);let c=[];for(let[f,l]of n)f===l?c.push(f):!l&&f===i[0]?c.push("*"):l?f===i[0]?c.push(`<=${l}`):c.push(`${f} - ${l}`):c.push(`>=${f}`);let o=c.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return o.length<u.length?o:e}});var En=g((qc,wn)=>{"use strict";var gn=U(),et=re(),{ANY:Qe}=et,ae=se(),tt=_(),vi=(r,e,t={})=>{if(r===e)return!0;r=new gn(r,t),e=new gn(e,t);let n=!1;e:for(let s of r.set){for(let a of e.set){let i=Ai(s,a,t);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},Ii=[new et(">=0.0.0-0")],$n=[new et(">=0.0.0")],Ai=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Qe){if(e.length===1&&e[0].semver===Qe)return!0;t.includePrerelease?r=Ii:r=$n}if(e.length===1&&e[0].semver===Qe){if(t.includePrerelease)return!0;e=$n}let n=new Set,s,a;for(let p of r)p.operator===">"||p.operator===">="?s=bn(s,p,t):p.operator==="<"||p.operator==="<="?a=yn(a,p,t):n.add(p.semver);if(n.size>1)return null;let i;if(s&&a){if(i=tt(s.semver,a.semver,t),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let p of n){if(s&&!ae(p,String(s),t)||a&&!ae(p,String(a),t))return null;for(let O of e)if(!ae(p,String(O),t))return!1;return!0}let c,o,u,f,l=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1,m=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;l&&l.prerelease.length===1&&a.operator==="<"&&l.prerelease[0]===0&&(l=!1);for(let p of e){if(f=f||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",s){if(m&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===m.major&&p.semver.minor===m.minor&&p.semver.patch===m.patch&&(m=!1),p.operator===">"||p.operator===">="){if(c=bn(s,p,t),c===p&&c!==s)return!1}else if(s.operator===">="&&!ae(s.semver,String(p),t))return!1}if(a){if(l&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===l.major&&p.semver.minor===l.minor&&p.semver.patch===l.patch&&(l=!1),p.operator==="<"||p.operator==="<="){if(o=yn(a,p,t),o===p&&o!==a)return!1}else if(a.operator==="<="&&!ae(a.semver,String(p),t))return!1}if(!p.operator&&(a||s)&&i!==0)return!1}return!(s&&u&&!a&&i!==0||a&&f&&!s&&i!==0||m||l)},bn=(r,e,t)=>{if(!r)return e;let n=tt(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},yn=(r,e,t)=>{if(!r)return e;let n=tt(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};wn.exports=vi});var Rn=g((Wc,xn)=>{"use strict";var rt=Y(),kn=Q(),Ti=R(),Sn=Ve(),Oi=W(),Li=Ht(),Pi=Jt(),Ci=Qt(),Ni=rr(),_i=sr(),Ui=ir(),Di=cr(),Fi=ur(),Mi=_(),Vi=pr(),ji=gr(),Bi=Ee(),qi=wr(),Wi=kr(),zi=te(),Gi=ke(),Ki=qe(),Hi=We(),Xi=Se(),Ji=xe(),Zi=ze(),Yi=Lr(),Qi=re(),eo=U(),to=se(),ro=Gr(),no=Hr(),so=Jr(),ao=Qr(),io=tn(),oo=Ie(),co=cn(),lo=un(),uo=hn(),fo=mn(),ho=En();xn.exports={parse:Oi,valid:Li,clean:Pi,inc:Ci,diff:Ni,major:_i,minor:Ui,patch:Di,prerelease:Fi,compare:Mi,rcompare:Vi,compareLoose:ji,compareBuild:Bi,sort:qi,rsort:Wi,gt:zi,lt:Gi,eq:Ki,neq:Hi,gte:Xi,lte:Ji,cmp:Zi,coerce:Yi,Comparator:Qi,Range:eo,satisfies:to,toComparators:ro,maxSatisfying:no,minSatisfying:so,minVersion:ao,validRange:io,outside:oo,gtr:co,ltr:lo,intersects:uo,simplifyRange:fo,subset:ho,SemVer:Ti,re:rt.re,src:rt.src,tokens:rt.t,SEMVER_SPEC_VERSION:kn.SEMVER_SPEC_VERSION,RELEASE_TYPES:kn.RELEASE_TYPES,compareIdentifiers:Sn.compareIdentifiers,rcompareIdentifiers:Sn.rcompareIdentifiers}});var $o={};Fn($o,{default:()=>go});module.exports=Mn($o);var In=require("@raycast/api");var E=require("@raycast/api");var y=B(require("react")),b=require("@raycast/api");var ct=Object.prototype.hasOwnProperty;function le(r,e){var t,n;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((n=r.length)===e.length)for(;n--&&le(r[n],e[n]););return n===-1}if(!t||typeof r=="object"){n=0;for(t in r)if(ct.call(r,t)&&++n&&!ct.call(e,t)||!(t in e)||!le(r[t],e[t]))return!1;return Object.keys(e).length===n}}return r!==r&&e!==e}var q=B(require("node:fs")),fe=B(require("node:path")),gt=B(require("node:crypto")),$t=B(require("node:child_process")),bt=require("node:buffer"),Z=B(require("node:stream")),yt=require("node:util");var wt=require("react/jsx-runtime");var Et=require("node:url"),Ae=globalThis;function Vn(r){let e=(0,y.useRef)(r),t=(0,y.useRef)(0);return le(r,e.current)||(e.current=r,t.current+=1),(0,y.useMemo)(()=>e.current,[t.current])}function N(r){let e=(0,y.useRef)(r);return e.current=r,e}function de(r,e){let t=r instanceof Error?r.message:String(r);return(0,b.showToast)({style:b.Toast.Style.Failure,title:e?.title??"Something went wrong",message:e?.message??t,primaryAction:e?.primaryAction??lt(r),secondaryAction:e?.primaryAction?lt(r):void 0})}var lt=r=>{let e=!0,t="[Extension Name]...",n="";try{let i=JSON.parse((0,q.readFileSync)((0,fe.join)(b.environment.assetsPath,"..","package.json"),"utf8"));t=`[${i.title}]...`,n=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(e=!1)}catch{}let s=b.environment.isDevelopment||e,a=r instanceof Error?r?.stack||r?.message||"":String(r);return{title:s?"Copy Logs":"Report Error",onAction(i){i.hide(),s?b.Clipboard.copy(a):(0,b.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(t)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${a}
\`\`\`
`)}`)}}};function he(r,e,t){let n=(0,y.useRef)(0),[s,a]=(0,y.useState)({isLoading:!0}),i=N(r),c=N(t?.abortable),o=N(e||[]),u=N(t?.onError),f=N(t?.onData),l=N(t?.onWillExecute),m=N(t?.failureToastOptions),p=N(s.data),O=(0,y.useRef)(null),S=(0,y.useRef)({page:0}),L=(0,y.useRef)(!1),D=(0,y.useRef)(!0),ie=(0,y.useRef)(50),P=(0,y.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++n.current),[c]),x=(0,y.useCallback)((...V)=>{let C=P();l.current?.(V),a(w=>({...w,isLoading:!0}));let H=jn(i.current)(...V);function X(w){return w.name=="AbortError"||C===n.current&&(u.current?u.current(w):b.environment.launchType!==b.LaunchType.Background&&de(w,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(j){j.hide(),O.current?.(...o.current||[])}},...m.current}),a({error:w,isLoading:!1})),w}return typeof H=="function"?(L.current=!0,H(S.current).then(({data:w,hasMore:j,cursor:Ln})=>(C===n.current&&(S.current&&(S.current.cursor=Ln,S.current.lastItem=w?.[w.length-1]),f.current&&f.current(w,S.current),j&&(ie.current=w.length),D.current=j,a(Pn=>S.current.page===0?{data:w,isLoading:!1}:{data:(Pn.data||[])?.concat(w),isLoading:!1})),w),w=>(D.current=!1,X(w)))):(L.current=!1,H.then(w=>(C===n.current&&(f.current&&f.current(w),a({data:w,isLoading:!1})),w),X))},[f,u,o,i,a,O,l,S,m,P]);O.current=x;let M=(0,y.useCallback)(()=>{S.current={page:0};let V=o.current||[];return x(...V)},[x,o]),K=(0,y.useCallback)(async(V,C)=>{let H;try{if(C?.optimisticUpdate){P(),typeof C?.rollbackOnError!="function"&&C?.rollbackOnError!==!1&&(H=structuredClone(p.current?.value));let X=C.optimisticUpdate;a(w=>({...w,data:X(w.data)}))}return await V}catch(X){if(typeof C?.rollbackOnError=="function"){let w=C.rollbackOnError;a(j=>({...j,data:w(j.data)}))}else C?.optimisticUpdate&&C?.rollbackOnError!==!1&&a(w=>({...w,data:H}));throw X}finally{C?.shouldRevalidateAfter!==!1&&(b.environment.launchType===b.LaunchType.Background||b.environment.commandMode==="menu-bar"?await M():M())}},[M,p,a,P]),oe=(0,y.useCallback)(()=>{S.current.page+=1;let V=o.current||[];x(...V)},[S,o,x]);(0,y.useEffect)(()=>{S.current={page:0},t?.execute!==!1?x(...e||[]):P()},[Vn([e,t?.execute,x]),c,S]),(0,y.useEffect)(()=>()=>{P()},[P]);let An=t?.execute!==!1?s.isLoading:!1,Tn={...s,isLoading:An},On=L.current?{pageSize:ie.current,hasMore:D.current,onLoadMore:oe}:void 0;return{...Tn,revalidate:M,mutate:K,pagination:On}}function jn(r){return r===Promise.all||r===Promise.race||r===Promise.resolve||r===Promise.reject?r.bind(Promise):r}function ut(r){return typeof r!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(r))!==null}function Bn(r){return r instanceof URLSearchParams?r.toString():r}function kt(r,e=[]){function t(n){return"update"in r?r.update(n,"utf8"):r.write(n)}return{dispatch:function(n){n=Bn(n),n===null?this._null():this["_"+typeof n](n)},_object:function(n){let s=/\[object (.*)\]/i,a=Object.prototype.toString.call(n),i=s.exec(a)?.[1]??"unknown:["+a+"]";i=i.toLowerCase();let c=null;if((c=e.indexOf(n))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else e.push(n);if(Buffer.isBuffer(n))return t("buffer:"),t(n.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](n);else throw new Error('Unknown object type "'+i+'"');else{let o=Object.keys(n);o=o.sort(),ut(n)||o.splice(0,0,"prototype","__proto__","constructor"),t("object:"+o.length+":");let u=this;return o.forEach(function(f){u.dispatch(f),t(":"),u.dispatch(n[f]),t(",")})}},_array:function(n,s){s=typeof s<"u"?s:!1;let a=this;if(t("array:"+n.length+":"),!s||n.length<=1){n.forEach(function(o){a.dispatch(o)});return}let i=[],c=n.map(function(o){let u=qn(),f=e.slice();return kt(u,f).dispatch(o),i=i.concat(f.slice(e.length)),u.read().toString()});e=e.concat(i),c.sort(),this._array(c,!1)},_date:function(n){t("date:"+n.toJSON())},_symbol:function(n){t("symbol:"+n.toString())},_error:function(n){t("error:"+n.toString())},_boolean:function(n){t("bool:"+n.toString())},_string:function(n){t("string:"+n.length+":"),t(n.toString())},_function:function(n){t("fn:"),ut(n)?this.dispatch("[native]"):this.dispatch(n.toString()),this.dispatch("function-name:"+String(n.name)),this._object(n)},_number:function(n){t("number:"+n.toString())},_xml:function(n){t("xml:"+n.toString())},_null:function(){t("Null")},_undefined:function(){t("Undefined")},_regexp:function(n){t("regex:"+n.toString())},_uint8array:function(n){t("uint8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint8clampedarray:function(n){t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(n))},_int8array:function(n){t("int8array:"),this.dispatch(Array.prototype.slice.call(n))},_uint16array:function(n){t("uint16array:"),this.dispatch(Array.prototype.slice.call(n))},_int16array:function(n){t("int16array:"),this.dispatch(Array.prototype.slice.call(n))},_uint32array:function(n){t("uint32array:"),this.dispatch(Array.prototype.slice.call(n))},_int32array:function(n){t("int32array:"),this.dispatch(Array.prototype.slice.call(n))},_float32array:function(n){t("float32array:"),this.dispatch(Array.prototype.slice.call(n))},_float64array:function(n){t("float64array:"),this.dispatch(Array.prototype.slice.call(n))},_arraybuffer:function(n){t("arraybuffer:"),this.dispatch(new Uint8Array(n))},_url:function(n){t("url:"+n.toString())},_map:function(n){t("map:");let s=Array.from(n);this._array(s,!0)},_set:function(n){t("set:");let s=Array.from(n);this._array(s,!0)},_file:function(n){t("file:"),this.dispatch([n.name,n.size,n.type,n.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){t("domwindow")},_bigint:function(n){t("bigint:"+n.toString())},_process:function(){t("process")},_timer:function(){t("timer")},_pipe:function(){t("pipe")},_tcp:function(){t("tcp")},_udp:function(){t("udp")},_tty:function(){t("tty")},_statwatcher:function(){t("statwatcher")},_securecontext:function(){t("securecontext")},_connection:function(){t("connection")},_zlib:function(){t("zlib")},_context:function(){t("context")},_nodescript:function(){t("nodescript")},_httpparser:function(){t("httpparser")},_dataview:function(){t("dataview")},_signal:function(){t("signal")},_fsevent:function(){t("fsevent")},_tlswrap:function(){t("tlswrap")}}}function qn(){return{buf:"",write:function(r){this.buf+=r},end:function(r){this.buf+=r},read:function(){return this.buf}}}function Wn(r,e){let t=this[r];return t instanceof Date?`__raycast_cached_date__${t.toISOString()}`:Buffer.isBuffer(t)?`__raycast_cached_buffer__${t.toString("base64")}`:e}function zn(r,e){return typeof e=="string"&&e.startsWith("__raycast_cached_date__")?new Date(e.replace("__raycast_cached_date__","")):typeof e=="string"&&e.startsWith("__raycast_cached_buffer__")?Buffer.from(e.replace("__raycast_cached_buffer__",""),"base64"):e}function ft(r){let e=gt.default.createHash("sha1");return kt(e).dispatch(r),e.digest("hex")}var Gn=Symbol("cache without namespace"),dt=new Map;function Kn(r,e,t){let n=t?.cacheNamespace||Gn,s=dt.get(n)||dt.set(n,new b.Cache({namespace:t?.cacheNamespace})).get(n);if(!s)throw new Error("Missing cache");let a=N(r),i=N(e),c=(0,y.useSyncExternalStore)(s.subscribe,()=>{try{return s.get(a.current)}catch(l){console.error("Could not get Cache data:",l);return}}),o=(0,y.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,zn)}catch(l){return console.warn("The cached data is corrupted",l),i.current}}else return i.current},[c,i]),u=N(o),f=(0,y.useCallback)(l=>{let m=typeof l=="function"?l(u.current):l;if(typeof m>"u")s.set(a.current,"undefined");else{let p=JSON.stringify(m,Wn);s.set(a.current,p)}return m},[s,a,u]);return[o,f]}var J=Symbol();function St(r,e,t){let{initialData:n,keepPreviousData:s,internal_cacheKeySuffix:a,...i}=t||{},c=(0,y.useRef)(null),[o,u]=Kn(ft(e||[])+a,J,{cacheNamespace:ft(r)}),f=(0,y.useRef)(o!==J?o:n),l=(0,y.useRef)(void 0),{mutate:m,revalidate:p,...O}=he(r,e||[],{...i,onData(P,x){l.current=x,i.onData&&i.onData(P,x),!(x&&x.page>0)&&(c.current="promise",f.current=P,u(P))}}),S,L=O.pagination;l.current&&l.current.page>0&&O.data?S=O.data:c.current==="promise"?S=f.current:s&&o!==J?(S=o,L&&(L.hasMore=!0,L.pageSize=o.length)):s&&o===J?S=f.current:o!==J?(S=o,L&&(L.hasMore=!0,L.pageSize=o.length)):S=n;let D=N(S),ie=(0,y.useCallback)(async(P,x)=>{let M;try{if(x?.optimisticUpdate){typeof x?.rollbackOnError!="function"&&x?.rollbackOnError!==!1&&(M=structuredClone(D.current));let K=x.optimisticUpdate(D.current);c.current="cache",f.current=K,u(K)}return await m(P,{shouldRevalidateAfter:x?.shouldRevalidateAfter})}catch(K){if(typeof x?.rollbackOnError=="function"){let oe=x.rollbackOnError(D.current);c.current="cache",f.current=oe,u(oe)}else x?.optimisticUpdate&&x?.rollbackOnError!==!1&&(c.current="cache",f.current=M,u(M));throw K}},[u,m,D,f,c]);return(0,y.useEffect)(()=>{o!==J&&(c.current="cache",f.current=o)},[o]),{data:S,isLoading:O.isLoading,error:O.error,mutate:l.current&&l.current.page>0?m:ie,pagination:L,revalidate:p}}var ue=r=>!!r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function",Te=Symbol.for("signal-exit emitter"),Le=class{constructor(){if(this.emitted={afterExit:!1,exit:!1},this.listeners={afterExit:[],exit:[]},this.count=0,this.id=Math.random(),Ae[Te])return Ae[Te];Object.defineProperty(Ae,Te,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,t){this.listeners[e].push(t)}removeListener(e,t){let n=this.listeners[e],s=n.indexOf(t);s!==-1&&(s===0&&n.length===1?n.length=0:n.splice(s,1))}emit(e,t,n){if(this.emitted[e])return!1;this.emitted[e]=!0;let s=!1;for(let a of this.listeners[e])s=a(t,n)===!0||s;return e==="exit"&&(s=this.emit("afterExit",t,n)||s),s}},Pe=class{onExit(){return()=>{}}load(){}unload(){}},Ce=class{#o;#t;#e;#a;#i;#s;#n;#r;constructor(e){this.#o=process.platform==="win32"?"SIGINT":"SIGHUP",this.#t=new Le,this.#s={},this.#n=!1,this.#r=[],this.#r.push("SIGHUP","SIGINT","SIGTERM"),globalThis.process.platform!=="win32"&&this.#r.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),globalThis.process.platform==="linux"&&this.#r.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT"),this.#e=e,this.#s={};for(let t of this.#r)this.#s[t]=()=>{let n=this.#e.listeners(t),{count:s}=this.#t,a=e;if(typeof a.__signal_exit_emitter__=="object"&&typeof a.__signal_exit_emitter__.count=="number"&&(s+=a.__signal_exit_emitter__.count),n.length===s){this.unload();let i=this.#t.emit("exit",null,t),c=t==="SIGHUP"?this.#o:t;i||e.kill(e.pid,c)}};this.#i=e.reallyExit,this.#a=e.emit}onExit(e,t){if(!ue(this.#e))return()=>{};this.#n===!1&&this.load();let n=t?.alwaysLast?"afterExit":"exit";return this.#t.on(n,e),()=>{this.#t.removeListener(n,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#n){this.#n=!0,this.#t.count+=1;for(let e of this.#r)try{let t=this.#s[e];t&&this.#e.on(e,t)}catch{}this.#e.emit=(e,...t)=>this.#l(e,...t),this.#e.reallyExit=e=>this.#c(e)}}unload(){this.#n&&(this.#n=!1,this.#r.forEach(e=>{let t=this.#s[e];if(!t)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,t)}catch{}}),this.#e.emit=this.#a,this.#e.reallyExit=this.#i,this.#t.count-=1)}#c(e){return ue(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#i.call(this.#e,this.#e.exitCode)):0}#l(e,...t){let n=this.#a;if(e==="exit"&&ue(this.#e)){typeof t[0]=="number"&&(this.#e.exitCode=t[0]);let s=n.call(this.#e,e,...t);return this.#t.emit("exit",this.#e.exitCode,null),s}else return n.call(this.#e,e,...t)}},Oe=null,Hn=(r,e)=>(Oe||(Oe=ue(process)?new Ce(process):new Pe),Oe.onExit(r,e));function Xn(r,{timeout:e}={}){let t=new Promise((c,o)=>{r.on("exit",(u,f)=>{c({exitCode:u,signal:f,timedOut:!1})}),r.on("error",u=>{o(u)}),r.stdin&&r.stdin.on("error",u=>{o(u)})}),n=Hn(()=>{r.kill()});if(e===0||e===void 0)return t.finally(()=>n());let s,a=new Promise((c,o)=>{s=setTimeout(()=>{r.kill("SIGTERM"),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:"SIGTERM"}))},e)}),i=t.finally(()=>{clearTimeout(s)});return Promise.race([a,i]).finally(()=>n())}var Ne=class extends Error{constructor(){super("The output is too big"),this.name="MaxBufferError"}};function Jn(r){let{encoding:e}=r,t=e==="buffer",n=new Z.default.PassThrough({objectMode:!1});e&&e!=="buffer"&&n.setEncoding(e);let s=0,a=[];return n.on("data",i=>{a.push(i),s+=i.length}),n.getBufferedValue=()=>t?Buffer.concat(a,s):a.join(""),n.getBufferedLength=()=>s,n}async function ht(r,e){let t=Jn(e);return await new Promise((n,s)=>{let a=i=>{i&&t.getBufferedLength()<=bt.constants.MAX_LENGTH&&(i.bufferedData=t.getBufferedValue()),s(i)};(async()=>{try{await(0,yt.promisify)(Z.default.pipeline)(r,t),n()}catch(i){a(i)}})(),t.on("data",()=>{t.getBufferedLength()>8e7&&a(new Ne)})}),t.getBufferedValue()}async function pt(r,e){r.destroy();try{return await e}catch(t){return t.bufferedData}}async function Zn({stdout:r,stderr:e},{encoding:t},n){let s=ht(r,{encoding:t}),a=ht(e,{encoding:t});try{return await Promise.all([n,s,a])}catch(i){return Promise.all([{error:i,exitCode:null,signal:i.signal,timedOut:i.timedOut||!1},pt(r,s),pt(e,a)])}}function Yn(r){let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,-1)),r[r.length-1]===t&&(r=r.slice(0,-1)),r}function mt(r,e){return r.stripFinalNewline?Yn(e):e}function Qn({timedOut:r,timeout:e,signal:t,exitCode:n}){return r?`timed out after ${e} milliseconds`:t!=null?`was killed with ${t}`:n!=null?`failed with exit code ${n}`:"failed"}function es({stdout:r,stderr:e,error:t,signal:n,exitCode:s,command:a,timedOut:i,options:c,parentError:o}){let f=`Command ${Qn({timedOut:i,timeout:c?.timeout,signal:n,exitCode:s})}: ${a}`,l=t?`${f}
${t.message}`:f,m=[l,e,r].filter(Boolean).join(`
`);return t?t.originalMessage=t.message:t=o,t.message=m,t.shortMessage=l,t.command=a,t.exitCode=s,t.signal=n,t.stdout=r,t.stderr=e,"bufferedData"in t&&delete t.bufferedData,t}function ts({stdout:r,stderr:e,error:t,exitCode:n,signal:s,timedOut:a,command:i,options:c,parentError:o}){if(t||n!==0||s!==null)throw es({error:t,exitCode:n,signal:s,stdout:r,stderr:e,command:i,timedOut:a,options:c,parentError:o});return r}function _e(r,e){try{let t=i=>i.startsWith("http")?i:`https://${i}`,s=(typeof r=="string"?new Et.URL(t(r)):r).hostname;switch(process.env.FAVICON_PROVIDER??"raycast"){case"none":return{source:e?.fallback??b.Icon.Link,mask:e?.mask};case"apple":return{source:e?.fallback??b.Icon.Link,mask:e?.mask};case"duckduckgo":case"duckDuckGo":return{source:`https://icons.duckduckgo.com/ip3/${s}.ico`,fallback:e?.fallback??b.Icon.Link,mask:e?.mask};case"google":return{source:`https://www.google.com/s2/favicons?sz=${e?.size??64}&domain=${s}`,fallback:e?.fallback??b.Icon.Link,mask:e?.mask};case"legacy":case"raycast":default:return{source:`https://api.ray.so/favicon?url=${s}&size=${e?.size??64}`,fallback:e?.fallback??b.Icon.Link,mask:e?.mask}}}catch(t){return console.error(t),b.Icon.Link}}async function pe(r,e,t){if(process.platform!=="darwin")throw new Error("AppleScript is only supported on macOS");let{humanReadableOutput:n,language:s,timeout:a,...i}=Array.isArray(e)?t||{}:e||{},c=n!==!1?[]:["-ss"];s==="JavaScript"&&c.push("-l","JavaScript"),Array.isArray(e)&&c.push("-",...e);let o=$t.default.spawn("osascript",c,{...i,env:{PATH:"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin"}}),u=Xn(o,{timeout:a??1e4});o.stdin.end(r);let[{error:f,exitCode:l,signal:m,timedOut:p},O,S]=await Zn(o,{encoding:"utf8"},u),L=mt({stripFinalNewline:!0},O),D=mt({stripFinalNewline:!0},S);return ts({stdout:L,stderr:D,error:f,exitCode:l,signal:m,timedOut:p,command:"osascript",options:t,parentError:new Error})}function xt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Rt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xt(Object(t),!0).forEach(function(n){rs(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):xt(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function rs(r,e,t){return e=ns(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ns(r){var e=ss(r,"string");return typeof e=="symbol"?e:String(e)}function ss(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}var as=vt({}),Ue=as;function vt(r){return e.withOptions=t=>vt(Rt(Rt({},r),t)),e;function e(t,...n){let s=typeof t=="string"?[t]:t.raw,{alignValues:a=!1,escapeSpecialCharacters:i=Array.isArray(t),trimWhitespace:c=!0}=r,o="";for(let l=0;l<s.length;l++){let m=s[l];if(i&&(m=m.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\\{/g,"{")),o+=m,l<n.length){let p=a?is(n[l],o):n[l];o+=p}}let u=o.split(`
`),f=null;for(let l of u){let m=l.match(/^(\s+)\S+/);if(m){let p=m[1].length;f?f=Math.min(f,p):f=p}}if(f!==null){let l=f;o=u.map(m=>m[0]===" "||m[0]==="	"?m.slice(l):m).join(`
`)}return c&&(o=o.trim()),i&&(o=o.replace(/\\n/g,`
`)),o}}function is(r,e){if(typeof r!="string"||!r.includes(`
`))return r;let n=e.slice(e.lastIndexOf(`
`)+1).match(/^(\s+)/);if(n){let s=n[1];return r.replace(/\n/g,`
${s}`)}return r}var me=require("@raycast/api");function De(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function It(r){try{let{hostname:e}=new URL(r);return e.replace(/^www\./,"")}catch{return r}}function At(r){let e=[];return r.isFocused&&e.push({icon:{source:me.Icon.Dot,tintColor:me.Color.Blue},tooltip:"Focused tab"}),e}var Ot=require("react"),ms=require("@raycast/api");var gs=require("react/jsx-runtime");function Lt(r){return r.toLowerCase()==="true"}async function $s(){let r=await pe(Ue`
      tell application "Dia"
        set output to ""
        
        repeat with w in every window
          try
            set wId to id of w
            
            repeat with t in every tab of w
              set tId to id of t
              set tabTitle to title of t
              
              try
                set tabURL to URL of t
                if tabURL is missing value then
                  set tabURL to ""
                end if
              on error
                set tabURL to ""
              end try
              
              set tabPinned to isPinned of t
              set tabFocused to isFocused of t
              
              -- Output: windowId|||tabId|||title|||url|||isPinned|||isFocused
              set output to output & wId & "|||" & tId & "|||" & tabTitle & "|||" & tabURL & "|||" & tabPinned & "|||" & tabFocused & "\\n"
            end repeat
          end try
        end repeat
        
        return output
      end tell
    `),e=[],t=r.trim().split(`
`);for(let n of t)if(n){let s=n.split("|||");if(s.length===6){let[a,i,c,o,u,f]=s;e.push({windowId:a,tabId:i,title:c,url:o||void 0,isPinned:Lt(u),isFocused:Lt(f)})}}return e}function Pt(){return he($s)}async function Ct(r){let e=De(r.windowId),t=De(r.tabId);await pe(Ue`
      tell application "Dia"
        activate

        repeat with w in every window
          if id of w is "${e}" then
            repeat with t in every tab of w
              if id of t is "${t}" then
                focus t
                exit repeat
              end if
            end repeat
            exit repeat
          end if
        end repeat
      end tell
    `)}async function Nt(){return await pe(`
    set _output to ""

    tell application "Dia"
      return version
    end tell
  `)}var I=require("react/jsx-runtime");function _t({tab:r,searchText:e,onTabAction:t}){return(0,I.jsx)(E.List.Item,{icon:r.url?_e(r.url,{mask:E.Image.Mask.Circle}):E.Icon.Globe,title:r.title,subtitle:r.url?{value:It(r.url),tooltip:r.url}:void 0,accessories:At(r),actions:(0,I.jsxs)(E.ActionPanel,{children:[(0,I.jsx)(E.Action,{icon:E.Icon.ArrowRight,title:"Focus Tab",onAction:async()=>{try{await Ct(r),await(0,E.closeMainWindow)(),t?.()}catch(n){await de(n,{title:"Failed focusing tab"})}}}),r.url&&(0,I.jsx)(E.Action.OpenInBrowser,{title:"Open URL in New Tab",url:r.url,onOpen:()=>{t?.()}}),e&&(0,I.jsx)(E.Action.OpenInBrowser,{title:"Search Google",url:`https://www.google.com/search?q=${encodeURIComponent(e)}`,icon:E.Icon.MagnifyingGlass,shortcut:{modifiers:["cmd","shift"],key:"return"},onOpen:()=>{t?.()}}),(0,I.jsxs)(E.ActionPanel.Section,{children:[r.url&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(E.Action.CopyToClipboard,{content:r.url,title:"Copy URL",shortcut:E.Keyboard.Shortcut.Common.Copy}),(0,I.jsx)(E.Action.CopyToClipboard,{content:{html:`<a href="${r.url}">${r.title||"Untitled"}</a>`},title:"Copy Formatted URL",shortcut:E.Keyboard.Shortcut.Common.CopyPath})]}),(0,I.jsx)(E.Action.CopyToClipboard,{content:r.title||"Untitled",title:"Copy Title",shortcut:E.Keyboard.Shortcut.Common.CopyName}),r.url&&(0,I.jsx)(E.Action.CopyToClipboard,{content:`[${r.title||"Untitled"}](${r.url})`,title:"Copy as Markdown"})]})]})})}var z=require("@raycast/api");var vn=require("path"),st=B(Rn());var G=require("react/jsx-runtime"),nt="1.7.0";function po(r){let{data:e,isLoading:t}=St(Nt);if(console.log("data",e),t&&!e)return(0,G.jsx)(z.Detail,{isLoading:!0});if(t&&e&&(0,st.lt)(e,nt))return(0,G.jsx)(z.Detail,{isLoading:!0});if(!t&&!e)return(0,G.jsx)(z.Detail,{markdown:`## Something went wrong

We are unable to fetch the version of Dia. Please make sure Dia is correctly installed and try again.`});if(!t&&e&&(0,st.lt)(e,nt)){let n=(0,vn.join)(z.environment.assetsPath,"check-for-updates.png"),s=`## Version conflict

The extension requires Dia v${nt}. Please update the app via Dia -> Check for Updates.

![Check for Updates](${n})`;return(0,G.jsx)(z.Detail,{markdown:s})}else return r.children}function at(r){return function(t){return(0,G.jsx)(po,{children:(0,G.jsx)(r,{...t})})}}var it=require("react/jsx-runtime");function mo(){let{isLoading:r,data:e,revalidate:t}=Pt();return(0,it.jsx)(In.List,{isLoading:r,searchBarPlaceholder:"Search tabs...",children:e?.map((n,s)=>(0,it.jsx)(_t,{tab:n,onTabAction:t},`${n.windowId}-${n.tabId}-${s}`))})}var go=at(mo);
