"use strict";var s=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var I=(e,o)=>{for(var t in o)s(e,t,{get:o[t],enumerable:!0})},h=(e,o,t,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of L(o))!C.call(e,r)&&r!==t&&s(e,r,{get:()=>o[r],enumerable:!(n=A(o,r))||n.enumerable});return e};var P=e=>h(s({},"__esModule",{value:!0}),e);var v={};I(v,{default:()=>E});module.exports=P(v);var a=require("@raycast/api");var y=["\u200B-\u200D","\u200E-\u200F","\u202A-\u202E","\u2066-\u2069","\u180B-\u180D","\uFE00-\uFE0F"],_=["\xAD","\u034F","\uFEFF"],N=["\u3164","\u115F","\u1160","\u17B4","\u17B5"],$=["\u2000-\u200A"],w=["\xA0","\u202F","\u205F","\u3000","\u180E"],F=["\u2018","\u2019","\u201C","\u201D"],R=["\u2013","\u2014"];function f(e){return e.join("")}var c=`[${f(y)}${_.join("")}]`,l=`[${N.join("")}]`,u=`[${f($)}${w.join("")}]`,g=`[${F.join("")}${R.join("")}\u2026]`;function x(e){return`U+${e.toString(16).toUpperCase()}`}function S(e){let o=[...e].length,t=e.replace(new RegExp(`${c}|${l}`,"gu"),"").trim().split(/\s+/u).filter(Boolean).length,n=e.match(new RegExp(`${c}`,"gu"))??[],r=e.match(new RegExp(`${g}`,"gu"))??[],d=e.match(new RegExp(`${u}`,"gu"))??[];return{totalCharacters:o,totalWords:t,invisible:{label:"Invisible Characters",count:n.length,codePoints:p(n)},nonKeyboard:{label:"Non-Keyboard Unicode",count:r.length,codePoints:p(r)},specialSpaces:{label:"Special Spaces",count:d.length,codePoints:p(d)}}}function p(e){let o=new Set;for(let t of e){let n=t.codePointAt(0);n!==void 0&&o.add(x(n))}return[...o]}var i=require("@raycast/api");function m(){return(0,i.getPreferenceValues)()}async function b(e){if(e.preferSelectedText)try{let t=await(0,i.getSelectedText)();if(t&&t.length>0)return t}catch{}return await i.Clipboard.readText()??void 0}async function E(){let e=m(),o=await b(e);if(!o){await(0,a.showToast)({style:a.Toast.Style.Failure,title:"No text to analyze",message:"Select text or copy it to the clipboard"});return}let t=S(o),n=`Invisible: ${t.invisible.count} \u2022 Non-Keyboard: ${t.nonKeyboard.count} \u2022 Special Spaces: ${t.specialSpaces.count}`,r=`${n}

Invisible: ${t.invisible.codePoints.join(", ")||"-"}
Non-Keyboard: ${t.nonKeyboard.codePoints.join(", ")||"-"}
Special Spaces: ${t.specialSpaces.codePoints.join(", ")||"-"}`;await a.Clipboard.copy(r),e.showToasts&&await(0,a.showToast)({style:a.Toast.Style.Success,title:"Clipboard Analysis",message:n})}
