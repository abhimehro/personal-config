"use strict";var Vr=Object.create;var ye=Object.defineProperty;var Gr=Object.getOwnPropertyDescriptor;var Kr=Object.getOwnPropertyNames;var Qr=Object.getPrototypeOf,zr=Object.prototype.hasOwnProperty;var d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xr=(e,t)=>{for(var r in t)ye(e,r,{get:t[r],enumerable:!0})},Ye=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Kr(t))!zr.call(e,i)&&i!==r&&ye(e,i,{get:()=>t[i],enumerable:!(n=Gr(t,i))||n.enumerable});return e};var Zr=(e,t,r)=>(r=e!=null?Vr(Qr(e)):{},Ye(t||!e||!e.__esModule?ye(r,"default",{value:e,enumerable:!0}):r,e)),en=e=>Ye(ye({},"__esModule",{value:!0}),e);var P=d(xe=>{"use strict";xe.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,o)=>i!=null?n(i):r(o)),e.apply(this,t)})},"name",{value:e.name})};xe.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})}});var Ue=d((ho,Be)=>{var U=require("constants"),tn=process.cwd,me=null,rn=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return me||(me=tn.call(process)),me};try{process.cwd()}catch{}typeof process.chdir=="function"&&(qe=process.chdir,process.chdir=function(e){me=null,qe.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,qe));var qe;Be.exports=nn;function nn(e){U.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=s(e.stat),e.fstat=s(e.fstat),e.lstat=s(e.lstat),e.statSync=p(e.statSync),e.fstatSync=p(e.fstatSync),e.lstatSync=p(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(a,m,f){f&&process.nextTick(f)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(a,m,f,u){u&&process.nextTick(u)},e.lchownSync=function(){}),rn==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:(function(a){function m(f,u,y){var g=Date.now(),S=0;a(f,u,function F(A){if(A&&(A.code==="EACCES"||A.code==="EPERM"||A.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){e.stat(u,function($,ie){$&&$.code==="ENOENT"?a(f,u,F):y(A)})},S),S<100&&(S+=10);return}y&&y(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(m,a),m})(e.rename)),e.read=typeof e.read!="function"?e.read:(function(a){function m(f,u,y,g,S,F){var A;if(F&&typeof F=="function"){var $=0;A=function(ie,Je,He){if(ie&&ie.code==="EAGAIN"&&$<10)return $++,a.call(e,f,u,y,g,S,A);F.apply(this,arguments)}}return a.call(e,f,u,y,g,S,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(m,a),m})(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:(function(a){return function(m,f,u,y,g){for(var S=0;;)try{return a.call(e,m,f,u,y,g)}catch(F){if(F.code==="EAGAIN"&&S<10){S++;continue}throw F}}})(e.readSync);function t(a){a.lchmod=function(m,f,u){a.open(m,U.O_WRONLY|U.O_SYMLINK,f,function(y,g){if(y){u&&u(y);return}a.fchmod(g,f,function(S){a.close(g,function(F){u&&u(S||F)})})})},a.lchmodSync=function(m,f){var u=a.openSync(m,U.O_WRONLY|U.O_SYMLINK,f),y=!0,g;try{g=a.fchmodSync(u,f),y=!1}finally{if(y)try{a.closeSync(u)}catch{}else a.closeSync(u)}return g}}function r(a){U.hasOwnProperty("O_SYMLINK")&&a.futimes?(a.lutimes=function(m,f,u,y){a.open(m,U.O_SYMLINK,function(g,S){if(g){y&&y(g);return}a.futimes(S,f,u,function(F){a.close(S,function(A){y&&y(F||A)})})})},a.lutimesSync=function(m,f,u){var y=a.openSync(m,U.O_SYMLINK),g,S=!0;try{g=a.futimesSync(y,f,u),S=!1}finally{if(S)try{a.closeSync(y)}catch{}else a.closeSync(y)}return g}):a.futimes&&(a.lutimes=function(m,f,u,y){y&&process.nextTick(y)},a.lutimesSync=function(){})}function n(a){return a&&function(m,f,u){return a.call(e,m,f,function(y){_(y)&&(y=null),u&&u.apply(this,arguments)})}}function i(a){return a&&function(m,f){try{return a.call(e,m,f)}catch(u){if(!_(u))throw u}}}function o(a){return a&&function(m,f,u,y){return a.call(e,m,f,u,function(g){_(g)&&(g=null),y&&y.apply(this,arguments)})}}function c(a){return a&&function(m,f,u){try{return a.call(e,m,f,u)}catch(y){if(!_(y))throw y}}}function s(a){return a&&function(m,f,u){typeof f=="function"&&(u=f,f=null);function y(g,S){S&&(S.uid<0&&(S.uid+=4294967296),S.gid<0&&(S.gid+=4294967296)),u&&u.apply(this,arguments)}return f?a.call(e,m,f,y):a.call(e,m,y)}}function p(a){return a&&function(m,f){var u=f?a.call(e,m,f):a.call(e,m);return u&&(u.uid<0&&(u.uid+=4294967296),u.gid<0&&(u.gid+=4294967296)),u}}function _(a){if(!a||a.code==="ENOSYS")return!0;var m=!process.getuid||process.getuid()!==0;return!!(m&&(a.code==="EINVAL"||a.code==="EPERM"))}}});var Ke=d((po,Ge)=>{var Ve=require("stream").Stream;Ge.exports=on;function on(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Ve.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var c=Object.keys(i),s=0,p=c.length;s<p;s++){var _=c[s];this[_]=i[_]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(a,m){if(a){o.emit("error",a),o.readable=!1;return}o.fd=m,o.emit("open",m),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Ve.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),c=0,s=o.length;c<s;c++){var p=o[c];this[p]=i[p]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var ze=d((wo,Qe)=>{"use strict";Qe.exports=an;var cn=Object.getPrototypeOf||function(e){return e.__proto__};function an(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:cn(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var ee=d((So,be)=>{var D=require("fs"),sn=Ue(),un=Ke(),ln=ze(),de=require("util"),C,pe;typeof Symbol=="function"&&typeof Symbol.for=="function"?(C=Symbol.for("graceful-fs.queue"),pe=Symbol.for("graceful-fs.previous")):(C="___graceful-fs.queue",pe="___graceful-fs.previous");function fn(){}function et(e,t){Object.defineProperty(e,C,{get:function(){return t}})}var z=fn;de.debuglog?z=de.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(z=function(){var e=de.format.apply(de,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});D[C]||(Xe=global[C]||[],et(D,Xe),D.close=(function(e){function t(r,n){return e.call(D,r,function(i){i||Ze(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,pe,{value:e}),t})(D.close),D.closeSync=(function(e){function t(r){e.apply(D,arguments),Ze()}return Object.defineProperty(t,pe,{value:e}),t})(D.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){z(D[C]),require("assert").equal(D[C].length,0)}));var Xe;global[C]||et(global,D[C]);be.exports=Pe(ln(D));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!D.__patched&&(be.exports=Pe(D),D.__patched=!0);function Pe(e){sn(e),e.gracefulify=Pe,e.createReadStream=Je,e.createWriteStream=He;var t=e.readFile;e.readFile=r;function r(l,w,h){return typeof w=="function"&&(h=w,w=null),b(l,w,h);function b(I,q,k,x){return t(I,q,function(v){v&&(v.code==="EMFILE"||v.code==="ENFILE")?Z([b,[I,q,k],v,x||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(l,w,h,b){return typeof h=="function"&&(b=h,h=null),I(l,w,h,b);function I(q,k,x,v,L){return n(q,k,x,function(E){E&&(E.code==="EMFILE"||E.code==="ENFILE")?Z([I,[q,k,x,v],E,L||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=c);function c(l,w,h,b){return typeof h=="function"&&(b=h,h=null),I(l,w,h,b);function I(q,k,x,v,L){return o(q,k,x,function(E){E&&(E.code==="EMFILE"||E.code==="ENFILE")?Z([I,[q,k,x,v],E,L||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}var s=e.copyFile;s&&(e.copyFile=p);function p(l,w,h,b){return typeof h=="function"&&(b=h,h=0),I(l,w,h,b);function I(q,k,x,v,L){return s(q,k,x,function(E){E&&(E.code==="EMFILE"||E.code==="ENFILE")?Z([I,[q,k,x,v],E,L||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}var _=e.readdir;e.readdir=m;var a=/^v[0-5]\./;function m(l,w,h){typeof w=="function"&&(h=w,w=null);var b=a.test(process.version)?function(k,x,v,L){return _(k,I(k,x,v,L))}:function(k,x,v,L){return _(k,x,I(k,x,v,L))};return b(l,w,h);function I(q,k,x,v){return function(L,E){L&&(L.code==="EMFILE"||L.code==="ENFILE")?Z([b,[q,k,x],L,v||Date.now(),Date.now()]):(E&&E.sort&&E.sort(),typeof x=="function"&&x.call(this,L,E))}}}if(process.version.substr(0,4)==="v0.8"){var f=un(e);F=f.ReadStream,$=f.WriteStream}var u=e.ReadStream;u&&(F.prototype=Object.create(u.prototype),F.prototype.open=A);var y=e.WriteStream;y&&($.prototype=Object.create(y.prototype),$.prototype.open=ie),Object.defineProperty(e,"ReadStream",{get:function(){return F},set:function(l){F=l},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return $},set:function(l){$=l},enumerable:!0,configurable:!0});var g=F;Object.defineProperty(e,"FileReadStream",{get:function(){return g},set:function(l){g=l},enumerable:!0,configurable:!0});var S=$;Object.defineProperty(e,"FileWriteStream",{get:function(){return S},set:function(l){S=l},enumerable:!0,configurable:!0});function F(l,w){return this instanceof F?(u.apply(this,arguments),this):F.apply(Object.create(F.prototype),arguments)}function A(){var l=this;De(l.path,l.flags,l.mode,function(w,h){w?(l.autoClose&&l.destroy(),l.emit("error",w)):(l.fd=h,l.emit("open",h),l.read())})}function $(l,w){return this instanceof $?(y.apply(this,arguments),this):$.apply(Object.create($.prototype),arguments)}function ie(){var l=this;De(l.path,l.flags,l.mode,function(w,h){w?(l.destroy(),l.emit("error",w)):(l.fd=h,l.emit("open",h))})}function Je(l,w){return new e.ReadStream(l,w)}function He(l,w){return new e.WriteStream(l,w)}var Ur=e.open;e.open=De;function De(l,w,h,b){return typeof h=="function"&&(b=h,h=null),I(l,w,h,b);function I(q,k,x,v,L){return Ur(q,k,x,function(E,so){E&&(E.code==="EMFILE"||E.code==="ENFILE")?Z([I,[q,k,x,v],E,L||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}return e}function Z(e){z("ENQUEUE",e[0].name,e[1]),D[C].push(e),Oe()}var he;function Ze(){for(var e=Date.now(),t=0;t<D[C].length;++t)D[C][t].length>2&&(D[C][t][3]=e,D[C][t][4]=e);Oe()}function Oe(){if(clearTimeout(he),he=void 0,D[C].length!==0){var e=D[C].shift(),t=e[0],r=e[1],n=e[2],i=e[3],o=e[4];if(i===void 0)z("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){z("TIMEOUT",t.name,r);var c=r.pop();typeof c=="function"&&c.call(null,n)}else{var s=Date.now()-o,p=Math.max(o-i,1),_=Math.min(p*1.2,100);s>=_?(z("RETRY",t.name,r),t.apply(null,r.concat([i]))):D[C].push(e)}he===void 0&&(he=setTimeout(Oe,0))}}});var R=d(Y=>{"use strict";var tt=P().fromCallback,T=ee(),yn=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof T[e]=="function");Object.assign(Y,T);yn.forEach(e=>{Y[e]=tt(T[e])});Y.exists=function(e,t){return typeof t=="function"?T.exists(e,t):new Promise(r=>T.exists(e,r))};Y.read=function(e,t,r,n,i,o){return typeof o=="function"?T.read(e,t,r,n,i,o):new Promise((c,s)=>{T.read(e,t,r,n,i,(p,_,a)=>{if(p)return s(p);c({bytesRead:_,buffer:a})})})};Y.write=function(e,t,...r){return typeof r[r.length-1]=="function"?T.write(e,t,...r):new Promise((n,i)=>{T.write(e,t,...r,(o,c,s)=>{if(o)return i(o);n({bytesWritten:c,buffer:s})})})};Y.readv=function(e,t,...r){return typeof r[r.length-1]=="function"?T.readv(e,t,...r):new Promise((n,i)=>{T.readv(e,t,...r,(o,c,s)=>{if(o)return i(o);n({bytesRead:c,buffers:s})})})};Y.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?T.writev(e,t,...r):new Promise((n,i)=>{T.writev(e,t,...r,(o,c,s)=>{if(o)return i(o);n({bytesWritten:c,buffers:s})})})};typeof T.realpath.native=="function"?Y.realpath.native=tt(T.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var nt=d((go,rt)=>{"use strict";var mn=require("path");rt.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(mn.parse(t).root,""))){let n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}}});var at=d((Eo,Ie)=>{"use strict";var it=R(),{checkPath:ot}=nt(),ct=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Ie.exports.makeDir=async(e,t)=>(ot(e),it.mkdir(e,{mode:ct(t),recursive:!0}));Ie.exports.makeDirSync=(e,t)=>(ot(e),it.mkdirSync(e,{mode:ct(t),recursive:!0}))});var J=d((Fo,st)=>{"use strict";var dn=P().fromPromise,{makeDir:hn,makeDirSync:Le}=at(),Ce=dn(hn);st.exports={mkdirs:Ce,mkdirsSync:Le,mkdirp:Ce,mkdirpSync:Le,ensureDir:Ce,ensureDirSync:Le}});var V=d((ko,lt)=>{"use strict";var pn=P().fromPromise,ut=R();function wn(e){return ut.access(e).then(()=>!0).catch(()=>!1)}lt.exports={pathExists:pn(wn),pathExistsSync:ut.existsSync}});var _e=d((Do,ft)=>{"use strict";var te=R(),Sn=P().fromPromise;async function vn(e,t,r){let n=await te.open(e,"r+"),i=null;try{await te.futimes(n,t,r)}finally{try{await te.close(n)}catch(o){i=o}}if(i)throw i}function gn(e,t,r){let n=te.openSync(e,"r+");return te.futimesSync(n,t,r),te.closeSync(n)}ft.exports={utimesMillis:Sn(vn),utimesMillisSync:gn}});var X=d((xo,ht)=>{"use strict";var re=R(),O=require("path"),yt=P().fromPromise;function En(e,t,r){let n=r.dereference?i=>re.stat(i,{bigint:!0}):i=>re.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function Fn(e,t,r){let n,i=r.dereference?c=>re.statSync(c,{bigint:!0}):c=>re.lstatSync(c,{bigint:!0}),o=i(e);try{n=i(t)}catch(c){if(c.code==="ENOENT")return{srcStat:o,destStat:null};throw c}return{srcStat:o,destStat:n}}async function kn(e,t,r,n){let{srcStat:i,destStat:o}=await En(e,t,n);if(o){if(oe(i,o)){let c=O.basename(e),s=O.basename(t);if(r==="move"&&c!==s&&c.toLowerCase()===s.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Ne(e,t))throw new Error(we(e,t,r));return{srcStat:i,destStat:o}}function Dn(e,t,r,n){let{srcStat:i,destStat:o}=Fn(e,t,n);if(o){if(oe(i,o)){let c=O.basename(e),s=O.basename(t);if(r==="move"&&c!==s&&c.toLowerCase()===s.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Ne(e,t))throw new Error(we(e,t,r));return{srcStat:i,destStat:o}}async function mt(e,t,r,n){let i=O.resolve(O.dirname(e)),o=O.resolve(O.dirname(r));if(o===i||o===O.parse(o).root)return;let c;try{c=await re.stat(o,{bigint:!0})}catch(s){if(s.code==="ENOENT")return;throw s}if(oe(t,c))throw new Error(we(e,r,n));return mt(e,t,o,n)}function dt(e,t,r,n){let i=O.resolve(O.dirname(e)),o=O.resolve(O.dirname(r));if(o===i||o===O.parse(o).root)return;let c;try{c=re.statSync(o,{bigint:!0})}catch(s){if(s.code==="ENOENT")return;throw s}if(oe(t,c))throw new Error(we(e,r,n));return dt(e,t,o,n)}function oe(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Ne(e,t){let r=O.resolve(e).split(O.sep).filter(i=>i),n=O.resolve(t).split(O.sep).filter(i=>i);return r.every((i,o)=>n[o]===i)}function we(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}ht.exports={checkPaths:yt(kn),checkPathsSync:Dn,checkParentPaths:yt(mt),checkParentPathsSync:dt,isSrcSubdir:Ne,areIdentical:oe}});var gt=d((qo,vt)=>{"use strict";var N=R(),ce=require("path"),{mkdirs:xn}=J(),{pathExists:qn}=V(),{utimesMillis:Pn}=_e(),ae=X();async function On(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:n,destStat:i}=await ae.checkPaths(e,t,"copy",r);if(await ae.checkParentPaths(e,n,t,"copy"),!await wt(e,t,r))return;let c=ce.dirname(t);await qn(c)||await xn(c),await St(i,e,t,r)}async function wt(e,t,r){return r.filter?r.filter(e,t):!0}async function St(e,t,r,n){let o=await(n.dereference?N.stat:N.lstat)(t);if(o.isDirectory())return Cn(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return bn(o,e,t,r,n);if(o.isSymbolicLink())return _n(e,t,r,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function bn(e,t,r,n,i){if(!t)return pt(e,r,n,i);if(i.overwrite)return await N.unlink(n),pt(e,r,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function pt(e,t,r,n){if(await N.copyFile(t,r),n.preserveTimestamps){In(e.mode)&&await Ln(r,e.mode);let i=await N.stat(t);await Pn(r,i.atime,i.mtime)}return N.chmod(r,e.mode)}function In(e){return(e&128)===0}function Ln(e,t){return N.chmod(e,t|128)}async function Cn(e,t,r,n,i){t||await N.mkdir(n);let o=[];for await(let c of await N.opendir(r)){let s=ce.join(r,c.name),p=ce.join(n,c.name);o.push(wt(s,p,i).then(_=>{if(_)return ae.checkPaths(s,p,"copy",i).then(({destStat:a})=>St(a,s,p,i))}))}await Promise.all(o),t||await N.chmod(n,e.mode)}async function _n(e,t,r,n){let i=await N.readlink(t);if(n.dereference&&(i=ce.resolve(process.cwd(),i)),!e)return N.symlink(i,r);let o=null;try{o=await N.readlink(r)}catch(c){if(c.code==="EINVAL"||c.code==="UNKNOWN")return N.symlink(i,r);throw c}if(n.dereference&&(o=ce.resolve(process.cwd(),o)),ae.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(ae.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return await N.unlink(r),N.symlink(i,r)}vt.exports=On});var xt=d((Po,Dt)=>{"use strict";var W=ee(),se=require("path"),Nn=J().mkdirsSync,$n=_e().utimesMillisSync,ue=X();function Tn(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=ue.checkPathsSync(e,t,"copy",r);if(ue.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;let o=se.dirname(t);return W.existsSync(o)||Nn(o),Et(i,e,t,r)}function Et(e,t,r,n){let o=(n.dereference?W.statSync:W.lstatSync)(t);if(o.isDirectory())return Hn(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return Rn(o,e,t,r,n);if(o.isSymbolicLink())return Un(e,t,r,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Rn(e,t,r,n,i){return t?Wn(e,r,n,i):Ft(e,r,n,i)}function Wn(e,t,r,n){if(n.overwrite)return W.unlinkSync(r),Ft(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Ft(e,t,r,n){return W.copyFileSync(t,r),n.preserveTimestamps&&jn(e.mode,t,r),$e(r,e.mode)}function jn(e,t,r){return An(e)&&Mn(r,e),Jn(t,r)}function An(e){return(e&128)===0}function Mn(e,t){return $e(e,t|128)}function $e(e,t){return W.chmodSync(e,t)}function Jn(e,t){let r=W.statSync(e);return $n(t,r.atime,r.mtime)}function Hn(e,t,r,n,i){return t?kt(r,n,i):Yn(e.mode,r,n,i)}function Yn(e,t,r,n){return W.mkdirSync(r),kt(t,r,n),$e(r,e)}function kt(e,t,r){let n=W.opendirSync(e);try{let i;for(;(i=n.readSync())!==null;)Bn(i.name,e,t,r)}finally{n.closeSync()}}function Bn(e,t,r,n){let i=se.join(t,e),o=se.join(r,e);if(n.filter&&!n.filter(i,o))return;let{destStat:c}=ue.checkPathsSync(i,o,"copy",n);return Et(c,i,o,n)}function Un(e,t,r,n){let i=W.readlinkSync(t);if(n.dereference&&(i=se.resolve(process.cwd(),i)),e){let o;try{o=W.readlinkSync(r)}catch(c){if(c.code==="EINVAL"||c.code==="UNKNOWN")return W.symlinkSync(i,r);throw c}if(n.dereference&&(o=se.resolve(process.cwd(),o)),ue.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(ue.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return Vn(i,r)}else return W.symlinkSync(i,r)}function Vn(e,t){return W.unlinkSync(t),W.symlinkSync(e,t)}Dt.exports=Tn});var Se=d((Oo,qt)=>{"use strict";var Gn=P().fromPromise;qt.exports={copy:Gn(gt()),copySync:xt()}});var le=d((bo,Ot)=>{"use strict";var Pt=ee(),Kn=P().fromCallback;function Qn(e,t){Pt.rm(e,{recursive:!0,force:!0},t)}function zn(e){Pt.rmSync(e,{recursive:!0,force:!0})}Ot.exports={remove:Kn(Qn),removeSync:zn}});var Tt=d((Io,$t)=>{"use strict";var Xn=P().fromPromise,Lt=R(),Ct=require("path"),_t=J(),Nt=le(),bt=Xn(async function(t){let r;try{r=await Lt.readdir(t)}catch{return _t.mkdirs(t)}return Promise.all(r.map(n=>Nt.remove(Ct.join(t,n))))});function It(e){let t;try{t=Lt.readdirSync(e)}catch{return _t.mkdirsSync(e)}t.forEach(r=>{r=Ct.join(e,r),Nt.removeSync(r)})}$t.exports={emptyDirSync:It,emptydirSync:It,emptyDir:bt,emptydir:bt}});var At=d((Lo,jt)=>{"use strict";var Zn=P().fromPromise,Rt=require("path"),B=R(),Wt=J();async function ei(e){let t;try{t=await B.stat(e)}catch{}if(t&&t.isFile())return;let r=Rt.dirname(e),n=null;try{n=await B.stat(r)}catch(i){if(i.code==="ENOENT"){await Wt.mkdirs(r),await B.writeFile(e,"");return}else throw i}n.isDirectory()?await B.writeFile(e,""):await B.readdir(r)}function ti(e){let t;try{t=B.statSync(e)}catch{}if(t&&t.isFile())return;let r=Rt.dirname(e);try{B.statSync(r).isDirectory()||B.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")Wt.mkdirsSync(r);else throw n}B.writeFileSync(e,"")}jt.exports={createFile:Zn(ei),createFileSync:ti}});var Bt=d((Co,Yt)=>{"use strict";var ri=P().fromPromise,Mt=require("path"),G=R(),Jt=J(),{pathExists:ni}=V(),{areIdentical:Ht}=X();async function ii(e,t){let r;try{r=await G.lstat(t)}catch{}let n;try{n=await G.lstat(e)}catch(c){throw c.message=c.message.replace("lstat","ensureLink"),c}if(r&&Ht(n,r))return;let i=Mt.dirname(t);await ni(i)||await Jt.mkdirs(i),await G.link(e,t)}function oi(e,t){let r;try{r=G.lstatSync(t)}catch{}try{let o=G.lstatSync(e);if(r&&Ht(o,r))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=Mt.dirname(t);return G.existsSync(n)||Jt.mkdirsSync(n),G.linkSync(e,t)}Yt.exports={createLink:ri(ii),createLinkSync:oi}});var Vt=d((_o,Ut)=>{"use strict";var K=require("path"),fe=R(),{pathExists:ci}=V(),ai=P().fromPromise;async function si(e,t){if(K.isAbsolute(e)){try{await fe.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:e}}let r=K.dirname(t),n=K.join(r,e);if(await ci(n))return{toCwd:n,toDst:e};try{await fe.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:K.relative(r,e)}}function ui(e,t){if(K.isAbsolute(e)){if(!fe.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}let r=K.dirname(t),n=K.join(r,e);if(fe.existsSync(n))return{toCwd:n,toDst:e};if(!fe.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:K.relative(r,e)}}Ut.exports={symlinkPaths:ai(si),symlinkPathsSync:ui}});var Qt=d((No,Kt)=>{"use strict";var Gt=R(),li=P().fromPromise;async function fi(e,t){if(t)return t;let r;try{r=await Gt.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function yi(e,t){if(t)return t;let r;try{r=Gt.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}Kt.exports={symlinkType:li(fi),symlinkTypeSync:yi}});var er=d(($o,Zt)=>{"use strict";var mi=P().fromPromise,zt=require("path"),H=R(),{mkdirs:di,mkdirsSync:hi}=J(),{symlinkPaths:pi,symlinkPathsSync:wi}=Vt(),{symlinkType:Si,symlinkTypeSync:vi}=Qt(),{pathExists:gi}=V(),{areIdentical:Xt}=X();async function Ei(e,t,r){let n;try{n=await H.lstat(t)}catch{}if(n&&n.isSymbolicLink()){let[s,p]=await Promise.all([H.stat(e),H.stat(t)]);if(Xt(s,p))return}let i=await pi(e,t);e=i.toDst;let o=await Si(i.toCwd,r),c=zt.dirname(t);return await gi(c)||await di(c),H.symlink(e,t,o)}function Fi(e,t,r){let n;try{n=H.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let s=H.statSync(e),p=H.statSync(t);if(Xt(s,p))return}let i=wi(e,t);e=i.toDst,r=vi(i.toCwd,r);let o=zt.dirname(t);return H.existsSync(o)||hi(o),H.symlinkSync(e,t,r)}Zt.exports={createSymlink:mi(Ei),createSymlinkSync:Fi}});var sr=d((To,ar)=>{"use strict";var{createFile:tr,createFileSync:rr}=At(),{createLink:nr,createLinkSync:ir}=Bt(),{createSymlink:or,createSymlinkSync:cr}=er();ar.exports={createFile:tr,createFileSync:rr,ensureFile:tr,ensureFileSync:rr,createLink:nr,createLinkSync:ir,ensureLink:nr,ensureLinkSync:ir,createSymlink:or,createSymlinkSync:cr,ensureSymlink:or,ensureSymlinkSync:cr}});var ve=d((Ro,ur)=>{function ki(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){let o=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+o}function Di(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}ur.exports={stringify:ki,stripBom:Di}});var mr=d((Wo,yr)=>{var ne;try{ne=ee()}catch{ne=require("fs")}var ge=P(),{stringify:lr,stripBom:fr}=ve();async function xi(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ne,n="throws"in t?t.throws:!0,i=await ge.fromCallback(r.readFile)(e,t);i=fr(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(c){if(n)throw c.message=`${e}: ${c.message}`,c;return null}return o}var qi=ge.fromPromise(xi);function Pi(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ne,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=fr(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function Oi(e,t,r={}){let n=r.fs||ne,i=lr(t,r);await ge.fromCallback(n.writeFile)(e,i,r)}var bi=ge.fromPromise(Oi);function Ii(e,t,r={}){let n=r.fs||ne,i=lr(t,r);return n.writeFileSync(e,i,r)}var Li={readFile:qi,readFileSync:Pi,writeFile:bi,writeFileSync:Ii};yr.exports=Li});var hr=d((jo,dr)=>{"use strict";var Ee=mr();dr.exports={readJson:Ee.readFile,readJsonSync:Ee.readFileSync,writeJson:Ee.writeFile,writeJsonSync:Ee.writeFileSync}});var Fe=d((Ao,Sr)=>{"use strict";var Ci=P().fromPromise,Te=R(),pr=require("path"),wr=J(),_i=V().pathExists;async function Ni(e,t,r="utf-8"){let n=pr.dirname(e);return await _i(n)||await wr.mkdirs(n),Te.writeFile(e,t,r)}function $i(e,...t){let r=pr.dirname(e);Te.existsSync(r)||wr.mkdirsSync(r),Te.writeFileSync(e,...t)}Sr.exports={outputFile:Ci(Ni),outputFileSync:$i}});var gr=d((Mo,vr)=>{"use strict";var{stringify:Ti}=ve(),{outputFile:Ri}=Fe();async function Wi(e,t,r={}){let n=Ti(t,r);await Ri(e,n,r)}vr.exports=Wi});var Fr=d((Jo,Er)=>{"use strict";var{stringify:ji}=ve(),{outputFileSync:Ai}=Fe();function Mi(e,t,r){let n=ji(t,r);Ai(e,n,r)}Er.exports=Mi});var Dr=d((Ho,kr)=>{"use strict";var Ji=P().fromPromise,j=hr();j.outputJson=Ji(gr());j.outputJsonSync=Fr();j.outputJSON=j.outputJson;j.outputJSONSync=j.outputJsonSync;j.writeJSON=j.writeJson;j.writeJSONSync=j.writeJsonSync;j.readJSON=j.readJson;j.readJSONSync=j.readJsonSync;kr.exports=j});var br=d((Yo,Or)=>{"use strict";var Hi=R(),xr=require("path"),{copy:Yi}=Se(),{remove:Pr}=le(),{mkdirp:Bi}=J(),{pathExists:Ui}=V(),qr=X();async function Vi(e,t,r={}){let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:o=!1}=await qr.checkPaths(e,t,"move",r);await qr.checkParentPaths(e,i,t,"move");let c=xr.dirname(t);return xr.parse(c).root!==c&&await Bi(c),Gi(e,t,n,o)}async function Gi(e,t,r,n){if(!n){if(r)await Pr(t);else if(await Ui(t))throw new Error("dest already exists.")}try{await Hi.rename(e,t)}catch(i){if(i.code!=="EXDEV")throw i;await Ki(e,t,r)}}async function Ki(e,t,r){return await Yi(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Pr(e)}Or.exports=Vi});var Nr=d((Bo,_r)=>{"use strict";var Lr=ee(),We=require("path"),Qi=Se().copySync,Cr=le().removeSync,zi=J().mkdirpSync,Ir=X();function Xi(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:o=!1}=Ir.checkPathsSync(e,t,"move",r);return Ir.checkParentPathsSync(e,i,t,"move"),Zi(t)||zi(We.dirname(t)),eo(e,t,n,o)}function Zi(e){let t=We.dirname(e);return We.parse(t).root===t}function eo(e,t,r,n){if(n)return Re(e,t,r);if(r)return Cr(t),Re(e,t,r);if(Lr.existsSync(t))throw new Error("dest already exists.");return Re(e,t,r)}function Re(e,t,r){try{Lr.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return to(e,t,r)}}function to(e,t,r){return Qi(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Cr(e)}_r.exports=Xi});var Tr=d((Uo,$r)=>{"use strict";var ro=P().fromPromise;$r.exports={move:ro(br()),moveSync:Nr()}});var Wr=d((Vo,Rr)=>{"use strict";Rr.exports={...R(),...Se(),...Tt(),...sr(),...Dr(),...J(),...Tr(),...Fe(),...V(),...le()}});var ao={};Xr(ao,{default:()=>co});module.exports=en(ao);var Br=require("@raycast/api");var M=require("@raycast/api");var jr=require("@raycast/api");var Q=require("os");var fo=[{title:"Desktop",value:`${(0,Q.homedir)()}/Desktop`},{title:"Documents",value:`${(0,Q.homedir)()}/Documents`},{title:"Movies",value:`${(0,Q.homedir)()}/Movies`},{title:"Music",value:`${(0,Q.homedir)()}/Music`},{title:"Pictures",value:`${(0,Q.homedir)()}/Pictures`},{title:"Downloads",value:`${(0,Q.homedir)()}/Downloads`}];var Ar=Zr(Wr()),je=async e=>{let t=await jr.LocalStorage.getItem(e);return typeof t>"u"?"":t},Ae=e=>!(e!=null&&String(e).length>0);var Mr=e=>{try{let t=Ar.default.lstatSync(e);if(t.isDirectory())return"Directory";if(t.isFile())return"File"}catch(t){return console.error(`Error checking path ${e}:`,t),"File"}return"File"};var Jr=(e,t)=>{let r=!1;return t.forEach(n=>{if(n.path===e){r=!0;return}}),r};var ke=require("path"),Me=require("child_process");var Hr=require("node:child_process");var no=async e=>{try{let t=await je("localHideDirectory"),r=Ae(t)?[]:JSON.parse(t),n=new Date().getTime(),i=[];e.sort((c,s)=>c.localeCompare(s)).map((c,s)=>{let p=(0,ke.parse)(c);Jr(p.dir+"/"+p.base,r)||i.push({id:"directory_"+(n+s),name:p.base,path:p.dir+"/"+p.base,type:Mr(c),valid:!0,date:n+s})});let o=[...i,...r].sort((c,s)=>s.date-c.date);await M.LocalStorage.setItem("localHideDirectory",JSON.stringify(o))}catch(t){console.error(String(t))}};var io=async e=>{let t=await je("localHideDirectory"),r=[];Ae(t)||(r=JSON.parse(t));let n=[...r];e.forEach(i=>{let o=(0,ke.parse)(i);n.forEach((c,s)=>{c.path===o.dir+"/"+o.base&&n.splice(s,1)})}),await M.LocalStorage.setItem("localHideDirectory",JSON.stringify(n))};var oo=e=>{let t=Array.isArray(e)?e[0]:e;return(0,Hr.spawnSync)("ls",["-lOd",t]).stdout.toString().split(RegExp("\\s+"))[4]!=="-"};var Yr=async()=>{try{let e=await(0,M.getSelectedFinderItems)();if(e.length===0){await(0,M.showHUD)("\u{1F4C2} No files selected");return}let t=oo(e[0].path),r="";if(e.forEach(n=>{let i=(0,ke.parse)(n.path);r=r+" "+i.dir.replaceAll(" ",'" "')+"/"+i.base.replaceAll(" ",'" "')}),t){await(0,M.showHUD)("\u{1F435} Unhiding selected files"),(0,Me.spawn)("chflags",["nohidden",`${r}`],{shell:!0});let n=e.map(i=>i.path);await io(n)}else{await(0,M.showHUD)("\u{1F648} Hiding selected files"),(0,Me.spawn)("chflags",["hidden",r],{shell:!0});let n=e.map(i=>i.path);await no(n)}}catch(e){(0,M.captureException)(e),await(0,M.showHUD)(`\u{1F6A8} ${String(e)}`),console.error(String(e))}};var co=async()=>{await(0,Br.closeMainWindow)(),await Yr()};
