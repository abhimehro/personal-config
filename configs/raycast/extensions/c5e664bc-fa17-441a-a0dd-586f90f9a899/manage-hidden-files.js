"use strict";var dn=Object.create;var pe=Object.defineProperty;var pn=Object.getOwnPropertyDescriptor;var hn=Object.getOwnPropertyNames;var wn=Object.getPrototypeOf,Sn=Object.prototype.hasOwnProperty;var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gn=(e,t)=>{for(var r in t)pe(e,r,{get:t[r],enumerable:!0})},tt=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of hn(t))!Sn.call(e,n)&&n!==r&&pe(e,n,{get:()=>t[n],enumerable:!(i=pn(t,n))||i.enumerable});return e};var vn=(e,t,r)=>(r=e!=null?dn(wn(e)):{},tt(t||!e||!e.__esModule?pe(r,"default",{value:e,enumerable:!0}):r,e)),En=e=>tt(pe({},"__esModule",{value:!0}),e);var q=p(Ce=>{"use strict";Ce.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,i)=>{t.push((n,o)=>n!=null?i(n):r(o)),e.apply(this,t)})},"name",{value:e.name})};Ce.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(i=>r(null,i),r)},"name",{value:e.name})}});var ct=p((Lo,ot)=>{var V=require("constants"),Dn=process.cwd,he=null,Fn=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return he||(he=Dn.call(process)),he};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Ae=process.chdir,process.chdir=function(e){he=null,Ae.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Ae));var Ae;ot.exports=kn;function kn(e){V.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=s(e.stat),e.fstat=s(e.fstat),e.lstat=s(e.lstat),e.statSync=h(e.statSync),e.fstatSync=h(e.fstatSync),e.lstatSync=h(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(a,d,y){y&&process.nextTick(y)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(a,d,y,u){u&&process.nextTick(u)},e.lchownSync=function(){}),Fn==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:(function(a){function d(y,u,m){var E=Date.now(),g=0;a(y,u,function F(M){if(M&&(M.code==="EACCES"||M.code==="EPERM"||M.code==="EBUSY")&&Date.now()-E<6e4){setTimeout(function(){e.stat(u,function($,ae){$&&$.code==="ENOENT"?a(y,u,F):m(M)})},g),g<100&&(g+=10);return}m&&m(M)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d})(e.rename)),e.read=typeof e.read!="function"?e.read:(function(a){function d(y,u,m,E,g,F){var M;if(F&&typeof F=="function"){var $=0;M=function(ae,Ze,et){if(ae&&ae.code==="EAGAIN"&&$<10)return $++,a.call(e,y,u,m,E,g,M);F.apply(this,arguments)}}return a.call(e,y,u,m,E,g,M)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d})(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:(function(a){return function(d,y,u,m,E){for(var g=0;;)try{return a.call(e,d,y,u,m,E)}catch(F){if(F.code==="EAGAIN"&&g<10){g++;continue}throw F}}})(e.readSync);function t(a){a.lchmod=function(d,y,u){a.open(d,V.O_WRONLY|V.O_SYMLINK,y,function(m,E){if(m){u&&u(m);return}a.fchmod(E,y,function(g){a.close(E,function(F){u&&u(g||F)})})})},a.lchmodSync=function(d,y){var u=a.openSync(d,V.O_WRONLY|V.O_SYMLINK,y),m=!0,E;try{E=a.fchmodSync(u,y),m=!1}finally{if(m)try{a.closeSync(u)}catch{}else a.closeSync(u)}return E}}function r(a){V.hasOwnProperty("O_SYMLINK")&&a.futimes?(a.lutimes=function(d,y,u,m){a.open(d,V.O_SYMLINK,function(E,g){if(E){m&&m(E);return}a.futimes(g,y,u,function(F){a.close(g,function(M){m&&m(F||M)})})})},a.lutimesSync=function(d,y,u){var m=a.openSync(d,V.O_SYMLINK),E,g=!0;try{E=a.futimesSync(m,y,u),g=!1}finally{if(g)try{a.closeSync(m)}catch{}else a.closeSync(m)}return E}):a.futimes&&(a.lutimes=function(d,y,u,m){m&&process.nextTick(m)},a.lutimesSync=function(){})}function i(a){return a&&function(d,y,u){return a.call(e,d,y,function(m){I(m)&&(m=null),u&&u.apply(this,arguments)})}}function n(a){return a&&function(d,y){try{return a.call(e,d,y)}catch(u){if(!I(u))throw u}}}function o(a){return a&&function(d,y,u,m){return a.call(e,d,y,u,function(E){I(E)&&(E=null),m&&m.apply(this,arguments)})}}function c(a){return a&&function(d,y,u){try{return a.call(e,d,y,u)}catch(m){if(!I(m))throw m}}}function s(a){return a&&function(d,y,u){typeof y=="function"&&(u=y,y=null);function m(E,g){g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),u&&u.apply(this,arguments)}return y?a.call(e,d,y,m):a.call(e,d,m)}}function h(a){return a&&function(d,y){var u=y?a.call(e,d,y):a.call(e,d);return u&&(u.uid<0&&(u.uid+=4294967296),u.gid<0&&(u.gid+=4294967296)),u}}function I(a){if(!a||a.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(a.code==="EINVAL"||a.code==="EPERM"))}}});var ut=p((Co,st)=>{var at=require("stream").Stream;st.exports=xn;function xn(e){return{ReadStream:t,WriteStream:r};function t(i,n){if(!(this instanceof t))return new t(i,n);at.call(this);var o=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,n=n||{};for(var c=Object.keys(n),s=0,h=c.length;s<h;s++){var I=c[s];this[I]=n[I]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(a,d){if(a){o.emit("error",a),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function r(i,n){if(!(this instanceof r))return new r(i,n);at.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,n=n||{};for(var o=Object.keys(n),c=0,s=o.length;c<s;c++){var h=o[c];this[h]=n[h]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var ft=p((Ao,lt)=>{"use strict";lt.exports=On;var Pn=Object.getPrototypeOf||function(e){return e.__proto__};function On(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Pn(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var ne=p((To,Ne)=>{var x=require("fs"),In=ct(),bn=ut(),qn=ft(),we=require("util"),_,ge;typeof Symbol=="function"&&typeof Symbol.for=="function"?(_=Symbol.for("graceful-fs.queue"),ge=Symbol.for("graceful-fs.previous")):(_="___graceful-fs.queue",ge="___graceful-fs.previous");function Ln(){}function dt(e,t){Object.defineProperty(e,_,{get:function(){return t}})}var Z=Ln;we.debuglog?Z=we.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Z=function(){var e=we.format.apply(we,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});x[_]||(yt=global[_]||[],dt(x,yt),x.close=(function(e){function t(r,i){return e.call(x,r,function(n){n||mt(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(t,ge,{value:e}),t})(x.close),x.closeSync=(function(e){function t(r){e.apply(x,arguments),mt()}return Object.defineProperty(t,ge,{value:e}),t})(x.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Z(x[_]),require("assert").equal(x[_].length,0)}));var yt;global[_]||dt(global,x[_]);Ne.exports=Te(qn(x));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!x.__patched&&(Ne.exports=Te(x),x.__patched=!0);function Te(e){In(e),e.gracefulify=Te,e.createReadStream=Ze,e.createWriteStream=et;var t=e.readFile;e.readFile=r;function r(f,S,w){return typeof S=="function"&&(w=S,S=null),C(f,S,w);function C(A,b,k,P){return t(A,b,function(v){v&&(v.code==="EMFILE"||v.code==="ENFILE")?re([C,[A,b,k],v,P||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var i=e.writeFile;e.writeFile=n;function n(f,S,w,C){return typeof w=="function"&&(C=w,w=null),A(f,S,w,C);function A(b,k,P,v,T){return i(b,k,P,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?re([A,[b,k,P,v],D,T||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=c);function c(f,S,w,C){return typeof w=="function"&&(C=w,w=null),A(f,S,w,C);function A(b,k,P,v,T){return o(b,k,P,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?re([A,[b,k,P,v],D,T||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}var s=e.copyFile;s&&(e.copyFile=h);function h(f,S,w,C){return typeof w=="function"&&(C=w,w=0),A(f,S,w,C);function A(b,k,P,v,T){return s(b,k,P,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?re([A,[b,k,P,v],D,T||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}var I=e.readdir;e.readdir=d;var a=/^v[0-5]\./;function d(f,S,w){typeof S=="function"&&(w=S,S=null);var C=a.test(process.version)?function(k,P,v,T){return I(k,A(k,P,v,T))}:function(k,P,v,T){return I(k,P,A(k,P,v,T))};return C(f,S,w);function A(b,k,P,v){return function(T,D){T&&(T.code==="EMFILE"||T.code==="ENFILE")?re([C,[b,k,P],T,v||Date.now(),Date.now()]):(D&&D.sort&&D.sort(),typeof P=="function"&&P.call(this,T,D))}}}if(process.version.substr(0,4)==="v0.8"){var y=bn(e);F=y.ReadStream,$=y.WriteStream}var u=e.ReadStream;u&&(F.prototype=Object.create(u.prototype),F.prototype.open=M);var m=e.WriteStream;m&&($.prototype=Object.create(m.prototype),$.prototype.open=ae),Object.defineProperty(e,"ReadStream",{get:function(){return F},set:function(f){F=f},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return $},set:function(f){$=f},enumerable:!0,configurable:!0});var E=F;Object.defineProperty(e,"FileReadStream",{get:function(){return E},set:function(f){E=f},enumerable:!0,configurable:!0});var g=$;Object.defineProperty(e,"FileWriteStream",{get:function(){return g},set:function(f){g=f},enumerable:!0,configurable:!0});function F(f,S){return this instanceof F?(u.apply(this,arguments),this):F.apply(Object.create(F.prototype),arguments)}function M(){var f=this;Le(f.path,f.flags,f.mode,function(S,w){S?(f.autoClose&&f.destroy(),f.emit("error",S)):(f.fd=w,f.emit("open",w),f.read())})}function $(f,S){return this instanceof $?(m.apply(this,arguments),this):$.apply(Object.create($.prototype),arguments)}function ae(){var f=this;Le(f.path,f.flags,f.mode,function(S,w){S?(f.destroy(),f.emit("error",S)):(f.fd=w,f.emit("open",w))})}function Ze(f,S){return new e.ReadStream(f,S)}function et(f,S){return new e.WriteStream(f,S)}var mn=e.open;e.open=Le;function Le(f,S,w,C){return typeof w=="function"&&(C=w,w=null),A(f,S,w,C);function A(b,k,P,v,T){return mn(b,k,P,function(D,Po){D&&(D.code==="EMFILE"||D.code==="ENFILE")?re([A,[b,k,P,v],D,T||Date.now(),Date.now()]):typeof v=="function"&&v.apply(this,arguments)})}}return e}function re(e){Z("ENQUEUE",e[0].name,e[1]),x[_].push(e),_e()}var Se;function mt(){for(var e=Date.now(),t=0;t<x[_].length;++t)x[_][t].length>2&&(x[_][t][3]=e,x[_][t][4]=e);_e()}function _e(){if(clearTimeout(Se),Se=void 0,x[_].length!==0){var e=x[_].shift(),t=e[0],r=e[1],i=e[2],n=e[3],o=e[4];if(n===void 0)Z("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-n>=6e4){Z("TIMEOUT",t.name,r);var c=r.pop();typeof c=="function"&&c.call(null,i)}else{var s=Date.now()-o,h=Math.max(o-n,1),I=Math.min(h*1.2,100);s>=I?(Z("RETRY",t.name,r),t.apply(null,r.concat([n]))):x[_].push(e)}Se===void 0&&(Se=setTimeout(_e,0))}}});var W=p(U=>{"use strict";var pt=q().fromCallback,R=ne(),Cn=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof R[e]=="function");Object.assign(U,R);Cn.forEach(e=>{U[e]=pt(R[e])});U.exists=function(e,t){return typeof t=="function"?R.exists(e,t):new Promise(r=>R.exists(e,r))};U.read=function(e,t,r,i,n,o){return typeof o=="function"?R.read(e,t,r,i,n,o):new Promise((c,s)=>{R.read(e,t,r,i,n,(h,I,a)=>{if(h)return s(h);c({bytesRead:I,buffer:a})})})};U.write=function(e,t,...r){return typeof r[r.length-1]=="function"?R.write(e,t,...r):new Promise((i,n)=>{R.write(e,t,...r,(o,c,s)=>{if(o)return n(o);i({bytesWritten:c,buffer:s})})})};U.readv=function(e,t,...r){return typeof r[r.length-1]=="function"?R.readv(e,t,...r):new Promise((i,n)=>{R.readv(e,t,...r,(o,c,s)=>{if(o)return n(o);i({bytesRead:c,buffers:s})})})};U.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?R.writev(e,t,...r):new Promise((i,n)=>{R.writev(e,t,...r,(o,c,s)=>{if(o)return n(o);i({bytesWritten:c,buffers:s})})})};typeof R.realpath.native=="function"?U.realpath.native=pt(R.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var wt=p((No,ht)=>{"use strict";var An=require("path");ht.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(An.parse(t).root,""))){let i=new Error(`Path contains invalid characters: ${t}`);throw i.code="EINVAL",i}}});var Et=p(($o,$e)=>{"use strict";var St=W(),{checkPath:gt}=wt(),vt=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};$e.exports.makeDir=async(e,t)=>(gt(e),St.mkdir(e,{mode:vt(t),recursive:!0}));$e.exports.makeDirSync=(e,t)=>(gt(e),St.mkdirSync(e,{mode:vt(t),recursive:!0}))});var J=p((Ro,Dt)=>{"use strict";var Tn=q().fromPromise,{makeDir:_n,makeDirSync:Re}=Et(),We=Tn(_n);Dt.exports={mkdirs:We,mkdirsSync:Re,mkdirp:We,mkdirpSync:Re,ensureDir:We,ensureDirSync:Re}});var G=p((Wo,kt)=>{"use strict";var Nn=q().fromPromise,Ft=W();function $n(e){return Ft.access(e).then(()=>!0).catch(()=>!1)}kt.exports={pathExists:Nn($n),pathExistsSync:Ft.existsSync}});var je=p((jo,xt)=>{"use strict";var ie=W(),Rn=q().fromPromise;async function Wn(e,t,r){let i=await ie.open(e,"r+"),n=null;try{await ie.futimes(i,t,r)}finally{try{await ie.close(i)}catch(o){n=o}}if(n)throw n}function jn(e,t,r){let i=ie.openSync(e,"r+");return ie.futimesSync(i,t,r),ie.closeSync(i)}xt.exports={utimesMillis:Rn(Wn),utimesMillisSync:jn}});var ee=p((Ho,bt)=>{"use strict";var oe=W(),L=require("path"),Pt=q().fromPromise;function Hn(e,t,r){let i=r.dereference?n=>oe.stat(n,{bigint:!0}):n=>oe.lstat(n,{bigint:!0});return Promise.all([i(e),i(t).catch(n=>{if(n.code==="ENOENT")return null;throw n})]).then(([n,o])=>({srcStat:n,destStat:o}))}function Mn(e,t,r){let i,n=r.dereference?c=>oe.statSync(c,{bigint:!0}):c=>oe.lstatSync(c,{bigint:!0}),o=n(e);try{i=n(t)}catch(c){if(c.code==="ENOENT")return{srcStat:o,destStat:null};throw c}return{srcStat:o,destStat:i}}async function Jn(e,t,r,i){let{srcStat:n,destStat:o}=await Hn(e,t,i);if(o){if(se(n,o)){let c=L.basename(e),s=L.basename(t);if(r==="move"&&c!==s&&c.toLowerCase()===s.toLowerCase())return{srcStat:n,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!n.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(n.isDirectory()&&He(e,t))throw new Error(ve(e,t,r));return{srcStat:n,destStat:o}}function Yn(e,t,r,i){let{srcStat:n,destStat:o}=Mn(e,t,i);if(o){if(se(n,o)){let c=L.basename(e),s=L.basename(t);if(r==="move"&&c!==s&&c.toLowerCase()===s.toLowerCase())return{srcStat:n,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!n.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(n.isDirectory()&&He(e,t))throw new Error(ve(e,t,r));return{srcStat:n,destStat:o}}async function Ot(e,t,r,i){let n=L.resolve(L.dirname(e)),o=L.resolve(L.dirname(r));if(o===n||o===L.parse(o).root)return;let c;try{c=await oe.stat(o,{bigint:!0})}catch(s){if(s.code==="ENOENT")return;throw s}if(se(t,c))throw new Error(ve(e,r,i));return Ot(e,t,o,i)}function It(e,t,r,i){let n=L.resolve(L.dirname(e)),o=L.resolve(L.dirname(r));if(o===n||o===L.parse(o).root)return;let c;try{c=oe.statSync(o,{bigint:!0})}catch(s){if(s.code==="ENOENT")return;throw s}if(se(t,c))throw new Error(ve(e,r,i));return It(e,t,o,i)}function se(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function He(e,t){let r=L.resolve(e).split(L.sep).filter(n=>n),i=L.resolve(t).split(L.sep).filter(n=>n);return r.every((n,o)=>i[o]===n)}function ve(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}bt.exports={checkPaths:Pt(Jn),checkPathsSync:Yn,checkParentPaths:Pt(Ot),checkParentPathsSync:It,isSrcSubdir:He,areIdentical:se}});var Tt=p((Mo,At)=>{"use strict";var N=W(),ue=require("path"),{mkdirs:Un}=J(),{pathExists:Bn}=G(),{utimesMillis:Vn}=je(),le=ee();async function Gn(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:i,destStat:n}=await le.checkPaths(e,t,"copy",r);if(await le.checkParentPaths(e,i,t,"copy"),!await Lt(e,t,r))return;let c=ue.dirname(t);await Bn(c)||await Un(c),await Ct(n,e,t,r)}async function Lt(e,t,r){return r.filter?r.filter(e,t):!0}async function Ct(e,t,r,i){let o=await(i.dereference?N.stat:N.lstat)(t);if(o.isDirectory())return Xn(o,e,t,r,i);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return Kn(o,e,t,r,i);if(o.isSymbolicLink())return Zn(e,t,r,i);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function Kn(e,t,r,i,n){if(!t)return qt(e,r,i,n);if(n.overwrite)return await N.unlink(i),qt(e,r,i,n);if(n.errorOnExist)throw new Error(`'${i}' already exists`)}async function qt(e,t,r,i){if(await N.copyFile(t,r),i.preserveTimestamps){Qn(e.mode)&&await zn(r,e.mode);let n=await N.stat(t);await Vn(r,n.atime,n.mtime)}return N.chmod(r,e.mode)}function Qn(e){return(e&128)===0}function zn(e,t){return N.chmod(e,t|128)}async function Xn(e,t,r,i,n){t||await N.mkdir(i);let o=[];for await(let c of await N.opendir(r)){let s=ue.join(r,c.name),h=ue.join(i,c.name);o.push(Lt(s,h,n).then(I=>{if(I)return le.checkPaths(s,h,"copy",n).then(({destStat:a})=>Ct(a,s,h,n))}))}await Promise.all(o),t||await N.chmod(i,e.mode)}async function Zn(e,t,r,i){let n=await N.readlink(t);if(i.dereference&&(n=ue.resolve(process.cwd(),n)),!e)return N.symlink(n,r);let o=null;try{o=await N.readlink(r)}catch(c){if(c.code==="EINVAL"||c.code==="UNKNOWN")return N.symlink(n,r);throw c}if(i.dereference&&(o=ue.resolve(process.cwd(),o)),le.isSrcSubdir(n,o))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${o}'.`);if(le.isSrcSubdir(o,n))throw new Error(`Cannot overwrite '${o}' with '${n}'.`);return await N.unlink(r),N.symlink(n,r)}At.exports=Gn});var Wt=p((Jo,Rt)=>{"use strict";var j=ne(),fe=require("path"),ei=J().mkdirsSync,ti=je().utimesMillisSync,ye=ee();function ri(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:i,destStat:n}=ye.checkPathsSync(e,t,"copy",r);if(ye.checkParentPathsSync(e,i,t,"copy"),r.filter&&!r.filter(e,t))return;let o=fe.dirname(t);return j.existsSync(o)||ei(o),_t(n,e,t,r)}function _t(e,t,r,i){let o=(i.dereference?j.statSync:j.lstatSync)(t);if(o.isDirectory())return ui(o,e,t,r,i);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return ni(o,e,t,r,i);if(o.isSymbolicLink())return yi(e,t,r,i);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function ni(e,t,r,i,n){return t?ii(e,r,i,n):Nt(e,r,i,n)}function ii(e,t,r,i){if(i.overwrite)return j.unlinkSync(r),Nt(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}function Nt(e,t,r,i){return j.copyFileSync(t,r),i.preserveTimestamps&&oi(e.mode,t,r),Me(r,e.mode)}function oi(e,t,r){return ci(e)&&ai(r,e),si(t,r)}function ci(e){return(e&128)===0}function ai(e,t){return Me(e,t|128)}function Me(e,t){return j.chmodSync(e,t)}function si(e,t){let r=j.statSync(e);return ti(t,r.atime,r.mtime)}function ui(e,t,r,i,n){return t?$t(r,i,n):li(e.mode,r,i,n)}function li(e,t,r,i){return j.mkdirSync(r),$t(t,r,i),Me(r,e)}function $t(e,t,r){let i=j.opendirSync(e);try{let n;for(;(n=i.readSync())!==null;)fi(n.name,e,t,r)}finally{i.closeSync()}}function fi(e,t,r,i){let n=fe.join(t,e),o=fe.join(r,e);if(i.filter&&!i.filter(n,o))return;let{destStat:c}=ye.checkPathsSync(n,o,"copy",i);return _t(c,n,o,i)}function yi(e,t,r,i){let n=j.readlinkSync(t);if(i.dereference&&(n=fe.resolve(process.cwd(),n)),e){let o;try{o=j.readlinkSync(r)}catch(c){if(c.code==="EINVAL"||c.code==="UNKNOWN")return j.symlinkSync(n,r);throw c}if(i.dereference&&(o=fe.resolve(process.cwd(),o)),ye.isSrcSubdir(n,o))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${o}'.`);if(ye.isSrcSubdir(o,n))throw new Error(`Cannot overwrite '${o}' with '${n}'.`);return mi(n,r)}else return j.symlinkSync(n,r)}function mi(e,t){return j.unlinkSync(t),j.symlinkSync(e,t)}Rt.exports=ri});var Ee=p((Yo,jt)=>{"use strict";var di=q().fromPromise;jt.exports={copy:di(Tt()),copySync:Wt()}});var me=p((Uo,Mt)=>{"use strict";var Ht=ne(),pi=q().fromCallback;function hi(e,t){Ht.rm(e,{recursive:!0,force:!0},t)}function wi(e){Ht.rmSync(e,{recursive:!0,force:!0})}Mt.exports={remove:pi(hi),removeSync:wi}});var Qt=p((Bo,Kt)=>{"use strict";var Si=q().fromPromise,Ut=W(),Bt=require("path"),Vt=J(),Gt=me(),Jt=Si(async function(t){let r;try{r=await Ut.readdir(t)}catch{return Vt.mkdirs(t)}return Promise.all(r.map(i=>Gt.remove(Bt.join(t,i))))});function Yt(e){let t;try{t=Ut.readdirSync(e)}catch{return Vt.mkdirsSync(e)}t.forEach(r=>{r=Bt.join(e,r),Gt.removeSync(r)})}Kt.exports={emptyDirSync:Yt,emptydirSync:Yt,emptyDir:Jt,emptydir:Jt}});var er=p((Vo,Zt)=>{"use strict";var gi=q().fromPromise,zt=require("path"),B=W(),Xt=J();async function vi(e){let t;try{t=await B.stat(e)}catch{}if(t&&t.isFile())return;let r=zt.dirname(e),i=null;try{i=await B.stat(r)}catch(n){if(n.code==="ENOENT"){await Xt.mkdirs(r),await B.writeFile(e,"");return}else throw n}i.isDirectory()?await B.writeFile(e,""):await B.readdir(r)}function Ei(e){let t;try{t=B.statSync(e)}catch{}if(t&&t.isFile())return;let r=zt.dirname(e);try{B.statSync(r).isDirectory()||B.readdirSync(r)}catch(i){if(i&&i.code==="ENOENT")Xt.mkdirsSync(r);else throw i}B.writeFileSync(e,"")}Zt.exports={createFile:gi(vi),createFileSync:Ei}});var or=p((Go,ir)=>{"use strict";var Di=q().fromPromise,tr=require("path"),K=W(),rr=J(),{pathExists:Fi}=G(),{areIdentical:nr}=ee();async function ki(e,t){let r;try{r=await K.lstat(t)}catch{}let i;try{i=await K.lstat(e)}catch(c){throw c.message=c.message.replace("lstat","ensureLink"),c}if(r&&nr(i,r))return;let n=tr.dirname(t);await Fi(n)||await rr.mkdirs(n),await K.link(e,t)}function xi(e,t){let r;try{r=K.lstatSync(t)}catch{}try{let o=K.lstatSync(e);if(r&&nr(o,r))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let i=tr.dirname(t);return K.existsSync(i)||rr.mkdirsSync(i),K.linkSync(e,t)}ir.exports={createLink:Di(ki),createLinkSync:xi}});var ar=p((Ko,cr)=>{"use strict";var Q=require("path"),de=W(),{pathExists:Pi}=G(),Oi=q().fromPromise;async function Ii(e,t){if(Q.isAbsolute(e)){try{await de.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:e}}let r=Q.dirname(t),i=Q.join(r,e);if(await Pi(i))return{toCwd:i,toDst:e};try{await de.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:e,toDst:Q.relative(r,e)}}function bi(e,t){if(Q.isAbsolute(e)){if(!de.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}let r=Q.dirname(t),i=Q.join(r,e);if(de.existsSync(i))return{toCwd:i,toDst:e};if(!de.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Q.relative(r,e)}}cr.exports={symlinkPaths:Oi(Ii),symlinkPathsSync:bi}});var lr=p((Qo,ur)=>{"use strict";var sr=W(),qi=q().fromPromise;async function Li(e,t){if(t)return t;let r;try{r=await sr.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function Ci(e,t){if(t)return t;let r;try{r=sr.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}ur.exports={symlinkType:qi(Li),symlinkTypeSync:Ci}});var dr=p((zo,mr)=>{"use strict";var Ai=q().fromPromise,fr=require("path"),Y=W(),{mkdirs:Ti,mkdirsSync:_i}=J(),{symlinkPaths:Ni,symlinkPathsSync:$i}=ar(),{symlinkType:Ri,symlinkTypeSync:Wi}=lr(),{pathExists:ji}=G(),{areIdentical:yr}=ee();async function Hi(e,t,r){let i;try{i=await Y.lstat(t)}catch{}if(i&&i.isSymbolicLink()){let[s,h]=await Promise.all([Y.stat(e),Y.stat(t)]);if(yr(s,h))return}let n=await Ni(e,t);e=n.toDst;let o=await Ri(n.toCwd,r),c=fr.dirname(t);return await ji(c)||await Ti(c),Y.symlink(e,t,o)}function Mi(e,t,r){let i;try{i=Y.lstatSync(t)}catch{}if(i&&i.isSymbolicLink()){let s=Y.statSync(e),h=Y.statSync(t);if(yr(s,h))return}let n=$i(e,t);e=n.toDst,r=Wi(n.toCwd,r);let o=fr.dirname(t);return Y.existsSync(o)||_i(o),Y.symlinkSync(e,t,r)}mr.exports={createSymlink:Ai(Hi),createSymlinkSync:Mi}});var Dr=p((Xo,Er)=>{"use strict";var{createFile:pr,createFileSync:hr}=er(),{createLink:wr,createLinkSync:Sr}=or(),{createSymlink:gr,createSymlinkSync:vr}=dr();Er.exports={createFile:pr,createFileSync:hr,ensureFile:pr,ensureFileSync:hr,createLink:wr,createLinkSync:Sr,ensureLink:wr,ensureLinkSync:Sr,createSymlink:gr,createSymlinkSync:vr,ensureSymlink:gr,ensureSymlinkSync:vr}});var De=p((Zo,Fr)=>{function Ji(e,{EOL:t=`
`,finalEOL:r=!0,replacer:i=null,spaces:n}={}){let o=r?t:"";return JSON.stringify(e,i,n).replace(/\n/g,t)+o}function Yi(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Fr.exports={stringify:Ji,stripBom:Yi}});var Or=p((ec,Pr)=>{var ce;try{ce=ne()}catch{ce=require("fs")}var Fe=q(),{stringify:kr,stripBom:xr}=De();async function Ui(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ce,i="throws"in t?t.throws:!0,n=await Fe.fromCallback(r.readFile)(e,t);n=xr(n);let o;try{o=JSON.parse(n,t?t.reviver:null)}catch(c){if(i)throw c.message=`${e}: ${c.message}`,c;return null}return o}var Bi=Fe.fromPromise(Ui);function Vi(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||ce,i="throws"in t?t.throws:!0;try{let n=r.readFileSync(e,t);return n=xr(n),JSON.parse(n,t.reviver)}catch(n){if(i)throw n.message=`${e}: ${n.message}`,n;return null}}async function Gi(e,t,r={}){let i=r.fs||ce,n=kr(t,r);await Fe.fromCallback(i.writeFile)(e,n,r)}var Ki=Fe.fromPromise(Gi);function Qi(e,t,r={}){let i=r.fs||ce,n=kr(t,r);return i.writeFileSync(e,n,r)}var zi={readFile:Bi,readFileSync:Vi,writeFile:Ki,writeFileSync:Qi};Pr.exports=zi});var br=p((tc,Ir)=>{"use strict";var ke=Or();Ir.exports={readJson:ke.readFile,readJsonSync:ke.readFileSync,writeJson:ke.writeFile,writeJsonSync:ke.writeFileSync}});var xe=p((rc,Cr)=>{"use strict";var Xi=q().fromPromise,Je=W(),qr=require("path"),Lr=J(),Zi=G().pathExists;async function eo(e,t,r="utf-8"){let i=qr.dirname(e);return await Zi(i)||await Lr.mkdirs(i),Je.writeFile(e,t,r)}function to(e,...t){let r=qr.dirname(e);Je.existsSync(r)||Lr.mkdirsSync(r),Je.writeFileSync(e,...t)}Cr.exports={outputFile:Xi(eo),outputFileSync:to}});var Tr=p((nc,Ar)=>{"use strict";var{stringify:ro}=De(),{outputFile:no}=xe();async function io(e,t,r={}){let i=ro(t,r);await no(e,i,r)}Ar.exports=io});var Nr=p((ic,_r)=>{"use strict";var{stringify:oo}=De(),{outputFileSync:co}=xe();function ao(e,t,r){let i=oo(t,r);co(e,i,r)}_r.exports=ao});var Rr=p((oc,$r)=>{"use strict";var so=q().fromPromise,H=br();H.outputJson=so(Tr());H.outputJsonSync=Nr();H.outputJSON=H.outputJson;H.outputJSONSync=H.outputJsonSync;H.writeJSON=H.writeJson;H.writeJSONSync=H.writeJsonSync;H.readJSON=H.readJson;H.readJSONSync=H.readJsonSync;$r.exports=H});var Jr=p((cc,Mr)=>{"use strict";var uo=W(),Wr=require("path"),{copy:lo}=Ee(),{remove:Hr}=me(),{mkdirp:fo}=J(),{pathExists:yo}=G(),jr=ee();async function mo(e,t,r={}){let i=r.overwrite||r.clobber||!1,{srcStat:n,isChangingCase:o=!1}=await jr.checkPaths(e,t,"move",r);await jr.checkParentPaths(e,n,t,"move");let c=Wr.dirname(t);return Wr.parse(c).root!==c&&await fo(c),po(e,t,i,o)}async function po(e,t,r,i){if(!i){if(r)await Hr(t);else if(await yo(t))throw new Error("dest already exists.")}try{await uo.rename(e,t)}catch(n){if(n.code!=="EXDEV")throw n;await ho(e,t,r)}}async function ho(e,t,r){return await lo(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Hr(e)}Mr.exports=mo});var Gr=p((ac,Vr)=>{"use strict";var Ur=ne(),Ue=require("path"),wo=Ee().copySync,Br=me().removeSync,So=J().mkdirpSync,Yr=ee();function go(e,t,r){r=r||{};let i=r.overwrite||r.clobber||!1,{srcStat:n,isChangingCase:o=!1}=Yr.checkPathsSync(e,t,"move",r);return Yr.checkParentPathsSync(e,n,t,"move"),vo(t)||So(Ue.dirname(t)),Eo(e,t,i,o)}function vo(e){let t=Ue.dirname(e);return Ue.parse(t).root===t}function Eo(e,t,r,i){if(i)return Ye(e,t,r);if(r)return Br(t),Ye(e,t,r);if(Ur.existsSync(t))throw new Error("dest already exists.");return Ye(e,t,r)}function Ye(e,t,r){try{Ur.renameSync(e,t)}catch(i){if(i.code!=="EXDEV")throw i;return Do(e,t,r)}}function Do(e,t,r){return wo(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Br(e)}Vr.exports=go});var Qr=p((sc,Kr)=>{"use strict";var Fo=q().fromPromise;Kr.exports={move:Fo(Jr()),moveSync:Gr()}});var Xr=p((uc,zr)=>{"use strict";zr.exports={...W(),...Ee(),...Qt(),...Dr(),...Rr(),...J(),...Qr(),...xe(),...G(),...me()}});var xo={};gn(xo,{default:()=>yn});module.exports=En(xo);var l=require("@raycast/api"),ze=require("react");var Zr=require("@raycast/api");var rt=[".cr2",".cr3",".gif",".gif",".heic",".heif",".icns",".icon",".icons",".jpeg",".jpg",".jpg",".png",".raf",".raw",".svg",".tiff",".webp"];var X=require("os");var nt=[{title:"Folder",value:"Directory"},{title:"File",value:"File"}],it=[{title:"Desktop",value:`${(0,X.homedir)()}/Desktop`},{title:"Documents",value:`${(0,X.homedir)()}/Documents`},{title:"Movies",value:`${(0,X.homedir)()}/Movies`},{title:"Music",value:`${(0,X.homedir)()}/Music`},{title:"Pictures",value:`${(0,X.homedir)()}/Pictures`},{title:"Downloads",value:`${(0,X.homedir)()}/Downloads`}];var en=vn(Xr()),Be=async e=>{let t=await Zr.LocalStorage.getItem(e);return typeof t>"u"?"":t},Ve=e=>!(e!=null&&String(e).length>0),tn=e=>rt.includes(e);var rn=e=>e.filter(t=>en.default.existsSync(t.path));var nn=e=>new Date(e).toLocaleString();var Xe=require("path");var Pe=require("@raycast/api");var cn=require("child_process");var Ge=e=>{(0,cn.spawn)("chflags",["nohidden",e],{shell:!0})};var te=require("react");var Oe=require("@raycast/api"),Ke=()=>new Date().getTime(),an=e=>{let[t,r]=(0,te.useState)([]),[i,n]=(0,te.useState)(!0),o=(0,te.useCallback)(async()=>{let c=await Be("localHideDirectory"),s=[];Ve(c)||(s=JSON.parse(c));let h=rn(s);r(h),n(!1),await Oe.LocalStorage.setItem("localHideDirectory",JSON.stringify(h))},[e]);return(0,te.useEffect)(()=>{o()},[o]),{localHiddenDirectory:t,loading:i}},sn=async(e,t,r,i,n,o)=>{await(0,Oe.confirmAlert)({icon:e,title:t,message:r,primaryAction:{title:i,onAction:n},dismissAction:{title:"Cancel",onAction:()=>o}})};var qe=require("@raycast/api");var z=require("@raycast/api"),Qe=require("react/jsx-runtime");function Ie(){return(0,Qe.jsx)(z.ActionPanel.Section,{children:(0,Qe.jsx)(z.Action,{icon:z.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:z.openCommandPreferences})})}var be=require("react/jsx-runtime");function un(){return(0,be.jsx)(qe.List.EmptyView,{title:"No Hidden Files",icon:{source:"empty-view-icon.png"},actions:(0,be.jsx)(qe.ActionPanel,{children:(0,be.jsx)(Ie,{})})})}var ln=require("@raycast/api"),{rememberTag:fn,hideWidgets:Ic}=(0,ln.getPreferenceValues)();var O=require("react/jsx-runtime");function yn(){let[e,t]=(0,ze.useState)(""),[r,i]=(0,ze.useState)(0),{localHiddenDirectory:n,loading:o}=an(r);return(0,O.jsxs)(l.List,{isLoading:o,searchBarPlaceholder:"Search hidden files",searchBarAccessory:n.length!==0?(0,O.jsxs)(l.List.Dropdown,{onChange:t,tooltip:"Filter Tag",storeValue:fn,children:[(0,O.jsx)(l.List.Dropdown.Item,{title:"All",value:"All"},"All"),(0,O.jsx)(l.List.Dropdown.Section,{title:"Type",children:nt.map((c,s)=>(0,O.jsx)(l.List.Dropdown.Item,{title:c.title,value:c.value},s+c.value))}),(0,O.jsx)(l.List.Dropdown.Section,{title:"Path",children:it.map((c,s)=>(0,O.jsx)(l.List.Dropdown.Item,{title:c.title,value:c.value},s+c.value))})]}):null,children:[(0,O.jsx)(un,{}),n.map((c,s)=>(e==="All"||c.type===e||c.path.includes(e))&&(0,O.jsx)(l.List.Item,{icon:tn((0,Xe.parse)(c.path).ext)?{source:c.path}:{fileIcon:c.path},title:{value:c.name,tooltip:`Type: ${c.type==="File"?"File":"Folder"}, hidden at ${new Date(c.date).toLocaleString()}`},accessories:[{date:new Date(c.date),tooltip:`Hidden at ${nn(c.date)}`},{icon:l.Icon.Folder,tooltip:`${(0,Xe.parse)(c.path).dir}`}],actions:(0,O.jsxs)(l.ActionPanel,{children:[(0,O.jsx)(l.Action.Open,{title:c.type==="File"?`Open ${c.name}`:"Open in Finder",target:c.path}),(0,O.jsx)(l.Action.ShowInFinder,{path:c.path}),(0,O.jsxs)(l.ActionPanel.Section,{children:[(0,O.jsx)(l.Action,{icon:l.Icon.Eye,title:"Unhide File",shortcut:{modifiers:["cmd"],key:"u"},onAction:async()=>{let h=[...n];h.splice(s,1),await l.LocalStorage.setItem("localHideDirectory",JSON.stringify(h)),i(Ke()),Ge(c.path.replaceAll(" ",'" "'));let I={style:l.Toast.Style.Success,title:"Success!",message:`${c.name} has been unhidden.`,primaryAction:{title:"Open in Finder",onAction:a=>{(0,l.open)(c.path),a.hide()}},secondaryAction:{title:"Show in Finder",onAction:a=>{(0,l.showInFinder)(c.path),a.hide()}}};await(0,l.showToast)(I)}}),(0,O.jsx)(l.Action,{icon:l.Icon.ExclamationMark,title:"Unhide All Files",shortcut:{modifiers:["shift","cmd"],key:"u"},onAction:async()=>{await sn(l.Icon.ExclamationMark,"Warning","Are you sure you want to unhide all files?","Unhide All",async()=>{let h=n.map(I=>I.path.replaceAll(" ",'" "'));Ge(h.join(" ")),await l.LocalStorage.clear(),i(Ke()),await(0,l.showToast)(l.Toast.Style.Success,"Success!","All files have been unhidden.")})}})]}),(0,O.jsxs)(l.ActionPanel.Section,{children:[(0,O.jsx)(l.Action,{icon:l.Icon.Clipboard,title:"Copy File",shortcut:{modifiers:["cmd"],key:"."},onAction:async()=>{await(0,l.showHUD)(`\u{1F4D1} ${c.name} is copied to clipboard`),await l.Clipboard.copy({file:c.path})}}),(0,O.jsx)(l.Action.CopyToClipboard,{title:"Copy File Name",content:c.name,shortcut:{modifiers:["ctrl","cmd"],key:"."}}),(0,O.jsx)(l.Action.CopyToClipboard,{title:"Copy File Path",content:c.path,shortcut:{modifiers:["ctrl","cmd"],key:","}})]}),(0,O.jsx)(Ie,{})]})},c.id))]})}
