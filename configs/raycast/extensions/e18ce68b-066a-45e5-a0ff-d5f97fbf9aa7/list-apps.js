"use strict";var S=Object.create;var f=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var L=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var w=(n,o)=>{for(var i in o)f(n,i,{get:o[i],enumerable:!0})},A=(n,o,i,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of T(o))!M.call(n,t)&&t!==i&&f(n,t,{get:()=>o[t],enumerable:!(l=g(o,t))||l.enumerable});return n};var F=(n,o,i)=>(i=n!=null?S(L(n)):{},A(o||!n||!n.__esModule?f(i,"default",{value:n,enumerable:!0}):i,n)),$=n=>A(f({},"__esModule",{value:!0}),n);var H={};w(H,{default:()=>D,listHTMLFiles:()=>P});module.exports=$(H);var e=require("@raycast/api"),h=require("react"),a=require("@raycast/api"),m=F(require("fs")),y=F(require("path")),s=require("react/jsx-runtime");async function P(){let n=a.environment.supportPath;return m.default.readdirSync(n).filter(t=>t.endsWith(".html")).map(t=>{let c=y.default.join(n,t),r=m.default.readFileSync(c,"utf-8"),u=r.match(/<title>(.*?)<\/title>/),p=r.match(/<meta name="description" content="(.*?)">/),d=u?u[1]:"No title",I=p?p[1]:"No description";return{filename:t,title:d,description:I,content:r}})}function D(){let[n,o]=(0,h.useState)([]);(0,h.useEffect)(()=>{async function t(){let c=await P();o(c)}t()},[]);let i=()=>{let t=a.environment.supportPath;(0,e.open)(t)},l=async t=>{let c=a.environment.supportPath,r=y.default.join(c,t);await(0,e.confirmAlert)({title:"Delete App",message:`Are you sure you want to delete ${t}?`,primaryAction:{title:"Delete",style:e.Alert.ActionStyle.Destructive}})&&(m.default.unlinkSync(r),(0,e.showToast)(e.Toast.Style.Success,"App deleted",`${t} has been deleted`),o(p=>p.filter(d=>d.filename!==t)))};return(0,s.jsx)(e.List,{isShowingDetail:!0,children:n.map(t=>(0,s.jsx)(e.List.Item,{icon:e.Icon.Document,title:t.title,detail:(0,s.jsx)(e.List.Item.Detail,{markdown:`# ${t.title}
\`${t.filename}\`
>${t.description}
\`\`\`html
${t.content}
\`\`\``}),actions:(0,s.jsxs)(e.ActionPanel,{children:[(0,s.jsx)(e.Action,{icon:e.Icon.Globe,onAction:()=>{console.log(t.filename),(0,e.open)(a.environment.supportPath+"/"+t.filename)},title:"Open App"}),(0,s.jsx)(e.Action,{icon:e.Icon.Folder,title:"Open Support Directory",onAction:i}),(0,s.jsx)(e.Action,{icon:e.Icon.Trash,style:e.Action.Style.Destructive,title:"Delete App",onAction:()=>l(t.filename)})]})},t.filename))})}0&&(module.exports={listHTMLFiles});
