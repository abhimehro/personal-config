var Yt=Object.create;var ce=Object.defineProperty;var qt=Object.getOwnPropertyDescriptor;var Kt=Object.getOwnPropertyNames;var Jt=Object.getPrototypeOf,Zt=Object.prototype.hasOwnProperty;var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Qt=(e,t)=>{for(var r in t)ce(e,r,{get:t[r],enumerable:!0})},Ue=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Kt(t))!Zt.call(e,i)&&i!==r&&ce(e,i,{get:()=>t[i],enumerable:!(n=qt(t,i))||n.enumerable});return e};var le=(e,t,r)=>(r=e!=null?Yt(Jt(e)):{},Ue(t||!e||!e.__esModule?ce(r,"default",{value:e,enumerable:!0}):r,e)),Xt=e=>Ue(ce({},"__esModule",{value:!0}),e);var pe=O((_n,Ge)=>{"use strict";var ar=require("util"),Ne=require("stream"),G=Ge.exports=function(){Ne.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};ar.inherits(G,Ne);G.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};G.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let r;return Buffer.isBuffer(e)?r=e:r=Buffer.from(e,t||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};G.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};G.prototype.destroySoon=G.prototype.end;G.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};G.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};G.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))};G.prototype._processRead=function(e){this._reads.shift();let t=0,r=0,n=Buffer.alloc(e.length);for(;t<e.length;){let i=this._buffers[r++],a=Math.min(i.length,e.length-t);i.copy(n,t,0,a),t+=a,a!==i.length&&(this._buffers[--r]=i.slice(a))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,n)};G.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else if(this._buffered>=e.length)this._processRead(e);else break}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}});var me=O(ge=>{"use strict";var K=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];ge.getImagePasses=function(e,t){let r=[],n=e%8,i=t%8,a=(e-n)/8,s=(t-i)/8;for(let c=0;c<K.length;c++){let l=K[c],u=a*l.x.length,f=s*l.y.length;for(let h=0;h<l.x.length&&l.x[h]<n;h++)u++;for(let h=0;h<l.y.length&&l.y[h]<i;h++)f++;u>0&&f>0&&r.push({width:u,height:f,index:c})}return r};ge.getInterlaceIterator=function(e){return function(t,r,n){let i=t%K[n].x.length,a=(t-i)/K[n].x.length*8+K[n].x[i],s=r%K[n].y.length,c=(r-s)/K[n].y.length*8+K[n].y[s];return a*4+c*e*4}}});var be=O((An,Ve)=>{"use strict";Ve.exports=function(t,r,n){let i=t+r-n,a=Math.abs(i-t),s=Math.abs(i-r),c=Math.abs(i-n);return a<=s&&a<=c?t:s<=c?r:n}});var ye=O((vn,We)=>{"use strict";var sr=me(),or=be();function je(e,t,r){let n=e*t;return r!==8&&(n=Math.ceil(n/(8/r))),n}var te=We.exports=function(e,t){let r=e.width,n=e.height,i=e.interlace,a=e.bpp,s=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],i){let c=sr.getImagePasses(r,n);for(let l=0;l<c.length;l++)this._images.push({byteWidth:je(c[l].width,a,s),height:c[l].height,lineIndex:0})}else this._images.push({byteWidth:je(r,a,s),height:n,lineIndex:0});s===8?this._xComparison=a:s===16?this._xComparison=a*2:this._xComparison=1};te.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};te.prototype._unFilterType1=function(e,t,r){let n=this._xComparison,i=n-1;for(let a=0;a<r;a++){let s=e[1+a],c=a>i?t[a-n]:0;t[a]=s+c}};te.prototype._unFilterType2=function(e,t,r){let n=this._lastLine;for(let i=0;i<r;i++){let a=e[1+i],s=n?n[i]:0;t[i]=a+s}};te.prototype._unFilterType3=function(e,t,r){let n=this._xComparison,i=n-1,a=this._lastLine;for(let s=0;s<r;s++){let c=e[1+s],l=a?a[s]:0,u=s>i?t[s-n]:0,f=Math.floor((u+l)/2);t[s]=c+f}};te.prototype._unFilterType4=function(e,t,r){let n=this._xComparison,i=n-1,a=this._lastLine;for(let s=0;s<r;s++){let c=e[1+s],l=a?a[s]:0,u=s>i?t[s-n]:0,f=s>i&&a?a[s-n]:0,h=or(u,l,f);t[s]=c+h}};te.prototype._reverseFilterLine=function(e){let t=e[0],r,n=this._images[this._imageIndex],i=n.byteWidth;if(t===0)r=e.slice(1,i+1);else switch(r=Buffer.alloc(i),t){case 1:this._unFilterType1(e,r,i);break;case 2:this._unFilterType2(e,r,i);break;case 3:this._unFilterType3(e,r,i);break;case 4:this._unFilterType4(e,r,i);break;default:throw new Error("Unrecognised filter type - "+t)}this.write(r),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=r,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var Ye=O((Sn,He)=>{"use strict";var cr=require("util"),ze=pe(),lr=ye(),ur=He.exports=function(e){ze.call(this);let t=[],r=this;this._filter=new lr(e,{read:this.read.bind(this),write:function(n){t.push(n)},complete:function(){r.emit("complete",Buffer.concat(t))}}),this._filter.start()};cr.inherits(ur,ze)});var re=O((En,qe)=>{"use strict";qe.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var ke=O((Cn,Ke)=>{"use strict";var we=[];(function(){for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;we[e]=t}})();var $e=Ke.exports=function(){this._crc=-1};$e.prototype.write=function(e){for(let t=0;t<e.length;t++)this._crc=we[(this._crc^e[t])&255]^this._crc>>>8;return!0};$e.prototype.crc32=function(){return this._crc^-1};$e.crc32=function(e){let t=-1;for(let r=0;r<e.length;r++)t=we[(t^e[r])&255]^t>>>8;return t^-1}});var _e=O((Tn,Je)=>{"use strict";var D=re(),fr=ke(),M=Je.exports=function(e,t){this._options=e,e.checkCRC=e.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[D.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[D.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[D.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[D.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[D.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[D.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};M.prototype.start=function(){this.read(D.PNG_SIGNATURE.length,this._parseSignature.bind(this))};M.prototype._parseSignature=function(e){let t=D.PNG_SIGNATURE;for(let r=0;r<t.length;r++)if(e[r]!==t[r]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};M.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),r=e.readUInt32BE(4),n="";for(let a=4;a<8;a++)n+=String.fromCharCode(e[a]);let i=!!(e[4]&32);if(!this._hasIHDR&&r!==D.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new fr,this._crc.write(Buffer.from(n)),this._chunks[r])return this._chunks[r](t);if(!i){this.error(new Error("Unsupported critical chunk type "+n));return}this.read(t+4,this._skipChunk.bind(this))};M.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};M.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};M.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==t){this.error(new Error("Crc error - "+t+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};M.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))};M.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),n=e[8],i=e[9],a=e[10],s=e[11],c=e[12];if(n!==8&&n!==4&&n!==2&&n!==1&&n!==16){this.error(new Error("Unsupported bit depth "+n));return}if(!(i in D.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(a!==0){this.error(new Error("Unsupported compression method"));return}if(s!==0){this.error(new Error("Unsupported filter method"));return}if(c!==0&&c!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=i;let l=D.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:n,interlace:!!c,palette:!!(i&D.COLORTYPE_PALETTE),color:!!(i&D.COLORTYPE_COLOR),alpha:!!(i&D.COLORTYPE_ALPHA),bpp:l,colorType:i}),this._handleChunkEnd()};M.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))};M.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let r=0;r<t;r++)this._palette.push([e[r*3],e[r*3+1],e[r*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};M.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))};M.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===D.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(e.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===D.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===D.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()};M.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))};M.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/D.GAMMA_DIVISION),this._handleChunkEnd()};M.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))};M.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===D.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()};M.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))};M.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var xe=O(Qe=>{"use strict";var Ze=me(),hr=[function(){},function(e,t,r,n){if(n===t.length)throw new Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=255},function(e,t,r,n){if(n+1>=t.length)throw new Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=t[n+1]},function(e,t,r,n){if(n+2>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=255},function(e,t,r,n){if(n+3>=t.length)throw new Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=t[n+3]}],dr=[function(){},function(e,t,r,n){let i=t[0];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=n},function(e,t,r){let n=t[0];e[r]=n,e[r+1]=n,e[r+2]=n,e[r+3]=t[1]},function(e,t,r,n){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=n},function(e,t,r){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3]}];function pr(e,t){let r=[],n=0;function i(){if(n===e.length)throw new Error("Ran out of data");let a=e[n];n++;let s,c,l,u,f,h,g,b;switch(t){default:throw new Error("unrecognised depth");case 16:g=e[n],n++,r.push((a<<8)+g);break;case 4:g=a&15,b=a>>4,r.push(b,g);break;case 2:f=a&3,h=a>>2&3,g=a>>4&3,b=a>>6&3,r.push(b,g,h,f);break;case 1:s=a&1,c=a>>1&1,l=a>>2&1,u=a>>3&1,f=a>>4&1,h=a>>5&1,g=a>>6&1,b=a>>7&1,r.push(b,g,h,f,u,l,c,s);break}}return{get:function(a){for(;r.length<a;)i();let s=r.slice(0,a);return r=r.slice(a),s},resetAfterLine:function(){r.length=0},end:function(){if(n!==e.length)throw new Error("extra data found")}}}function gr(e,t,r,n,i,a){let s=e.width,c=e.height,l=e.index;for(let u=0;u<c;u++)for(let f=0;f<s;f++){let h=r(f,u,l);hr[n](t,i,h,a),a+=n}return a}function mr(e,t,r,n,i,a){let s=e.width,c=e.height,l=e.index;for(let u=0;u<c;u++){for(let f=0;f<s;f++){let h=i.get(n),g=r(f,u,l);dr[n](t,h,g,a)}i.resetAfterLine()}}Qe.dataToBitMap=function(e,t){let r=t.width,n=t.height,i=t.depth,a=t.bpp,s=t.interlace,c;i!==8&&(c=pr(e,i));let l;i<=8?l=Buffer.alloc(r*n*4):l=new Uint16Array(r*n*4);let u=Math.pow(2,i)-1,f=0,h,g;if(s)h=Ze.getImagePasses(r,n),g=Ze.getInterlaceIterator(r,n);else{let b=0;g=function(){let y=b;return b+=4,y},h=[{width:r,height:n}]}for(let b=0;b<h.length;b++)i===8?f=gr(h[b],l,g,a,e,f):mr(h[b],l,g,a,c,u);if(i===8){if(f!==e.length)throw new Error("extra data found")}else c.end();return l}});var Ae=O((Rn,Xe)=>{"use strict";function br(e,t,r,n,i){let a=0;for(let s=0;s<n;s++)for(let c=0;c<r;c++){let l=i[e[a]];if(!l)throw new Error("index "+e[a]+" not in palette");for(let u=0;u<4;u++)t[a+u]=l[u];a+=4}}function yr(e,t,r,n,i){let a=0;for(let s=0;s<n;s++)for(let c=0;c<r;c++){let l=!1;if(i.length===1?i[0]===e[a]&&(l=!0):i[0]===e[a]&&i[1]===e[a+1]&&i[2]===e[a+2]&&(l=!0),l)for(let u=0;u<4;u++)t[a+u]=0;a+=4}}function wr(e,t,r,n,i){let a=255,s=Math.pow(2,i)-1,c=0;for(let l=0;l<n;l++)for(let u=0;u<r;u++){for(let f=0;f<4;f++)t[c+f]=Math.floor(e[c+f]*a/s+.5);c+=4}}Xe.exports=function(e,t,r=!1){let n=t.depth,i=t.width,a=t.height,s=t.colorType,c=t.transColor,l=t.palette,u=e;return s===3?br(e,u,i,a,l):(c&&yr(e,u,i,a,c),n!==8&&!r&&(n===16&&(u=Buffer.alloc(i*a*4)),wr(e,u,i,a,n))),u}});var rt=O((In,tt)=>{"use strict";var $r=require("util"),ve=require("zlib"),et=pe(),kr=Ye(),_r=_e(),xr=xe(),Ar=Ae(),V=tt.exports=function(e){et.call(this),this._parser=new _r(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};$r.inherits(V,et);V.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};V.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=ve.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let r=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,n=Math.max(r,ve.Z_MIN_CHUNK);this._inflate=ve.createInflate({chunkSize:n});let i=r,a=this.emit.bind(this,"error");this._inflate.on("error",function(c){i&&a(c)}),this._filter.on("complete",this._complete.bind(this));let s=this._filter.write.bind(this._filter);this._inflate.on("data",function(c){i&&(c.length>i&&(c=c.slice(0,i)),i-=c.length,s(c))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)};V.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new kr(this._bitmapInfo)};V.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e};V.prototype._handlePalette=function(e){this._bitmapInfo.palette=e};V.prototype._simpleTransparency=function(){this._metaData.alpha=!0};V.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};V.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};V.prototype._complete=function(e){if(this.errord)return;let t;try{let r=xr.dataToBitMap(e,this._bitmapInfo);t=Ar(r,this._bitmapInfo,this._options.skipRescale),r=null}catch(r){this._handleError(r);return}this.emit("parsed",t)}});var it=O((On,nt)=>{"use strict";var N=re();nt.exports=function(e,t,r,n){let i=[N.COLORTYPE_COLOR_ALPHA,N.COLORTYPE_ALPHA].indexOf(n.colorType)!==-1;if(n.colorType===n.inputColorType){let y=(function(){let p=new ArrayBuffer(2);return new DataView(p).setInt16(0,256,!0),new Int16Array(p)[0]!==256})();if(n.bitDepth===8||n.bitDepth===16&&y)return e}let a=n.bitDepth!==16?e:new Uint16Array(e.buffer),s=255,c=N.COLORTYPE_TO_BPP_MAP[n.inputColorType];c===4&&!n.inputHasAlpha&&(c=3);let l=N.COLORTYPE_TO_BPP_MAP[n.colorType];n.bitDepth===16&&(s=65535,l*=2);let u=Buffer.alloc(t*r*l),f=0,h=0,g=n.bgColor||{};g.red===void 0&&(g.red=s),g.green===void 0&&(g.green=s),g.blue===void 0&&(g.blue=s);function b(){let y,p,w,x=s;switch(n.inputColorType){case N.COLORTYPE_COLOR_ALPHA:x=a[f+3],y=a[f],p=a[f+1],w=a[f+2];break;case N.COLORTYPE_COLOR:y=a[f],p=a[f+1],w=a[f+2];break;case N.COLORTYPE_ALPHA:x=a[f+1],y=a[f],p=y,w=y;break;case N.COLORTYPE_GRAYSCALE:y=a[f],p=y,w=y;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(i||(x/=s,y=Math.min(Math.max(Math.round((1-x)*g.red+x*y),0),s),p=Math.min(Math.max(Math.round((1-x)*g.green+x*p),0),s),w=Math.min(Math.max(Math.round((1-x)*g.blue+x*w),0),s))),{red:y,green:p,blue:w,alpha:x}}for(let y=0;y<r;y++)for(let p=0;p<t;p++){let w=b(a,f);switch(n.colorType){case N.COLORTYPE_COLOR_ALPHA:case N.COLORTYPE_COLOR:n.bitDepth===8?(u[h]=w.red,u[h+1]=w.green,u[h+2]=w.blue,i&&(u[h+3]=w.alpha)):(u.writeUInt16BE(w.red,h),u.writeUInt16BE(w.green,h+2),u.writeUInt16BE(w.blue,h+4),i&&u.writeUInt16BE(w.alpha,h+6));break;case N.COLORTYPE_ALPHA:case N.COLORTYPE_GRAYSCALE:{let x=(w.red+w.green+w.blue)/3;n.bitDepth===8?(u[h]=x,i&&(u[h+1]=w.alpha)):(u.writeUInt16BE(x,h),i&&u.writeUInt16BE(w.alpha,h+2));break}default:throw new Error("unrecognised color Type "+n.colorType)}f+=c,h+=l}return u}});var ot=O((Ln,st)=>{"use strict";var at=be();function vr(e,t,r,n,i){for(let a=0;a<r;a++)n[i+a]=e[t+a]}function Sr(e,t,r){let n=0,i=t+r;for(let a=t;a<i;a++)n+=Math.abs(e[a]);return n}function Er(e,t,r,n,i,a){for(let s=0;s<r;s++){let c=s>=a?e[t+s-a]:0,l=e[t+s]-c;n[i+s]=l}}function Cr(e,t,r,n){let i=0;for(let a=0;a<r;a++){let s=a>=n?e[t+a-n]:0,c=e[t+a]-s;i+=Math.abs(c)}return i}function Tr(e,t,r,n,i){for(let a=0;a<r;a++){let s=t>0?e[t+a-r]:0,c=e[t+a]-s;n[i+a]=c}}function Pr(e,t,r){let n=0,i=t+r;for(let a=t;a<i;a++){let s=t>0?e[a-r]:0,c=e[a]-s;n+=Math.abs(c)}return n}function Rr(e,t,r,n,i,a){for(let s=0;s<r;s++){let c=s>=a?e[t+s-a]:0,l=t>0?e[t+s-r]:0,u=e[t+s]-(c+l>>1);n[i+s]=u}}function Ir(e,t,r,n){let i=0;for(let a=0;a<r;a++){let s=a>=n?e[t+a-n]:0,c=t>0?e[t+a-r]:0,l=e[t+a]-(s+c>>1);i+=Math.abs(l)}return i}function Or(e,t,r,n,i,a){for(let s=0;s<r;s++){let c=s>=a?e[t+s-a]:0,l=t>0?e[t+s-r]:0,u=t>0&&s>=a?e[t+s-(r+a)]:0,f=e[t+s]-at(c,l,u);n[i+s]=f}}function Lr(e,t,r,n){let i=0;for(let a=0;a<r;a++){let s=a>=n?e[t+a-n]:0,c=t>0?e[t+a-r]:0,l=t>0&&a>=n?e[t+a-(r+n)]:0,u=e[t+a]-at(s,c,l);i+=Math.abs(u)}return i}var Ur={0:vr,1:Er,2:Tr,3:Rr,4:Or},Dr={0:Sr,1:Cr,2:Pr,3:Ir,4:Lr};st.exports=function(e,t,r,n,i){let a;if(!("filterType"in n)||n.filterType===-1)a=[0,1,2,3,4];else if(typeof n.filterType=="number")a=[n.filterType];else throw new Error("unrecognised filter types");n.bitDepth===16&&(i*=2);let s=t*i,c=0,l=0,u=Buffer.alloc((s+1)*r),f=a[0];for(let h=0;h<r;h++){if(a.length>1){let g=1/0;for(let b=0;b<a.length;b++){let y=Dr[a[b]](e,l,s,i);y<g&&(f=a[b],g=y)}}u[c]=f,c++,Ur[f](e,l,s,u,c,i),c+=s,l+=s}return u}});var Se=O((Un,ct)=>{"use strict";var F=re(),Mr=ke(),Fr=it(),Br=ot(),Nr=require("zlib"),J=ct.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32*1024,e.deflateLevel=e.deflateLevel!=null?e.deflateLevel:9,e.deflateStrategy=e.deflateStrategy!=null?e.deflateStrategy:3,e.inputHasAlpha=e.inputHasAlpha!=null?e.inputHasAlpha:!0,e.deflateFactory=e.deflateFactory||Nr.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType=typeof e.colorType=="number"?e.colorType:F.COLORTYPE_COLOR_ALPHA,e.inputColorType=typeof e.inputColorType=="number"?e.inputColorType:F.COLORTYPE_COLOR_ALPHA,[F.COLORTYPE_GRAYSCALE,F.COLORTYPE_COLOR,F.COLORTYPE_COLOR_ALPHA,F.COLORTYPE_ALPHA].indexOf(e.colorType)===-1)throw new Error("option color type:"+e.colorType+" is not supported at present");if([F.COLORTYPE_GRAYSCALE,F.COLORTYPE_COLOR,F.COLORTYPE_COLOR_ALPHA,F.COLORTYPE_ALPHA].indexOf(e.inputColorType)===-1)throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(e.bitDepth!==8&&e.bitDepth!==16)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};J.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};J.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};J.prototype.filterData=function(e,t,r){let n=Fr(e,t,r,this._options),i=F.COLORTYPE_TO_BPP_MAP[this._options.colorType];return Br(n,t,r,this._options,i)};J.prototype._packChunk=function(e,t){let r=t?t.length:0,n=Buffer.alloc(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(e,4),t&&t.copy(n,8),n.writeInt32BE(Mr.crc32(n.slice(4,n.length-4)),n.length-4),n};J.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*F.GAMMA_DIVISION),0),this._packChunk(F.TYPE_gAMA,t)};J.prototype.packIHDR=function(e,t){let r=Buffer.alloc(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(t,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(F.TYPE_IHDR,r)};J.prototype.packIDAT=function(e){return this._packChunk(F.TYPE_IDAT,e)};J.prototype.packIEND=function(){return this._packChunk(F.TYPE_IEND,null)}});var ht=O((Dn,ft)=>{"use strict";var Gr=require("util"),lt=require("stream"),Vr=re(),jr=Se(),ut=ft.exports=function(e){lt.call(this);let t=e||{};this._packer=new jr(t),this._deflate=this._packer.createDeflate(),this.readable=!0};Gr.inherits(ut,lt);ut.prototype.pack=function(e,t,r,n){this.emit("data",Buffer.from(Vr.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),n&&this.emit("data",this._packer.packGAMA(n));let i=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(a){this.emit("data",this._packer.packIDAT(a))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(i)}});var yt=O((se,bt)=>{"use strict";var dt=require("assert").ok,ne=require("zlib"),Wr=require("util"),pt=require("buffer").kMaxLength;function ee(e){if(!(this instanceof ee))return new ee(e);e&&e.chunkSize<ne.Z_MIN_CHUNK&&(e.chunkSize=ne.Z_MIN_CHUNK),ne.Inflate.call(this,e),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&e.maxLength!=null&&(this._maxLength=e.maxLength)}function zr(e){return new ee(e)}function gt(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}ee.prototype._processChunk=function(e,t,r){if(typeof r=="function")return ne.Inflate._processChunk.call(this,e,t,r);let n=this,i=e&&e.length,a=this._chunkSize-this._offset,s=this._maxLength,c=0,l=[],u=0,f;this.on("error",function(y){f=y});function h(y,p){if(n._hadError)return;let w=a-p;if(dt(w>=0,"have should not go down"),w>0){let x=n._buffer.slice(n._offset,n._offset+w);if(n._offset+=w,x.length>s&&(x=x.slice(0,s)),l.push(x),u+=x.length,s-=x.length,s===0)return!1}return(p===0||n._offset>=n._chunkSize)&&(a=n._chunkSize,n._offset=0,n._buffer=Buffer.allocUnsafe(n._chunkSize)),p===0?(c+=i-y,i=y,!0):!1}dt(this._handle,"zlib binding closed");let g;do g=this._handle.writeSync(t,e,c,i,this._buffer,this._offset,a),g=g||this._writeState;while(!this._hadError&&h(g[0],g[1]));if(this._hadError)throw f;if(u>=pt)throw gt(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+pt.toString(16)+" bytes");let b=Buffer.concat(l,u);return gt(this),b};Wr.inherits(ee,ne.Inflate);function Hr(e,t){if(typeof t=="string"&&(t=Buffer.from(t)),!(t instanceof Buffer))throw new TypeError("Not a string or buffer");let r=e._finishFlushFlag;return r==null&&(r=ne.Z_FINISH),e._processChunk(t,r)}function mt(e,t){return Hr(new ee(t),e)}bt.exports=se=mt;se.Inflate=ee;se.createInflate=zr;se.inflateSync=mt});var Ee=O((Mn,$t)=>{"use strict";var wt=$t.exports=function(e){this._buffer=e,this._reads=[]};wt.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})};wt.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(this._buffer.length&&(this._buffer.length>=e.length||e.allowLess)){this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}});var _t=O(kt=>{"use strict";var Yr=Ee(),qr=ye();kt.process=function(e,t){let r=[],n=new Yr(e);return new qr(t,{read:n.read.bind(n),write:function(a){r.push(a)},complete:function(){}}).start(),n.process(),Buffer.concat(r)}});var St=O((Bn,vt)=>{"use strict";var xt=!0,At=require("zlib"),Kr=yt();At.deflateSync||(xt=!1);var Jr=Ee(),Zr=_t(),Qr=_e(),Xr=xe(),en=Ae();vt.exports=function(e,t){if(!xt)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r;function n(A){r=A}let i;function a(A){i=A}function s(A){i.transColor=A}function c(A){i.palette=A}function l(){i.alpha=!0}let u;function f(A){u=A}let h=[];function g(A){h.push(A)}let b=new Jr(e);if(new Qr(t,{read:b.read.bind(b),error:n,metadata:a,gamma:f,palette:c,transColor:s,inflateData:g,simpleTransparency:l}).start(),b.process(),r)throw r;let p=Buffer.concat(h);h.length=0;let w;if(i.interlace)w=At.inflateSync(p);else{let E=((i.width*i.bpp*i.depth+7>>3)+1)*i.height;w=Kr(p,{chunkSize:E,maxLength:E})}if(p=null,!w||!w.length)throw new Error("bad png - invalid inflate data response");let x=Zr.process(w,i);p=null;let L=Xr.dataToBitMap(x,i);x=null;let I=en(L,i,t.skipRescale);return i.data=I,i.gamma=u||0,i}});var Pt=O((Nn,Tt)=>{"use strict";var Et=!0,Ct=require("zlib");Ct.deflateSync||(Et=!1);var tn=re(),rn=Se();Tt.exports=function(e,t){if(!Et)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=t||{},n=new rn(r),i=[];i.push(Buffer.from(tn.PNG_SIGNATURE)),i.push(n.packIHDR(e.width,e.height)),e.gamma&&i.push(n.packGAMA(e.gamma));let a=n.filterData(e.data,e.width,e.height),s=Ct.deflateSync(a,n.getDeflateOptions());if(a=null,!s||!s.length)throw new Error("bad png - invalid compressed data response");return i.push(n.packIDAT(s)),i.push(n.packIEND()),Buffer.concat(i)}});var Rt=O(Ce=>{"use strict";var nn=St(),an=Pt();Ce.read=function(e,t){return nn(e,t||{})};Ce.write=function(e,t){return an(e,t)}});var Lt=O(Ot=>{"use strict";var sn=require("util"),It=require("stream"),on=rt(),cn=ht(),ln=Rt(),B=Ot.PNG=function(e){It.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new on(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new cn(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};sn.inherits(B,It);B.sync=ln;B.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};B.prototype.parse=function(e,t){if(t){let r,n;r=function(i){this.removeListener("error",n),this.data=i,t(null,this)}.bind(this),n=function(i){this.removeListener("parsed",r),t(i,null)}.bind(this),this.once("parsed",r),this.once("error",n)}return this.end(e),this};B.prototype.write=function(e){return this._parser.write(e),!0};B.prototype.end=function(e){this._parser.end(e)};B.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)};B.prototype._gamma=function(e){this.gamma=e};B.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};B.bitblt=function(e,t,r,n,i,a,s,c){if(r|=0,n|=0,i|=0,a|=0,s|=0,c|=0,r>e.width||n>e.height||r+i>e.width||n+a>e.height)throw new Error("bitblt reading outside image");if(s>t.width||c>t.height||s+i>t.width||c+a>t.height)throw new Error("bitblt writing outside image");for(let l=0;l<a;l++)e.data.copy(t.data,(c+l)*t.width+s<<2,(n+l)*e.width+r<<2,(n+l)*e.width+r+i<<2)};B.prototype.bitblt=function(e,t,r,n,i,a,s){return B.bitblt(this,e,t,r,n,i,a,s),this};B.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){let n=e.width*t+r<<2;for(let i=0;i<3;i++){let a=e.data[n+i]/255;a=Math.pow(a,1/2.2/e.gamma),e.data[n+i]=Math.round(a*255)}}e.gamma=0}};B.prototype.adjustGamma=function(){B.adjustGamma(this)}});var bn={};Qt(bn,{default:()=>Wt});module.exports=Xt(bn);var k=require("@raycast/api"),j=require("react");var o=require("@raycast/api"),z=require("fs/promises"),Oe=require("path");var P=le(require("react")),S=require("@raycast/api");var De=Object.prototype.hasOwnProperty;function ue(e,t){var r,n;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&ue(e[n],t[n]););return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(De.call(e,r)&&++n&&!De.call(t,r)||!(r in t)||!ue(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}var X=le(require("node:fs")),fe=le(require("node:path"));var Fe=require("react/jsx-runtime");function er(e){let t=(0,P.useRef)(e),r=(0,P.useRef)(0);return ue(e,t.current)||(t.current=e,r.current+=1),(0,P.useMemo)(()=>t.current,[r.current])}function q(e){let t=(0,P.useRef)(e);return t.current=e,t}function de(e,t){let r=e instanceof Error?e.message:String(e);return(0,S.showToast)({style:S.Toast.Style.Failure,title:t?.title??"Something went wrong",message:t?.message??r,primaryAction:t?.primaryAction??Me(e),secondaryAction:t?.primaryAction?Me(e):void 0})}var Me=e=>{let t=!0,r="[Extension Name]...",n="";try{let s=JSON.parse((0,X.readFileSync)((0,fe.join)(S.environment.assetsPath,"..","package.json"),"utf8"));r=`[${s.title}]...`,n=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(t=!1)}catch{}let i=S.environment.isDevelopment||t,a=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:i?"Copy Logs":"Report Error",onAction(s){s.hide(),i?S.Clipboard.copy(a):(0,S.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(n)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${a}
\`\`\`
`)}`)}}};function tr(e,t,r){let n=(0,P.useRef)(0),[i,a]=(0,P.useState)({isLoading:!0}),s=q(e),c=q(r?.abortable),l=q(t||[]),u=q(r?.onError),f=q(r?.onData),h=q(r?.onWillExecute),g=q(r?.failureToastOptions),b=q(i.data),y=(0,P.useRef)(null),p=(0,P.useRef)({page:0}),w=(0,P.useRef)(!1),x=(0,P.useRef)(!0),L=(0,P.useRef)(50),I=(0,P.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++n.current),[c]),A=(0,P.useCallback)((...T)=>{let U=I();h.current?.(T),a(C=>({...C,isLoading:!0}));let H=rr(s.current)(...T);function Y(C){return C.name=="AbortError"||U===n.current&&(u.current?u.current(C):S.environment.launchType!==S.LaunchType.Background&&de(C,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(Q){Q.hide(),y.current?.(...l.current||[])}},...g.current}),a({error:C,isLoading:!1})),C}return typeof H=="function"?(w.current=!0,H(p.current).then(({data:C,hasMore:Q,cursor:zt})=>(U===n.current&&(p.current&&(p.current.cursor=zt,p.current.lastItem=C?.[C.length-1]),f.current&&f.current(C,p.current),Q&&(L.current=C.length),x.current=Q,a(Ht=>p.current.page===0?{data:C,isLoading:!1}:{data:(Ht.data||[])?.concat(C),isLoading:!1})),C),C=>(x.current=!1,Y(C)))):(w.current=!1,H.then(C=>(U===n.current&&(f.current&&f.current(C),a({data:C,isLoading:!1})),C),Y))},[f,u,l,s,a,y,h,p,g,I]);y.current=A;let E=(0,P.useCallback)(()=>{p.current={page:0};let T=l.current||[];return A(...T)},[A,l]),$=(0,P.useCallback)(async(T,U)=>{let H;try{if(U?.optimisticUpdate){I(),typeof U?.rollbackOnError!="function"&&U?.rollbackOnError!==!1&&(H=structuredClone(b.current?.value));let Y=U.optimisticUpdate;a(C=>({...C,data:Y(C.data)}))}return await T}catch(Y){if(typeof U?.rollbackOnError=="function"){let C=U.rollbackOnError;a(Q=>({...Q,data:C(Q.data)}))}else U?.optimisticUpdate&&U?.rollbackOnError!==!1&&a(C=>({...C,data:H}));throw Y}finally{U?.shouldRevalidateAfter!==!1&&(S.environment.launchType===S.LaunchType.Background||S.environment.commandMode==="menu-bar"?await E():E())}},[E,b,a,I]),_=(0,P.useCallback)(()=>{p.current.page+=1;let T=l.current||[];A(...T)},[p,l,A]);(0,P.useEffect)(()=>{p.current={page:0},r?.execute!==!1?A(...t||[]):I()},[er([t,r?.execute,A]),c,p]),(0,P.useEffect)(()=>()=>{I()},[I]);let d=r?.execute!==!1?i.isLoading:!1,m={...i,isLoading:d},v=w.current?{pageSize:L.current,hasMore:x.current,onLoadMore:_}:void 0;return{...m,revalidate:E,mutate:$,pagination:v}}function rr(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function nr(e,t){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:t}function ir(e,t){return typeof t=="string"&&t.startsWith("__raycast_cached_date__")?new Date(t.replace("__raycast_cached_date__","")):typeof t=="string"&&t.startsWith("__raycast_cached_buffer__")?Buffer.from(t.replace("__raycast_cached_buffer__",""),"base64"):t}function Be(e,t){let{data:r,isLoading:n,mutate:i}=tr(async c=>{let l=await S.LocalStorage.getItem(c);return typeof l<"u"?JSON.parse(l,ir):t},[e]);async function a(c){try{await i(S.LocalStorage.setItem(e,JSON.stringify(c,nr)),{optimisticUpdate(l){return l}})}catch(l){await de(l,{title:"Failed to set value in local storage"})}}async function s(){try{await i(S.LocalStorage.removeItem(e),{optimisticUpdate(){}})}catch(c){await de(c,{title:"Failed to remove value from local storage"})}}return{value:r,setValue:a,removeValue:s,isLoading:n}}var R=require("react");var W=le(Lt()),ie=e=>{if(!e||typeof e!="string")return!1;let t=e.trim();return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(t)},un=e=>{let t=[];return Array.isArray(e)?(e.length<2&&t.push({field:"stops",message:"At least 2 color stops are required",severity:"error"}),e.length>10&&t.push({field:"stops",message:"Maximum 10 color stops allowed",severity:"warning"}),e.forEach((r,n)=>{ie(r)||t.push({field:`stop-${n}`,message:`Invalid hex color: ${r}`,severity:"error"})}),t):(t.push({field:"stops",message:"Stops must be an array",severity:"error"}),t)},fn=e=>{let t=[];return e==null?t:typeof e!="number"||Number.isNaN(e)?(t.push({field:"angle",message:"Angle must be a valid number",severity:"error"}),t):(e<0&&t.push({field:"angle",message:"Angle cannot be negative",severity:"error"}),e>360&&t.push({field:"angle",message:"Angle cannot exceed 360 degrees",severity:"error"}),t)},Z=e=>{let t=un(e.stops),r=fn(e.angle),n=[...t,...r].filter(s=>s.severity==="error"),i=[...t,...r].filter(s=>s.severity==="warning"),a={isValid:n.length===0,errors:n,warnings:i};return{stops:t,angle:r,overall:a}},ae=e=>typeof e!="number"||Number.isNaN(e)?90:e<0?0:e>360?360:e,he=e=>ie(e)?e.trim().toUpperCase():"#000000",Pe=({type:e,angle:t,stops:r})=>{if(!Z({type:e,angle:t,stops:r}).overall.isValid)return"background: #000000; /* Invalid gradient */";let i=ae(t),a=r.map(he);return`background: ${e==="linear"?`linear-gradient(${i}deg, ${a.join(", ")})`:e==="radial"?`radial-gradient(${a.join(", ")})`:`conic-gradient(${a.join(", ")})`};`},Dt=({type:e,angle:t,stops:r})=>{if(!Z({type:e,angle:t,stops:r}).overall.isValid)return"Color.black /* Invalid gradient */";let i=r.map(he).map(a=>`Color(hex: "${a}")`).join(", ");if(e==="linear"){let a=ae(t),s={0:{start:".leading",end:".trailing"},45:{start:".bottomLeading",end:".topTrailing"},90:{start:".bottom",end:".top"},135:{start:".bottomTrailing",end:".topLeading"},180:{start:".trailing",end:".leading"},225:{start:".topTrailing",end:".bottomLeading"},270:{start:".top",end:".bottom"},315:{start:".topLeading",end:".bottomTrailing"}},c=Object.keys(s).map(f=>Number(f)).sort((f,h)=>Math.abs(f-a)-Math.abs(h-a)),{start:l,end:u}=s[c[0]??90];return`LinearGradient(gradient: Gradient(colors: [${i}]), startPoint: ${l}, endPoint: ${u})`}return e==="radial"?`RadialGradient(gradient: Gradient(colors: [${i}]), center: .center, startRadius: 0, endRadius: 200)`:`AngularGradient(gradient: Gradient(colors: [${i}]), center: .center)`},Mt=({type:e,angle:t,stops:r})=>{if(!Z({type:e,angle:t,stops:r}).overall.isValid)return"bg-black /* Invalid gradient */";let i=ae(t),a=r.map(he);return e==="linear"?`bg-[linear-gradient(${i}deg,_${a.join(",_")})]`:e==="radial"?`bg-[radial-gradient(${a.join(",_")})]`:`bg-[conic-gradient(${a.join(",_")})]`};var Re=({type:e,angle:t,stops:r},n=800,i=400,a="xMidYMid slice")=>{if(!Z({type:e,angle:t,stops:r}).overall.isValid)return`<svg width="${n}" height="${i}" viewBox="0 0 ${n} ${i}"><rect width="100%" height="100%" fill="#000" /></svg>`;let c=ae(t),l=r.map(he),u=()=>{let b=Math.max(2,l.length);return l.map((y,p)=>`<stop offset='${(p/(b-1)*100).toFixed(2)}%' stop-color='${y}' />`).join("")},f=`<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='${n}' height='${i}' viewBox='0 0 ${n} ${i}' preserveAspectRatio='${a}'>`,h="",g="";if(e==="linear")h=`<defs>
      <linearGradient id='g' x1='0%' y1='0%' x2='100%' y2='0%' gradientUnits='objectBoundingBox' gradientTransform='rotate(${c-90}, 0.5, 0.5)'>
        ${u()}
      </linearGradient>
    </defs>`,g="<rect width='100%' height='100%' fill='url(#g)' />";else if(e==="radial")h=`<defs>
      <radialGradient id='g' cx='50%' cy='50%' r='75%'>
        ${u()}
      </radialGradient>
    </defs>`,g="<rect width='100%' height='100%' fill='url(#g)' />";else{let b=`<defs>
      <radialGradient id='fallback' cx='50%' cy='50%' r='75%'>
        ${u()}
      </radialGradient>
    </defs>`,y=`<foreignObject width='100%' height='100%'>
      <div xmlns='http://www.w3.org/1999/xhtml' style='width:100%;height:100%;background: conic-gradient(${l.join(", ")});'></div>
    </foreignObject>`;h=b,g=`<rect width='100%' height='100%' fill='url(#fallback)' />${y}`}return`${f}${h}${g}</svg>`},oe=()=>`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0").toUpperCase()}`;var Ut=e=>{if(!ie(e))return{r:0,g:0,b:0};let t=e.trim().replace("#",""),r=t.length===3?t.split("").map(i=>i+i).join(""):t,n=parseInt(r,16);return Number.isNaN(n)?{r:0,g:0,b:0}:{r:n>>16&255,g:n>>8&255,b:n&255}},Te=(e,t,r)=>e+(t-e)*r,Ft=e=>e<0?0:e>1?1:e,Bt=(e,t)=>{if(!Array.isArray(e)||e.length<2)return{r:0,g:0,b:0};let r=Math.max(2,e.length),n=Array.from({length:r},(f,h)=>h/(r-1)),i=Math.min(r-2,Math.max(0,Math.floor(t*(r-1)))),a=n[i],s=n[i+1],c=(t-a)/(s-a||1),l=Ut(e[i]),u=Ut(e[i+1]);return{r:Math.round(Te(l.r,u.r,c)),g:Math.round(Te(l.g,u.g,c)),b:Math.round(Te(l.b,u.b,c))}},Nt=({type:e,angle:t,stops:r},n=800,i=400)=>{if(!Z({type:e,angle:t,stops:r}).overall.isValid)try{let s=new W.PNG({width:n,height:i}),c=0;for(let f=0;f<i;f++)for(let h=0;h<n;h++)s.data[c++]=0,s.data[c++]=0,s.data[c++]=0,s.data[c++]=255;return`data:image/png;base64,${W.PNG.sync.write(s).toString("base64")}`}catch{return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="}try{let s=new W.PNG({width:n,height:i}),c=(n-1)/2,l=(i-1)/2,f=ae(t)*Math.PI/180,h=Math.sin(f),g=-Math.cos(f),b=(E,$)=>(E-c)*h+($-l)*g,y=[b(0,0),b(n-1,0),b(0,i-1),b(n-1,i-1)],p=Math.min(...y),w=Math.max(...y),x=Math.hypot(Math.max(c,n-1-c),Math.max(l,i-1-l)),L=0;for(let E=0;E<i;E++)for(let $=0;$<n;$++){let _=0;if(e==="linear")_=(b($,E)-p)/(w-p||1);else if(e==="radial"){let m=$-c,v=E-l;_=Math.hypot(m,v)/(x||1)}else{let m=$-c,v=E-l,T=Math.atan2(v,m);T=T-Math.PI/2,T<0&&(T+=2*Math.PI),_=T/(2*Math.PI)}_=Ft(_);let d=Bt(r,_);s.data[L++]=d.r,s.data[L++]=d.g,s.data[L++]=d.b,s.data[L++]=255}return`data:image/png;base64,${W.PNG.sync.write(s).toString("base64")}`}catch{return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="}};var Gt=({type:e,angle:t,stops:r},n,i,a=2,s=!1)=>{if(!Z({type:e,angle:t,stops:r}).overall.isValid)try{let l=new W.PNG({width:n*a,height:i*a}),u=0;for(let f=0;f<i*a;f++)for(let h=0;h<n*a;h++)l.data[u++]=0,l.data[u++]=0,l.data[u++]=0,l.data[u++]=s?0:255;return W.PNG.sync.write(l)}catch{return Buffer.from("iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==","base64")}try{let l=new W.PNG({width:n*a,height:i*a}),u=(n*a-1)/2,f=(i*a-1)/2,g=ae(t)*Math.PI/180,b=Math.sin(g),y=-Math.cos(g),p=(E,$)=>(E-u)*b+($-f)*y,w=[p(0,0),p(n*a-1,0),p(0,i*a-1),p(n*a-1,i*a-1)],x=Math.min(...w),L=Math.max(...w),I=Math.hypot(Math.max(u,n*a-1-u),Math.max(f,i*a-1-f)),A=0;for(let E=0;E<i*a;E++)for(let $=0;$<n*a;$++){let _=0;if(e==="linear")_=(p($,E)-x)/(L-x||1);else if(e==="radial"){let m=$-u,v=E-f;_=Math.hypot(m,v)/(I||1)}else{let m=$-u,v=E-f,T=Math.atan2(v,m);T=T-Math.PI/2,T<0&&(T+=2*Math.PI),_=T/(2*Math.PI)}_=Ft(_);let d=Bt(r,_);l.data[A++]=d.r,l.data[A++]=d.g,l.data[A++]=d.b,s&&(_<=0||_>=1)?l.data[A++]=0:l.data[A++]=255}return W.PNG.sync.write(l)}catch{return Buffer.from("iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==","base64")}},Ie=[{name:"HD (1600\xD71000)",width:1600,height:1e3},{name:"Full HD (1920\xD71080)",width:1920,height:1080},{name:"2K (2560\xD71440)",width:2560,height:1440},{name:"4K (3840\xD72160)",width:3840,height:2160}];var Vt=e=>({type:e?.type??"linear",angle:e?.angle??90,stops:e?.stops??["#ff0000","#00ff00"],label:e?.label});function Le(e){let{additionalActions:t,isRandomGradient:r,onGenerateRandom:n,...i}=e,a=Vt(i),[s,c]=(0,R.useState)(a),l=(0,o.getPreferenceValues)(),u=l.tailwindOutputMode==="utility";(0,R.useEffect)(()=>{if(i.type||i.angle!==void 0||i.stops){let $=Vt(i);c($)}},[i.type,i.angle,i.stops]);let{value:f=[],setValue:h}=Be("saved-gradients",[]),g=s.stops.length>=2,b=(0,R.useMemo)(()=>Nt(s,800,480),[s]),y=(0,R.useMemo)(()=>Pe(s),[s]),p=(0,R.useMemo)(()=>Dt(s),[s]),w=(0,R.useMemo)(()=>Re(s,800,480),[s]),x=(0,R.useMemo)(()=>u?Mt(s):Pe(s),[s,u]),L=`# Gradient Preview

![Gradient](${b})

## CSS

\`\`\`css
${y}
\`\`\`

## SwiftUI

\`\`\`swift
${p}
\`\`\`

## Tailwind

\`\`\`${u?"txt":"css"}
${x}
\`\`\``,I=async()=>{let $=[...f,s];await h($),await(0,o.showToast)({style:o.Toast.Style.Success,title:"Saved Gradient"})},A=()=>{c($=>({...$,stops:[...$.stops,oe()]}))},E=async $=>{let _=$.trim();if(!_){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Label cannot be empty"});return}let d=f.findIndex(m=>m.type===s.type&&m.angle===s.angle&&JSON.stringify(m.stops)===JSON.stringify(s.stops));if(d!==-1){if(f.findIndex((T,U)=>U!==d&&T.label===_)!==-1&&!await(0,o.confirmAlert)({title:"Name Already Exists",message:`A gradient with the label "${_}" already exists. Do you want to overwrite it?`,primaryAction:{title:"Overwrite",style:o.Alert.ActionStyle.Destructive},dismissAction:{title:"Cancel"}}))return;let v=[...f];v[d]={...v[d],label:_},await h(v),await(0,o.showToast)({style:o.Toast.Style.Success,title:"Gradient renamed"})}};return _jsx(o.Detail,{markdown:L,metadata:_jsx(o.Detail.Metadata,null,_jsx(o.Detail.Metadata.TagList,{title:"Type / Angle"},_jsx(o.Detail.Metadata.TagList.Item,{text:s.type}),s.type==="linear"?_jsx(o.Detail.Metadata.TagList.Item,{text:`${s.angle}\xB0`}):null),_jsx(o.Detail.Metadata.TagList,{title:"Stops"},s.stops.map(($,_)=>_jsx(o.Detail.Metadata.TagList.Item,{key:`${_}-${$}`,text:$,color:$}))),g?null:_jsx(o.Detail.Metadata.Label,{title:"Note",text:"At least two color stops are required."}),_jsx(o.Detail.Metadata.Separator,null),_jsx(o.Detail.Metadata.Label,{title:"Size",text:"800 \xD7 480"}),_jsx(o.Detail.Metadata.Separator,null),_jsx(o.Detail.Metadata.Label,{title:"Tailwind Output",text:u?"Utility Classes":"Raw CSS"})),actions:_jsx(o.ActionPanel,null,_jsx(_jsxFragment,null,t,r&&n&&_jsx(o.ActionPanel.Section,{title:"Generate New Gradient"},_jsx(o.Action,{icon:o.Icon.ArrowClockwise,title:"Random (Any)",onAction:()=>n(),shortcut:{modifiers:["cmd"],key:"r"}}),_jsx(o.Action,{icon:o.Icon.ArrowClockwise,title:"Random (2 Stops)",onAction:()=>n(2),shortcut:{modifiers:["cmd"],key:"2"}}),_jsx(o.Action,{icon:o.Icon.ArrowClockwise,title:"Random (3 Stops)",onAction:()=>n(3),shortcut:{modifiers:["cmd"],key:"3"}})),_jsx(o.Action,{icon:o.Icon.Plus,title:"Add Color Stop",onAction:A,shortcut:{modifiers:["cmd","shift"],key:"n"}}),_jsx(o.Action,{icon:o.Icon.Folder,title:"Save Gradient",onAction:I}),_jsx(o.Action.Push,{icon:o.Icon.TextCursor,title:"Save With Label",shortcut:{modifiers:["cmd"],key:"l"},target:_jsx(hn,{initial:s,onSave:async $=>{let _=[...f,$];await h(_),await(0,o.showToast)({style:o.Toast.Style.Success,title:"Saved with Label"})}})}),f.some($=>$.type===s.type&&$.angle===s.angle&&JSON.stringify($.stops)===JSON.stringify(s.stops))&&_jsx(o.Action.Push,{icon:o.Icon.Text,title:"Rename Gradient",shortcut:{modifiers:["cmd","shift"],key:"r"},target:_jsx(dn,{initialLabel:s.label,onSubmit:E})}),g&&_jsx(_jsxFragment,null,_jsx(o.ActionPanel.Section,{title:"Copy"},_jsx(o.Action.CopyToClipboard,{title:"Copy CSS",content:y,shortcut:{modifiers:["cmd","shift"],key:"c"}}),_jsx(o.Action.CopyToClipboard,{title:"Copy SwiftUI",content:p,shortcut:{modifiers:["cmd","shift"],key:"s"}}),_jsx(o.Action.CopyToClipboard,{title:"Copy Tailwind",content:x,shortcut:{modifiers:["cmd","shift"],key:"t"}}),_jsx(o.Action.CopyToClipboard,{title:"Copy SVG",content:w,shortcut:{modifiers:["cmd","shift"],key:"v"}})),_jsx(o.ActionPanel.Section,{title:"Export Gradient"},_jsx(o.Action.Push,{icon:o.Icon.Download,title:"Save as SVG...",target:_jsx(pn,{gradient:s,onExport:async($,_)=>{try{if(!l.svgExportDirectory?.trim()){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Export Directory Not Set",message:"Please set the SVG Export Directory preference in Raycast settings first."});return}let d=l.svgExportDirectory,m=d;try{await(0,z.access)(m)}catch{await(0,z.mkdir)(m,{recursive:!0})}let v=(0,Oe.join)(m,_);await(0,z.writeFile)(v,$,"utf8"),await(0,o.showHUD)(`SVG saved to ${d}/${_}`)}catch(d){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Failed to save SVG",message:d instanceof Error?d.message:"Unknown error"})}}})}),_jsx(o.Action.Push,{icon:o.Icon.Download,title:"Save as PNG...",target:_jsx(gn,{gradient:s,onExport:async($,_)=>{try{if(!l.pngExportDirectory?.trim()){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Export Directory Not Set",message:"Please set the PNG Export Directory preference in Raycast settings first."});return}let d=l.pngExportDirectory,m=d;try{await(0,z.access)(m)}catch{await(0,z.mkdir)(m,{recursive:!0})}let v=(0,Oe.join)(m,_);await(0,z.writeFile)(v,$),await(0,o.showHUD)(`PNG saved to ${d}/${_}`)}catch(d){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Failed to save PNG",message:d instanceof Error?d.message:"Unknown error"})}}})})),_jsx(o.ActionPanel.Section,{title:"Paste into Active App"},_jsx(o.Action.Paste,{title:"Paste CSS",content:y,shortcut:{modifiers:["cmd","opt"],key:"c"}}),_jsx(o.Action.Paste,{title:"Paste SwiftUI",content:p,shortcut:{modifiers:["cmd","opt"],key:"s"}}),_jsx(o.Action.Paste,{title:"Paste Tailwind",content:x,shortcut:{modifiers:["cmd","opt"],key:"t"}}),_jsx(o.Action.Paste,{title:"Paste SVG",content:w,shortcut:{modifiers:["cmd","opt"],key:"v"}})))))})}function hn({initial:e,onSave:t}){let{pop:r}=(0,o.useNavigation)(),[n,i]=(0,R.useState)("");return _jsx(o.Form,{actions:_jsx(o.ActionPanel,null,_jsx(o.Action,{title:"Save",icon:o.Icon.Folder,onAction:async()=>{await t({...e,label:n.trim()||void 0}),r()}}),_jsx(o.Action,{title:"Cancel",icon:o.Icon.Xmark,onAction:r}))},_jsx(o.Form.Description,{text:"Set a label for this gradient (optional)."}),_jsx(o.Form.TextField,{id:"label",title:"Label",value:n,onChange:i,placeholder:"e.g. Sunset, Brand Accent"}))}function dn({initialLabel:e,onSubmit:t}){let{pop:r}=(0,o.useNavigation)(),[n,i]=(0,R.useState)(e??"");return _jsx(o.Form,{actions:_jsx(o.ActionPanel,null,_jsx(o.Action,{title:"Rename",icon:o.Icon.Text,onAction:async()=>{await t(n),r()}}),_jsx(o.Action,{title:"Cancel",icon:o.Icon.Xmark,onAction:r}))},_jsx(o.Form.Description,{text:"Rename this gradient."}),_jsx(o.Form.TextField,{id:"label",title:"New Label",value:n,onChange:i,placeholder:"e.g. Sunset, Brand Accent"}))}function pn({gradient:e,onExport:t}){let{pop:r}=(0,o.useNavigation)(),[n,i]=(0,R.useState)("800"),[a,s]=(0,R.useState)("400"),[c,l]=(0,R.useState)("xMidYMid slice"),[u,f]=(0,R.useState)("gradient.svg"),[h,g]=(0,R.useState)(!1),b=async()=>{let y=parseInt(n,10),p=parseInt(a,10);if(isNaN(y)||isNaN(p)||y<=0||p<=0){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Invalid dimensions",message:"Width and height must be positive numbers"});return}if(!u.trim()){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Invalid filename",message:"Filename cannot be empty"});return}let w=Re(e,y,p,c);await(0,o.showToast)({style:o.Toast.Style.Animated,title:"Generating SVG...",message:"Please wait while the file is being created"}),g(!0),await t(w,u),r()};return _jsx(o.Form,{actions:_jsx(o.ActionPanel,null,_jsx(o.Action,{title:h?"Generating SVG...":"Save SVG with Settings",icon:h?o.Icon.Clock:o.Icon.Download,onAction:b}),_jsx(o.Action,{title:"Cancel",icon:o.Icon.Xmark,onAction:r}))},_jsx(o.Form.Description,{text:"Configure SVG export settings. The SVG will be saved to your configured export directory with the specified filename."}),_jsx(o.Form.TextField,{id:"width",title:"Width",value:n,onChange:i,placeholder:"800"}),_jsx(o.Form.TextField,{id:"height",title:"Height",value:a,onChange:s,placeholder:"400"}),_jsx(o.Form.Dropdown,{id:"preserveAspectRatio",title:"Preserve Aspect Ratio",value:c,onChange:l},_jsx(o.Form.Dropdown.Item,{value:"xMidYMid slice",title:"Slice (crop to fit)"}),_jsx(o.Form.Dropdown.Item,{value:"xMidYMid meet",title:"Meet (fit within bounds)"}),_jsx(o.Form.Dropdown.Item,{value:"none",title:"None (stretch)"})),_jsx(o.Form.TextField,{id:"filename",title:"Filename",value:u,onChange:f,placeholder:"gradient.svg"}),h&&_jsx(o.Form.Description,{text:"\u{1F504} Generating SVG... Please wait while the file is being created."}))}function gn({gradient:e,onExport:t}){let{pop:r}=(0,o.useNavigation)(),[n,i]=(0,R.useState)("1"),[a,s]=(0,R.useState)("1920"),[c,l]=(0,R.useState)("1080"),[u,f]=(0,R.useState)("2"),[h,g]=(0,R.useState)(!1),[b,y]=(0,R.useState)("gradient.png"),[p,w]=(0,R.useState)(!1),x=async()=>{let L,I;if(n==="custom"){let $=parseInt(a,10),_=parseInt(c,10);if(isNaN($)||isNaN(_)||$<=0||_<=0){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Invalid dimensions",message:"Width and height must be positive numbers"});return}L=$,I=_}else{let $=parseInt(n,10),_=Ie[$];L=_.width,I=_.height}let A=parseInt(u,10);if(isNaN(A)||A<=0){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Invalid DPR",message:"Device Pixel Ratio must be a positive number"});return}if(!b.trim()){await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Invalid filename",message:"Filename cannot be empty"});return}let E=Gt(e,L,I,A,h);w(!0),await t(E,b),r()};return _jsx(o.Form,{actions:_jsx(o.ActionPanel,null,_jsx(o.Action,{title:p?"Generating PNG...":"Export PNG",icon:p?o.Icon.Clock:o.Icon.Download,onAction:x}),_jsx(o.Action,{title:"Cancel",icon:o.Icon.Xmark,onAction:r}))},_jsx(o.Form.Description,{text:"Configure PNG export settings. The PNG will be saved to your configured export directory with the specified filename."}),_jsx(o.Form.Dropdown,{id:"preset",title:"Size Preset",value:n,onChange:i},Ie.map((L,I)=>_jsx(o.Form.Dropdown.Item,{key:I,title:L.name,value:I.toString()})),_jsx(o.Form.Dropdown.Item,{value:"custom",title:"Custom..."})),n==="custom"&&_jsx(_jsxFragment,null,_jsx(o.Form.TextField,{id:"customWidth",title:"Width",value:a,onChange:s,placeholder:"1920"}),_jsx(o.Form.TextField,{id:"customHeight",title:"Height",value:c,onChange:l,placeholder:"1080"})),_jsx(o.Form.Dropdown,{id:"dpr",title:"Device Pixel Ratio (DPR)",value:u,onChange:f},_jsx(o.Form.Dropdown.Item,{value:"1",title:"1\xD7 (Standard)"}),_jsx(o.Form.Dropdown.Item,{value:"2",title:"2\xD7 (Retina - Default)"})),_jsx(o.Form.Checkbox,{id:"transparentBackground",title:"Transparent Background",value:h,onChange:g,label:"Make background transparent instead of white"}),_jsx(o.Form.TextField,{id:"filename",title:"Filename",value:b,onChange:y,placeholder:"gradient.png"}),p&&_jsx(o.Form.Description,{text:"\u{1F504} Generating PNG... Please wait while the image is being created."}))}var mn=[{name:"Sunset",colors:["#EE7752","#E73C7E","#23A6D5"],description:"Warm sunset colors transitioning from orange to pink to blue"},{name:"Ocean",colors:["#0B486B","#F56217"],description:"Deep ocean blue to warm orange"},{name:"Forest",colors:["#5A3F37","#2C7744"],description:"Rich brown to forest green"},{name:"Aurora",colors:["#9CECFB","#65C7F7","#0052D4"],description:"Northern lights inspired blues"},{name:"Candy",colors:["#FBD3E9","#BB377D"],description:"Soft pink to deep magenta"},{name:"Midnight",colors:["#0F0F23","#1E1E3F","#2D2D5F"],description:"Dark midnight blues"},{name:"Sunrise",colors:["#FF6B6B","#FFE66D","#4ECDC4"],description:"Bright sunrise with yellow and teal"},{name:"Autumn",colors:["#D2691E","#CD853F","#F4A460"],description:"Warm autumn earth tones"},{name:"Spring",colors:["#98FB98","#90EE90","#32CD32"],description:"Fresh spring greens"},{name:"Neon",colors:["#FF1493","#00FF00","#00BFFF"],description:"Vibrant neon colors"},{name:"Pastel",colors:["#FFB6C1","#DDA0DD","#87CEEB"],description:"Soft pastel colors"},{name:"Fire",colors:["#FF4500","#FF6347","#FF8C00"],description:"Hot fire oranges and reds"},{name:"Ice",colors:["#F0F8FF","#E6E6FA","#B0E0E6"],description:"Cool ice blues and whites"},{name:"Desert",colors:["#DEB887","#F4A460","#D2B48C"],description:"Warm desert sand tones"},{name:"Twilight",colors:["#4B0082","#8A2BE2","#9370DB"],description:"Deep purple twilight colors"}],jt=()=>mn;function Wt(){let{push:e}=(0,k.useNavigation)(),[t,r]=(0,j.useState)("linear"),[n,i]=(0,j.useState)(["#FF5733","#33C1FF"]),[a,s]=(0,j.useState)("90"),[c,l]=(0,j.useState)(""),[u,f]=(0,j.useState)(new Set),h=(0,j.useMemo)(()=>{let d=t==="linear"?Number(a):void 0;return Z({type:t,angle:d,stops:n})},[t,a,n]),g=d=>u.has(d)?h.overall.errors.filter(m=>m.field===d):[],b=d=>u.has(d)?h.overall.warnings.filter(m=>m.field===d):[],y=(0,j.useCallback)(d=>{f(m=>new Set(m).add(d))},[]),p=jt(),w=(d,m)=>{i(v=>v.map((T,U)=>U===d?m:T))},x=()=>{i(d=>d.length>=6?d:[...d,oe()])},L=()=>{i(d=>d.length<=2?d:d.slice(0,-1))},I=()=>{i(d=>{let m=[...d];if(m.length>=2){let v=m[0];m[0]=m[1],m[1]=v}return m})},A=()=>{i(d=>d.map(()=>oe()))},E=()=>{r("linear"),i(["#FF5733","#33C1FF"]),s("90"),l(""),f(new Set)},$=d=>{let m=p.find(v=>v.name===d);m&&i(m.colors)},_=async()=>{if(f(new Set(["stops","angle"])),!h.overall.isValid){let m=h.overall.errors.map(v=>v.message).join(", ");await(0,k.showToast)({style:k.Toast.Style.Failure,title:"Invalid gradient",message:m});return}let d=t==="linear"?Number(a):void 0;await e(_jsx(Le,{type:t,angle:d,stops:n}))};return _jsx(k.Form,{actions:_jsx(k.ActionPanel,null,_jsx(k.Action.SubmitForm,{icon:k.Icon.Eye,title:"Preview Gradient",onSubmit:_}),_jsx(k.Action,{icon:k.Icon.Plus,title:"Add Color Stop",onAction:x}),_jsx(k.Action,{icon:k.Icon.Minus,title:"Remove Last Stop",onAction:L}),_jsx(k.Action,{icon:k.Icon.ArrowClockwise,title:"Swap First Two Stops",onAction:I}),_jsx(k.Action,{icon:k.Icon.ArrowClockwise,title:"Randomize Colors",onAction:A}),_jsx(k.Action,{icon:k.Icon.RotateAntiClockwise,title:"Reset to Defaults",onAction:E}),_jsx(k.ActionPanel.Section,{title:"Paste from Clipboard"},n.map((d,m)=>_jsx(k.Action,{key:`paste-${m}`,icon:k.Icon.Clipboard,title:`Paste Color ${m+1}`,onAction:async()=>{let v=(await k.Clipboard.readText())?.trim();v&&ie(v)?w(m,v.toUpperCase()):await(0,k.showToast)({style:k.Toast.Style.Failure,title:"Clipboard did not contain a valid hex color."})}}))))},_jsx(k.Form.Description,{text:"Design a gradient quickly with presets, color picker, and clipboard helpers."}),_jsx(k.Form.Description,{text:"\u{1F4A1} Tip: Use Tab to navigate between fields, Enter to submit when ready"}),u.size>0&&!h.overall.isValid&&_jsx(k.Form.Description,{text:`\u26A0\uFE0F ${h.overall.errors.length} error(s) found. Please fix before previewing.`}),_jsx(k.Form.TextField,{id:"label",title:"Label (optional)",value:c,onChange:l,placeholder:"e.g. Hero Background"}),_jsx(k.Form.Dropdown,{id:"type",title:"Type",value:t,onChange:d=>r(d)},_jsx(k.Form.Dropdown.Item,{value:"linear",title:"linear"}),_jsx(k.Form.Dropdown.Item,{value:"radial",title:"radial"}),_jsx(k.Form.Dropdown.Item,{value:"conic",title:"conic"})),_jsx(k.Form.Dropdown,{id:"preset",title:"Preset",storeValue:!0,onChange:$},p.map(d=>_jsx(k.Form.Dropdown.Item,{key:d.name,value:d.name,title:`${d.name} - ${d.description}`}))),n.map((d,m)=>{let v=g(`stop-${m}`),T=b(`stop-${m}`),U=v.length>0,H=T.length>0;return _jsx(k.Form.TextField,{key:`c-${m}`,id:`color-${m}`,title:`Color ${m+1}`,value:d,onChange:Y=>w(m,Y),onBlur:()=>y(`stop-${m}`),error:U?v[0]?.message:void 0,info:U?v[0]?.message:H?T[0]?.message:ie(d)?void 0:"Enter a hex like #AABBCC",placeholder:"#AABBCC"})}),t==="linear"?_jsx(k.Form.TextField,{id:"angle",title:"Angle (deg)",value:a,onChange:s,onBlur:()=>y("angle"),error:g("angle")[0]?.message,info:g("angle")[0]?.message||"Enter a number between 0 and 360"}):null)}
