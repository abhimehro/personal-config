"use strict";var ru=Object.create;var jr=Object.defineProperty;var nu=Object.getOwnPropertyDescriptor;var ou=Object.getOwnPropertyNames;var au=Object.getPrototypeOf,iu=Object.prototype.hasOwnProperty;var Zt=(n,r)=>()=>(n&&(r=n(n=0)),r);var Xe=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),ua=(n,r)=>{for(var o in r)jr(n,o,{get:r[o],enumerable:!0})},la=(n,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of ou(r))!iu.call(n,s)&&s!==o&&jr(n,s,{get:()=>r[s],enumerable:!(i=nu(r,s))||i.enumerable});return n};var _e=(n,r,o)=>(o=n!=null?ru(au(n)):{},la(r||!n||!n.__esModule?jr(o,"default",{value:n,enumerable:!0}):o,n)),su=n=>la(jr({},"__esModule",{value:!0}),n);var ca=Xe((ml,fa)=>{"use strict";fa.exports=n=>encodeURIComponent(n).replace(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`)});var pa=Xe((bl,ba)=>{"use strict";var ma="%[a-f0-9]{2}",da=new RegExp(ma,"gi"),ha=new RegExp("("+ma+")+","gi");function Dn(n,r){try{return decodeURIComponent(n.join(""))}catch{}if(n.length===1)return n;r=r||1;var o=n.slice(0,r),i=n.slice(r);return Array.prototype.concat.call([],Dn(o),Dn(i))}function uu(n){try{return decodeURIComponent(n)}catch{for(var r=n.match(da),o=1;o<r.length;o++)n=Dn(r,o).join(""),r=n.match(da);return n}}function lu(n){for(var r={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},o=ha.exec(n);o;){try{r[o[0]]=decodeURIComponent(o[0])}catch{var i=uu(o[0]);i!==o[0]&&(r[o[0]]=i)}o=ha.exec(n)}r["%C2"]="\uFFFD";for(var s=Object.keys(r),l=0;l<s.length;l++){var f=s[l];n=n.replace(new RegExp(f,"g"),r[f])}return n}ba.exports=function(n){if(typeof n!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof n+"`");try{return n=n.replace(/\+/g," "),decodeURIComponent(n)}catch{return lu(n)}}});var ga=Xe((pl,ya)=>{"use strict";ya.exports=(n,r)=>{if(!(typeof n=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(r==="")return[n];let o=n.indexOf(r);return o===-1?[n]:[n.slice(0,o),n.slice(o+r.length)]}});var _a=Xe((yl,Sa)=>{"use strict";Sa.exports=function(n,r){for(var o={},i=Object.keys(n),s=Array.isArray(r),l=0;l<i.length;l++){var f=i[l],b=n[f];(s?r.indexOf(f)!==-1:r(f,b,n))&&(o[f]=b)}return o}});var Nr=Xe(ne=>{"use strict";var fu=ca(),cu=pa(),Ra=ga(),du=_a(),hu=n=>n==null,Wn=Symbol("encodeFragmentIdentifier");function mu(n){switch(n.arrayFormat){case"index":return r=>(o,i)=>{let s=o.length;return i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?o:i===null?[...o,[$(r,n),"[",s,"]"].join("")]:[...o,[$(r,n),"[",$(s,n),"]=",$(i,n)].join("")]};case"bracket":return r=>(o,i)=>i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?o:i===null?[...o,[$(r,n),"[]"].join("")]:[...o,[$(r,n),"[]=",$(i,n)].join("")];case"colon-list-separator":return r=>(o,i)=>i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?o:i===null?[...o,[$(r,n),":list="].join("")]:[...o,[$(r,n),":list=",$(i,n)].join("")];case"comma":case"separator":case"bracket-separator":{let r=n.arrayFormat==="bracket-separator"?"[]=":"=";return o=>(i,s)=>s===void 0||n.skipNull&&s===null||n.skipEmptyString&&s===""?i:(s=s===null?"":s,i.length===0?[[$(o,n),r,$(s,n)].join("")]:[[i,$(s,n)].join(n.arrayFormatSeparator)])}default:return r=>(o,i)=>i===void 0||n.skipNull&&i===null||n.skipEmptyString&&i===""?o:i===null?[...o,$(r,n)]:[...o,[$(r,n),"=",$(i,n)].join("")]}}function bu(n){let r;switch(n.arrayFormat){case"index":return(o,i,s)=>{if(r=/\[(\d*)\]$/.exec(o),o=o.replace(/\[\d*\]$/,""),!r){s[o]=i;return}s[o]===void 0&&(s[o]={}),s[o][r[1]]=i};case"bracket":return(o,i,s)=>{if(r=/(\[\])$/.exec(o),o=o.replace(/\[\]$/,""),!r){s[o]=i;return}if(s[o]===void 0){s[o]=[i];return}s[o]=[].concat(s[o],i)};case"colon-list-separator":return(o,i,s)=>{if(r=/(:list)$/.exec(o),o=o.replace(/:list$/,""),!r){s[o]=i;return}if(s[o]===void 0){s[o]=[i];return}s[o]=[].concat(s[o],i)};case"comma":case"separator":return(o,i,s)=>{let l=typeof i=="string"&&i.includes(n.arrayFormatSeparator),f=typeof i=="string"&&!l&&Ie(i,n).includes(n.arrayFormatSeparator);i=f?Ie(i,n):i;let b=l||f?i.split(n.arrayFormatSeparator).map(p=>Ie(p,n)):i===null?i:Ie(i,n);s[o]=b};case"bracket-separator":return(o,i,s)=>{let l=/(\[\])$/.test(o);if(o=o.replace(/\[\]$/,""),!l){s[o]=i&&Ie(i,n);return}let f=i===null?[]:i.split(n.arrayFormatSeparator).map(b=>Ie(b,n));if(s[o]===void 0){s[o]=f;return}s[o]=[].concat(s[o],f)};default:return(o,i,s)=>{if(s[o]===void 0){s[o]=i;return}s[o]=[].concat(s[o],i)}}}function Ta(n){if(typeof n!="string"||n.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function $(n,r){return r.encode?r.strict?fu(n):encodeURIComponent(n):n}function Ie(n,r){return r.decode?cu(n):n}function Ea(n){return Array.isArray(n)?n.sort():typeof n=="object"?Ea(Object.keys(n)).sort((r,o)=>Number(r)-Number(o)).map(r=>n[r]):n}function va(n){let r=n.indexOf("#");return r!==-1&&(n=n.slice(0,r)),n}function pu(n){let r="",o=n.indexOf("#");return o!==-1&&(r=n.slice(o)),r}function Ca(n){n=va(n);let r=n.indexOf("?");return r===-1?"":n.slice(r+1)}function wa(n,r){return r.parseNumbers&&!Number.isNaN(Number(n))&&typeof n=="string"&&n.trim()!==""?n=Number(n):r.parseBooleans&&n!==null&&(n.toLowerCase()==="true"||n.toLowerCase()==="false")&&(n=n.toLowerCase()==="true"),n}function Aa(n,r){r=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},r),Ta(r.arrayFormatSeparator);let o=bu(r),i=Object.create(null);if(typeof n!="string"||(n=n.trim().replace(/^[?#&]/,""),!n))return i;for(let s of n.split("&")){if(s==="")continue;let[l,f]=Ra(r.decode?s.replace(/\+/g," "):s,"=");f=f===void 0?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?f:Ie(f,r),o(Ie(l,r),f,i)}for(let s of Object.keys(i)){let l=i[s];if(typeof l=="object"&&l!==null)for(let f of Object.keys(l))l[f]=wa(l[f],r);else i[s]=wa(l,r)}return r.sort===!1?i:(r.sort===!0?Object.keys(i).sort():Object.keys(i).sort(r.sort)).reduce((s,l)=>{let f=i[l];return f&&typeof f=="object"&&!Array.isArray(f)?s[l]=Ea(f):s[l]=f,s},Object.create(null))}ne.extract=Ca;ne.parse=Aa;ne.stringify=(n,r)=>{if(!n)return"";r=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},r),Ta(r.arrayFormatSeparator);let o=f=>r.skipNull&&hu(n[f])||r.skipEmptyString&&n[f]==="",i=mu(r),s={};for(let f of Object.keys(n))o(f)||(s[f]=n[f]);let l=Object.keys(s);return r.sort!==!1&&l.sort(r.sort),l.map(f=>{let b=n[f];return b===void 0?"":b===null?$(f,r):Array.isArray(b)?b.length===0&&r.arrayFormat==="bracket-separator"?$(f,r)+"[]":b.reduce(i(f),[]).join("&"):$(f,r)+"="+$(b,r)}).filter(f=>f.length>0).join("&")};ne.parseUrl=(n,r)=>{r=Object.assign({decode:!0},r);let[o,i]=Ra(n,"#");return Object.assign({url:o.split("?")[0]||"",query:Aa(Ca(n),r)},r&&r.parseFragmentIdentifier&&i?{fragmentIdentifier:Ie(i,r)}:{})};ne.stringifyUrl=(n,r)=>{r=Object.assign({encode:!0,strict:!0,[Wn]:!0},r);let o=va(n.url).split("?")[0]||"",i=ne.extract(n.url),s=ne.parse(i,{sort:!1}),l=Object.assign(s,n.query),f=ne.stringify(l,r);f&&(f=`?${f}`);let b=pu(n.url);return n.fragmentIdentifier&&(b=`#${r[Wn]?$(n.fragmentIdentifier,r):n.fragmentIdentifier}`),`${o}${f}${b}`};ne.pick=(n,r,o)=>{o=Object.assign({parseFragmentIdentifier:!0,[Wn]:!1},o);let{url:i,query:s,fragmentIdentifier:l}=ne.parseUrl(n,o);return ne.stringifyUrl({url:i,query:du(s,r),fragmentIdentifier:l},o)};ne.exclude=(n,r,o)=>{let i=Array.isArray(r)?s=>!r.includes(s):(s,l)=>!r(s,l);return ne.pick(n,i,o)}});var Qa=Xe((Qr,Ya)=>{(function(n,r){typeof Qr=="object"&&typeof Ya<"u"?r(Qr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(Qr,(function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=i();function l(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,b=Promise,p=Promise.prototype.then,m=Promise.resolve.bind(b),w=Promise.reject.bind(b);function T(e){return new b(e)}function _(e){return m(e)}function y(e){return w(e)}function g(e,t,a){return p.call(e,t,a)}function A(e,t,a){g(g(e,t,a),void 0,f)}function v(e,t){A(e,t)}function S(e,t){A(e,void 0,t)}function k(e,t,a){return g(e,t,a)}function M(e){g(e,void 0,f)}let C=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let t=_(void 0);return a=>g(t,a)})();function L(e,t,a){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,a)}function O(e,t,a){try{return _(L(e,t,a))}catch(u){return y(u)}}let Q=16384;class V{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let a=this._back,u=a;a._elements.length===Q-1&&(u={_elements:[],_next:void 0}),a._elements.push(t),u!==a&&(this._back=u,a._next=u),++this._size}shift(){let t=this._front,a=t,u=this._cursor,c=u+1,d=t._elements,h=d[u];return c===Q&&(a=t._next,c=0),--this._size,this._cursor=c,t!==a&&(this._front=a),d[u]=void 0,h}forEach(t){let a=this._cursor,u=this._front,c=u._elements;for(;(a!==c.length||u._next!==void 0)&&!(a===c.length&&(u=u._next,c=u._elements,a=0,c.length===0));)t(c[a]),++a}peek(){let t=this._front,a=this._cursor;return t._elements[a]}}function N(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Lt(e):t._state==="closed"?lr(e):fe(e,t._storedError)}function rt(e,t){let a=e._ownerReadableStream;return ge(a,t)}function X(e){e._ownerReadableStream._state==="readable"?Be(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):fr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Fe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Lt(e){e._closedPromise=T((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a})}function fe(e,t){Lt(e),Be(e,t)}function lr(e){Lt(e),qt(e)}function Be(e,t){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function fr(e,t){fe(e,t)}function qt(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let cr=r("[[AbortSteps]]"),gt=r("[[ErrorSteps]]"),nt=r("[[CancelSteps]]"),Re=r("[[PullSteps]]"),St=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},_t=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function De(e){return typeof e=="object"||typeof e=="function"}function be(e,t){if(e!==void 0&&!De(e))throw new TypeError(`${t} is not an object.`)}function x(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function ee(e){return typeof e=="object"&&e!==null||typeof e=="function"}function K(e,t){if(!ee(e))throw new TypeError(`${t} is not an object.`)}function U(e,t,a){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${a}'.`)}function We(e,t,a){if(e===void 0)throw new TypeError(`${t} is required in '${a}'.`)}function ke(e){return Number(e)}function ie(e){return e===0?0:e}function Y(e){return ie(_t(e))}function pe(e,t){let u=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=ie(c),!St(c))throw new TypeError(`${t} is not a finite number`);if(c=Y(c),c<0||c>u)throw new TypeError(`${t} is outside the accepted range of 0 to ${u}, inclusive`);return!St(c)||c===0?0:c}function te(e,t){if(!Ke(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Te(e){return new He(e)}function $e(e,t){e._reader._readRequests.push(t)}function Ee(e,t,a){let c=e._reader._readRequests.shift();a?c._closeSteps():c._chunkSteps(t)}function je(e){return e._reader._readRequests.length}function Ne(e){let t=e._reader;return!(t===void 0||!Ve(t))}class He{constructor(t){if(U(t,1,"ReadableStreamDefaultReader"),te(t,"First parameter"),Ze(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");N(this,t),this._readRequests=new V}get closed(){return Ve(this)?this._closedPromise:y(dr("closed"))}cancel(t=void 0){return Ve(this)?this._ownerReadableStream===void 0?y(Fe("cancel")):rt(this,t):y(dr("cancel"))}read(){if(!Ve(this))return y(dr("read"));if(this._ownerReadableStream===void 0)return y(Fe("read from"));let t,a,u=T((d,h)=>{t=d,a=h});return It(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>a(d)}),u}releaseLock(){if(!Ve(this))throw dr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");X(this)}}}Object.defineProperties(He.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(He.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ve(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof He}function It(e,t){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="closed"?t._closeSteps():a._state==="errored"?t._errorSteps(a._storedError):a._readableStreamController[Re](t)}function dr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let no=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class oo{constructor(t,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=a}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?k(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let a=()=>this._returnSteps(t);return this._ongoingPromise?k(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return y(Fe("iterate"));let a,u,c=T((h,R)=>{a=h,u=R});return It(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,C(()=>a({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,X(t),a({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,X(t),u(h)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return y(Fe("finish iterating"));if(!this._preventCancel){let u=rt(a,t);return X(a),k(u,()=>({value:t,done:!0}))}return X(a),_({value:t,done:!0})}}let ao={next(){return io(this)?this._asyncIteratorImpl.next():y(so("next"))},return(e){return io(this)?this._asyncIteratorImpl.return(e):y(so("return"))}};no!==void 0&&Object.setPrototypeOf(ao,no);function Ii(e,t){let a=Te(e),u=new oo(a,t),c=Object.create(ao);return c._asyncIteratorImpl=u,c}function io(e){if(!l(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof oo}catch{return!1}}function so(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let uo=Number.isNaN||function(e){return e!==e};function zt(e){return e.slice()}function lo(e,t,a,u,c){new Uint8Array(e).set(new Uint8Array(a,u,c),t)}function dl(e){return e}function hr(e){return!1}function fo(e,t,a){if(e.slice)return e.slice(t,a);let u=a-t,c=new ArrayBuffer(u);return lo(c,0,e,t,u),c}function zi(e){return!(typeof e!="number"||uo(e)||e<0)}function co(e){let t=fo(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ln(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function fn(e,t,a){if(!zi(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:a}),e._queueTotalSize+=a}function xi(e){return e._queue.peek().value}function Ye(e){e._queue=new V,e._queueTotalSize=0}class xt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!cn(this))throw bn("view");return this._view}respond(t){if(!cn(this))throw bn("respond");if(U(t,1,"respond"),t=pe(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");hr(this._view.buffer),gr(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!cn(this))throw bn("respondWithNewView");if(U(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");hr(t.buffer),Sr(this._associatedReadableByteStreamController,t)}}Object.defineProperties(xt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class wt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ot(this))throw Ut("byobRequest");return mn(this)}get desiredSize(){if(!ot(this))throw Ut("desiredSize");return _o(this)}close(){if(!ot(this))throw Ut("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Mt(this)}enqueue(t){if(!ot(this))throw Ut("enqueue");if(U(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);yr(this,t)}error(t=void 0){if(!ot(this))throw Ut("error");ye(this,t)}[nt](t){ho(this),Ye(this);let a=this._cancelAlgorithm(t);return pr(this),a}[Re](t){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,yo(this);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(d);return}let u=this._autoAllocateChunkSize;if(u!==void 0){let c;try{c=new ArrayBuffer(u)}catch(h){t._errorSteps(h);return}let d={buffer:c,bufferByteLength:u,byteOffset:0,byteLength:u,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}$e(a,t),at(this)}}Object.defineProperties(wt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ot(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof wt}function cn(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof xt}function at(e){if(!ji(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();A(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,at(e))},u=>{ye(e,u)})}function ho(e){hn(e),e._pendingPullIntos=new V}function dn(e,t){let a=!1;e._state==="closed"&&(a=!0);let u=mo(t);t.readerType==="default"?Ee(e,u,a):Vi(e,u,a)}function mo(e){let t=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/a)}function mr(e,t,a,u){e._queue.push({buffer:t,byteOffset:a,byteLength:u}),e._queueTotalSize+=u}function bo(e,t){let a=t.elementSize,u=t.bytesFilled-t.bytesFilled%a,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+c,h=d-d%a,R=c,P=!1;h>u&&(R=h-t.bytesFilled,P=!0);let B=e._queue;for(;R>0;){let D=B.peek(),W=Math.min(R,D.byteLength),j=t.byteOffset+t.bytesFilled;lo(t.buffer,j,D.buffer,D.byteOffset,W),D.byteLength===W?B.shift():(D.byteOffset+=W,D.byteLength-=W),e._queueTotalSize-=W,po(e,W,t),R-=W}return P}function po(e,t,a){a.bytesFilled+=t}function yo(e){e._queueTotalSize===0&&e._closeRequested?(pr(e),Gt(e._controlledReadableByteStream)):at(e)}function hn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function go(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();bo(e,t)&&(br(e),dn(e._controlledReadableByteStream,t))}}function Mi(e,t,a){let u=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,h=t.buffer,R={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(R),To(u,a);return}if(u._state==="closed"){let P=new d(R.buffer,R.byteOffset,0);a._closeSteps(P);return}if(e._queueTotalSize>0){if(bo(e,R)){let P=mo(R);yo(e),a._chunkSteps(P);return}if(e._closeRequested){let P=new TypeError("Insufficient bytes to fill elements in the given buffer");ye(e,P),a._errorSteps(P);return}}e._pendingPullIntos.push(R),To(u,a),at(e)}function Ui(e,t){let a=e._controlledReadableByteStream;if(pn(a))for(;Eo(a)>0;){let u=br(e);dn(a,u)}}function $i(e,t,a){if(po(e,t,a),a.bytesFilled<a.elementSize)return;br(e);let u=a.bytesFilled%a.elementSize;if(u>0){let c=a.byteOffset+a.bytesFilled,d=fo(a.buffer,c-u,c);mr(e,d,0,d.byteLength)}a.bytesFilled-=u,dn(e._controlledReadableByteStream,a),go(e)}function So(e,t){let a=e._pendingPullIntos.peek();hn(e),e._controlledReadableByteStream._state==="closed"?Ui(e):$i(e,t,a),at(e)}function br(e){return e._pendingPullIntos.shift()}function ji(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Ne(t)&&je(t)>0||pn(t)&&Eo(t)>0||_o(e)>0)}function pr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Mt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let u=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ye(e,u),u}pr(e),Gt(t)}}function yr(e,t){let a=e._controlledReadableByteStream;if(e._closeRequested||a._state!=="readable")return;let u=t.buffer,c=t.byteOffset,d=t.byteLength,h=u;if(e._pendingPullIntos.length>0){let R=e._pendingPullIntos.peek();hr(R.buffer),R.buffer=R.buffer}if(hn(e),Ne(a))if(je(a)===0)mr(e,h,c,d);else{e._pendingPullIntos.length>0&&br(e);let R=new Uint8Array(h,c,d);Ee(a,R,!1)}else pn(a)?(mr(e,h,c,d),go(e)):mr(e,h,c,d);at(e)}function ye(e,t){let a=e._controlledReadableByteStream;a._state==="readable"&&(ho(e),Ye(e),pr(e),Qo(a,t))}function mn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),a=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),u=Object.create(xt.prototype);Hi(u,e,a),e._byobRequest=u}return e._byobRequest}function _o(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function gr(e,t){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+t>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,So(e,t)}function Sr(e,t){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+t.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;a.buffer=t.buffer,So(e,c)}function wo(e,t,a,u,c,d,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ye(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=u,t._cancelAlgorithm=c,t._autoAllocateChunkSize=h,t._pendingPullIntos=new V,e._readableStreamController=t;let R=a();A(_(R),()=>{t._started=!0,at(t)},P=>{ye(t,P)})}function Ni(e,t,a){let u=Object.create(wt.prototype),c=()=>{},d=()=>_(void 0),h=()=>_(void 0);t.start!==void 0&&(c=()=>t.start(u)),t.pull!==void 0&&(d=()=>t.pull(u)),t.cancel!==void 0&&(h=P=>t.cancel(P));let R=t.autoAllocateChunkSize;if(R===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");wo(e,u,c,d,h,a,R)}function Hi(e,t,a){e._associatedReadableByteStreamController=t,e._view=a}function bn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ut(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ro(e){return new $t(e)}function To(e,t){e._reader._readIntoRequests.push(t)}function Vi(e,t,a){let c=e._reader._readIntoRequests.shift();a?c._closeSteps(t):c._chunkSteps(t)}function Eo(e){return e._reader._readIntoRequests.length}function pn(e){let t=e._reader;return!(t===void 0||!it(t))}class $t{constructor(t){if(U(t,1,"ReadableStreamBYOBReader"),te(t,"First parameter"),Ze(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ot(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");N(this,t),this._readIntoRequests=new V}get closed(){return it(this)?this._closedPromise:y(_r("closed"))}cancel(t=void 0){return it(this)?this._ownerReadableStream===void 0?y(Fe("cancel")):rt(this,t):y(_r("cancel"))}read(t){if(!it(this))return y(_r("read"));if(!ArrayBuffer.isView(t))return y(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return y(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return y(new TypeError("view's buffer must have non-zero byteLength"));if(hr(t.buffer),this._ownerReadableStream===void 0)return y(Fe("read from"));let a,u,c=T((h,R)=>{a=h,u=R});return vo(this,t,{_chunkSteps:h=>a({value:h,done:!1}),_closeSteps:h=>a({value:h,done:!0}),_errorSteps:h=>u(h)}),c}releaseLock(){if(!it(this))throw _r("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");X(this)}}}Object.defineProperties($t.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty($t.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function it(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof $t}function vo(e,t,a){let u=e._ownerReadableStream;u._disturbed=!0,u._state==="errored"?a._errorSteps(u._storedError):Mi(u._readableStreamController,t,a)}function _r(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function jt(e,t){let{highWaterMark:a}=e;if(a===void 0)return t;if(uo(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function wr(e){let{size:t}=e;return t||(()=>1)}function Rr(e,t){be(e,t);let a=e?.highWaterMark,u=e?.size;return{highWaterMark:a===void 0?void 0:ke(a),size:u===void 0?void 0:Yi(u,`${t} has member 'size' that`)}}function Yi(e,t){return x(e,t),a=>ke(e(a))}function Qi(e,t){be(e,t);let a=e?.abort,u=e?.close,c=e?.start,d=e?.type,h=e?.write;return{abort:a===void 0?void 0:Gi(a,e,`${t} has member 'abort' that`),close:u===void 0?void 0:Ki(u,e,`${t} has member 'close' that`),start:c===void 0?void 0:Zi(c,e,`${t} has member 'start' that`),write:h===void 0?void 0:Ji(h,e,`${t} has member 'write' that`),type:d}}function Gi(e,t,a){return x(e,a),u=>O(e,t,[u])}function Ki(e,t,a){return x(e,a),()=>O(e,t,[])}function Zi(e,t,a){return x(e,a),u=>L(e,t,[u])}function Ji(e,t,a){return x(e,a),(u,c)=>O(e,t,[u,c])}function Co(e,t){if(!Rt(e))throw new TypeError(`${t} is not a WritableStream.`)}function Xi(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let es=typeof AbortController=="function";function ts(){if(es)return new AbortController}class Nt{constructor(t={},a={}){t===void 0?t=null:K(t,"First parameter");let u=Rr(a,"Second parameter"),c=Qi(t,"First parameter");if(Po(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let h=wr(u),R=jt(u,1);bs(this,c,R,h)}get locked(){if(!Rt(this))throw Ar("locked");return Tt(this)}abort(t=void 0){return Rt(this)?Tt(this)?y(new TypeError("Cannot abort a stream that already has a writer")):Tr(this,t):y(Ar("abort"))}close(){return Rt(this)?Tt(this)?y(new TypeError("Cannot close a stream that already has a writer")):ve(this)?y(new TypeError("Cannot close an already-closing stream")):Oo(this):y(Ar("close"))}getWriter(){if(!Rt(this))throw Ar("getWriter");return Ao(this)}}Object.defineProperties(Nt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Nt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Ao(e){return new Ht(e)}function rs(e,t,a,u,c=1,d=()=>1){let h=Object.create(Nt.prototype);Po(h);let R=Object.create(Et.prototype);return Lo(h,R,e,t,a,u,c,d),h}function Po(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new V,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Rt(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Nt}function Tt(e){return e._writer!==void 0}function Tr(e,t){var a;if(e._state==="closed"||e._state==="errored")return _(void 0);e._writableStreamController._abortReason=t,(a=e._writableStreamController._abortController)===null||a===void 0||a.abort();let u=e._state;if(u==="closed"||u==="errored")return _(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;u==="erroring"&&(c=!0,t=void 0);let d=T((h,R)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:R,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=d,c||gn(e,t),d}function Oo(e){let t=e._state;if(t==="closed"||t==="errored")return y(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let a=T((c,d)=>{let h={_resolve:c,_reject:d};e._closeRequest=h}),u=e._writer;return u!==void 0&&e._backpressure&&t==="writable"&&An(u),ps(e._writableStreamController),a}function ns(e){return T((a,u)=>{let c={_resolve:a,_reject:u};e._writeRequests.push(c)})}function yn(e,t){if(e._state==="writable"){gn(e,t);return}Sn(e)}function gn(e,t){let a=e._writableStreamController;e._state="erroring",e._storedError=t;let u=e._writer;u!==void 0&&Bo(u,t),!us(e)&&a._started&&Sn(e)}function Sn(e){e._state="errored",e._writableStreamController[gt]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new V,e._pendingAbortRequest===void 0){Er(e);return}let a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(t),Er(e);return}let u=e._writableStreamController[cr](a._reason);A(u,()=>{a._resolve(),Er(e)},c=>{a._reject(c),Er(e)})}function os(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function as(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,yn(e,t)}function is(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let a=e._writer;a!==void 0&&xo(a)}function ss(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),yn(e,t)}function ve(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function us(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function ls(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function fs(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Er(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&vn(t,e._storedError)}function _n(e,t){let a=e._writer;a!==void 0&&t!==e._backpressure&&(t?Ts(a):An(a)),e._backpressure=t}class Ht{constructor(t){if(U(t,1,"WritableStreamDefaultWriter"),Co(t,"First parameter"),Tt(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let a=t._state;if(a==="writable")!ve(t)&&t._backpressure?Or(this):Mo(this),Pr(this);else if(a==="erroring")Cn(this,t._storedError),Pr(this);else if(a==="closed")Mo(this),ws(this);else{let u=t._storedError;Cn(this,u),zo(this,u)}}get closed(){return st(this)?this._closedPromise:y(ut("closed"))}get desiredSize(){if(!st(this))throw ut("desiredSize");if(this._ownerWritableStream===void 0)throw Vt("desiredSize");return ms(this)}get ready(){return st(this)?this._readyPromise:y(ut("ready"))}abort(t=void 0){return st(this)?this._ownerWritableStream===void 0?y(Vt("abort")):cs(this,t):y(ut("abort"))}close(){if(!st(this))return y(ut("close"));let t=this._ownerWritableStream;return t===void 0?y(Vt("close")):ve(t)?y(new TypeError("Cannot close an already-closing stream")):Fo(this)}releaseLock(){if(!st(this))throw ut("releaseLock");this._ownerWritableStream!==void 0&&Do(this)}write(t=void 0){return st(this)?this._ownerWritableStream===void 0?y(Vt("write to")):Wo(this,t):y(ut("write"))}}Object.defineProperties(Ht.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ht.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function st(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Ht}function cs(e,t){let a=e._ownerWritableStream;return Tr(a,t)}function Fo(e){let t=e._ownerWritableStream;return Oo(t)}function ds(e){let t=e._ownerWritableStream,a=t._state;return ve(t)||a==="closed"?_(void 0):a==="errored"?y(t._storedError):Fo(e)}function hs(e,t){e._closedPromiseState==="pending"?vn(e,t):Rs(e,t)}function Bo(e,t){e._readyPromiseState==="pending"?Uo(e,t):Es(e,t)}function ms(e){let t=e._ownerWritableStream,a=t._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:qo(t._writableStreamController)}function Do(e){let t=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Bo(e,a),hs(e,a),t._writer=void 0,e._ownerWritableStream=void 0}function Wo(e,t){let a=e._ownerWritableStream,u=a._writableStreamController,c=ys(u,t);if(a!==e._ownerWritableStream)return y(Vt("write to"));let d=a._state;if(d==="errored")return y(a._storedError);if(ve(a)||d==="closed")return y(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return y(a._storedError);let h=ns(a);return gs(u,t,c),h}let ko={};class Et{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!wn(this))throw En("abortReason");return this._abortReason}get signal(){if(!wn(this))throw En("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!wn(this))throw En("error");this._controlledWritableStream._state==="writable"&&Io(this,t)}[cr](t){let a=this._abortAlgorithm(t);return vr(this),a}[gt](){Ye(this)}}Object.defineProperties(Et.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function wn(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Et}function Lo(e,t,a,u,c,d,h,R){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ye(t),t._abortReason=void 0,t._abortController=ts(),t._started=!1,t._strategySizeAlgorithm=R,t._strategyHWM=h,t._writeAlgorithm=u,t._closeAlgorithm=c,t._abortAlgorithm=d;let P=Tn(t);_n(e,P);let B=a(),D=_(B);A(D,()=>{t._started=!0,Cr(t)},W=>{t._started=!0,yn(e,W)})}function bs(e,t,a,u){let c=Object.create(Et.prototype),d=()=>{},h=()=>_(void 0),R=()=>_(void 0),P=()=>_(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.write!==void 0&&(h=B=>t.write(B,c)),t.close!==void 0&&(R=()=>t.close()),t.abort!==void 0&&(P=B=>t.abort(B)),Lo(e,c,d,h,R,P,a,u)}function vr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ps(e){fn(e,ko,0),Cr(e)}function ys(e,t){try{return e._strategySizeAlgorithm(t)}catch(a){return Rn(e,a),1}}function qo(e){return e._strategyHWM-e._queueTotalSize}function gs(e,t,a){try{fn(e,t,a)}catch(c){Rn(e,c);return}let u=e._controlledWritableStream;if(!ve(u)&&u._state==="writable"){let c=Tn(e);_n(u,c)}Cr(e)}function Cr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){Sn(t);return}if(e._queue.length===0)return;let u=xi(e);u===ko?Ss(e):_s(e,u)}function Rn(e,t){e._controlledWritableStream._state==="writable"&&Io(e,t)}function Ss(e){let t=e._controlledWritableStream;ls(t),ln(e);let a=e._closeAlgorithm();vr(e),A(a,()=>{is(t)},u=>{ss(t,u)})}function _s(e,t){let a=e._controlledWritableStream;fs(a);let u=e._writeAlgorithm(t);A(u,()=>{os(a);let c=a._state;if(ln(e),!ve(a)&&c==="writable"){let d=Tn(e);_n(a,d)}Cr(e)},c=>{a._state==="writable"&&vr(e),as(a,c)})}function Tn(e){return qo(e)<=0}function Io(e,t){let a=e._controlledWritableStream;vr(e),gn(a,t)}function Ar(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function En(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function ut(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Vt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Pr(e){e._closedPromise=T((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a,e._closedPromiseState="pending"})}function zo(e,t){Pr(e),vn(e,t)}function ws(e){Pr(e),xo(e)}function vn(e,t){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Rs(e,t){zo(e,t)}function xo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Or(e){e._readyPromise=T((t,a)=>{e._readyPromise_resolve=t,e._readyPromise_reject=a}),e._readyPromiseState="pending"}function Cn(e,t){Or(e),Uo(e,t)}function Mo(e){Or(e),An(e)}function Uo(e,t){e._readyPromise_reject!==void 0&&(M(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ts(e){Or(e)}function Es(e,t){Cn(e,t)}function An(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let $o=typeof DOMException<"u"?DOMException:void 0;function vs(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Cs(){let e=function(a,u){this.message=a||"",this.name=u||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let As=vs($o)?$o:Cs();function jo(e,t,a,u,c,d){let h=Te(e),R=Ao(t);e._disturbed=!0;let P=!1,B=_(void 0);return T((D,W)=>{let j;if(d!==void 0){if(j=()=>{let E=new As("Aborted","AbortError"),F=[];u||F.push(()=>t._state==="writable"?Tr(t,E):_(void 0)),c||F.push(()=>e._state==="readable"?ge(e,E):_(void 0)),re(()=>Promise.all(F.map(I=>I())),!0,E)},d.aborted){j();return}d.addEventListener("abort",j)}function Se(){return T((E,F)=>{function I(se){se?E():g(At(),I,F)}I(!1)})}function At(){return P?_(!0):g(R._readyPromise,()=>T((E,F)=>{It(h,{_chunkSteps:I=>{B=g(Wo(R,I),void 0,o),E(!1)},_closeSteps:()=>E(!0),_errorSteps:F})}))}if(Le(e,h._closedPromise,E=>{u?ce(!0,E):re(()=>Tr(t,E),!0,E)}),Le(t,R._closedPromise,E=>{c?ce(!0,E):re(()=>ge(e,E),!0,E)}),Z(e,h._closedPromise,()=>{a?ce():re(()=>ds(R))}),ve(t)||t._state==="closed"){let E=new TypeError("the destination writable stream closed before all data could be piped to it");c?ce(!0,E):re(()=>ge(e,E),!0,E)}M(Se());function Je(){let E=B;return g(B,()=>E!==B?Je():void 0)}function Le(E,F,I){E._state==="errored"?I(E._storedError):S(F,I)}function Z(E,F,I){E._state==="closed"?I():v(F,I)}function re(E,F,I){if(P)return;P=!0,t._state==="writable"&&!ve(t)?v(Je(),se):se();function se(){A(E(),()=>qe(F,I),Pt=>qe(!0,Pt))}}function ce(E,F){P||(P=!0,t._state==="writable"&&!ve(t)?v(Je(),()=>qe(E,F)):qe(E,F))}function qe(E,F){Do(R),X(h),d!==void 0&&d.removeEventListener("abort",j),E?W(F):D(void 0)}})}class vt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Fr(this))throw Wr("desiredSize");return Pn(this)}close(){if(!Fr(this))throw Wr("close");if(!Ct(this))throw new TypeError("The stream is not in a state that permits close");Qt(this)}enqueue(t=void 0){if(!Fr(this))throw Wr("enqueue");if(!Ct(this))throw new TypeError("The stream is not in a state that permits enqueue");return Dr(this,t)}error(t=void 0){if(!Fr(this))throw Wr("error");Qe(this,t)}[nt](t){Ye(this);let a=this._cancelAlgorithm(t);return Br(this),a}[Re](t){let a=this._controlledReadableStream;if(this._queue.length>0){let u=ln(this);this._closeRequested&&this._queue.length===0?(Br(this),Gt(a)):Yt(this),t._chunkSteps(u)}else $e(a,t),Yt(this)}}Object.defineProperties(vt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(vt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Fr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof vt}function Yt(e){if(!No(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();A(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Yt(e))},u=>{Qe(e,u)})}function No(e){let t=e._controlledReadableStream;return!Ct(e)||!e._started?!1:!!(Ze(t)&&je(t)>0||Pn(e)>0)}function Br(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Qt(e){if(!Ct(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Br(e),Gt(t))}function Dr(e,t){if(!Ct(e))return;let a=e._controlledReadableStream;if(Ze(a)&&je(a)>0)Ee(a,t,!1);else{let u;try{u=e._strategySizeAlgorithm(t)}catch(c){throw Qe(e,c),c}try{fn(e,t,u)}catch(c){throw Qe(e,c),c}}Yt(e)}function Qe(e,t){let a=e._controlledReadableStream;a._state==="readable"&&(Ye(e),Br(e),Qo(a,t))}function Pn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Ps(e){return!No(e)}function Ct(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function Ho(e,t,a,u,c,d,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ye(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=d,t._pullAlgorithm=u,t._cancelAlgorithm=c,e._readableStreamController=t;let R=a();A(_(R),()=>{t._started=!0,Yt(t)},P=>{Qe(t,P)})}function Os(e,t,a,u){let c=Object.create(vt.prototype),d=()=>{},h=()=>_(void 0),R=()=>_(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.pull!==void 0&&(h=()=>t.pull(c)),t.cancel!==void 0&&(R=P=>t.cancel(P)),Ho(e,c,d,h,R,a,u)}function Wr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Fs(e,t){return ot(e._readableStreamController)?Ds(e):Bs(e)}function Bs(e,t){let a=Te(e),u=!1,c=!1,d=!1,h=!1,R,P,B,D,W,j=T(Z=>{W=Z});function Se(){return u?(c=!0,_(void 0)):(u=!0,It(a,{_chunkSteps:re=>{C(()=>{c=!1;let ce=re,qe=re;d||Dr(B._readableStreamController,ce),h||Dr(D._readableStreamController,qe),u=!1,c&&Se()})},_closeSteps:()=>{u=!1,d||Qt(B._readableStreamController),h||Qt(D._readableStreamController),(!d||!h)&&W(void 0)},_errorSteps:()=>{u=!1}}),_(void 0))}function At(Z){if(d=!0,R=Z,h){let re=zt([R,P]),ce=ge(e,re);W(ce)}return j}function Je(Z){if(h=!0,P=Z,d){let re=zt([R,P]),ce=ge(e,re);W(ce)}return j}function Le(){}return B=On(Le,Se,At),D=On(Le,Se,Je),S(a._closedPromise,Z=>{Qe(B._readableStreamController,Z),Qe(D._readableStreamController,Z),(!d||!h)&&W(void 0)}),[B,D]}function Ds(e){let t=Te(e),a=!1,u=!1,c=!1,d=!1,h=!1,R,P,B,D,W,j=T(E=>{W=E});function Se(E){S(E._closedPromise,F=>{E===t&&(ye(B._readableStreamController,F),ye(D._readableStreamController,F),(!d||!h)&&W(void 0))})}function At(){it(t)&&(X(t),t=Te(e),Se(t)),It(t,{_chunkSteps:F=>{C(()=>{u=!1,c=!1;let I=F,se=F;if(!d&&!h)try{se=co(F)}catch(Pt){ye(B._readableStreamController,Pt),ye(D._readableStreamController,Pt),W(ge(e,Pt));return}d||yr(B._readableStreamController,I),h||yr(D._readableStreamController,se),a=!1,u?Le():c&&Z()})},_closeSteps:()=>{a=!1,d||Mt(B._readableStreamController),h||Mt(D._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&gr(B._readableStreamController,0),D._readableStreamController._pendingPullIntos.length>0&&gr(D._readableStreamController,0),(!d||!h)&&W(void 0)},_errorSteps:()=>{a=!1}})}function Je(E,F){Ve(t)&&(X(t),t=Ro(e),Se(t));let I=F?D:B,se=F?B:D;vo(t,E,{_chunkSteps:Ot=>{C(()=>{u=!1,c=!1;let Ft=F?h:d;if(F?d:h)Ft||Sr(I._readableStreamController,Ot);else{let sa;try{sa=co(Ot)}catch(Bn){ye(I._readableStreamController,Bn),ye(se._readableStreamController,Bn),W(ge(e,Bn));return}Ft||Sr(I._readableStreamController,Ot),yr(se._readableStreamController,sa)}a=!1,u?Le():c&&Z()})},_closeSteps:Ot=>{a=!1;let Ft=F?h:d,$r=F?d:h;Ft||Mt(I._readableStreamController),$r||Mt(se._readableStreamController),Ot!==void 0&&(Ft||Sr(I._readableStreamController,Ot),!$r&&se._readableStreamController._pendingPullIntos.length>0&&gr(se._readableStreamController,0)),(!Ft||!$r)&&W(void 0)},_errorSteps:()=>{a=!1}})}function Le(){if(a)return u=!0,_(void 0);a=!0;let E=mn(B._readableStreamController);return E===null?At():Je(E._view,!1),_(void 0)}function Z(){if(a)return c=!0,_(void 0);a=!0;let E=mn(D._readableStreamController);return E===null?At():Je(E._view,!0),_(void 0)}function re(E){if(d=!0,R=E,h){let F=zt([R,P]),I=ge(e,F);W(I)}return j}function ce(E){if(h=!0,P=E,d){let F=zt([R,P]),I=ge(e,F);W(I)}return j}function qe(){}return B=Yo(qe,Le,re),D=Yo(qe,Z,ce),Se(t),[B,D]}function Ws(e,t){be(e,t);let a=e,u=a?.autoAllocateChunkSize,c=a?.cancel,d=a?.pull,h=a?.start,R=a?.type;return{autoAllocateChunkSize:u===void 0?void 0:pe(u,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:ks(c,a,`${t} has member 'cancel' that`),pull:d===void 0?void 0:Ls(d,a,`${t} has member 'pull' that`),start:h===void 0?void 0:qs(h,a,`${t} has member 'start' that`),type:R===void 0?void 0:Is(R,`${t} has member 'type' that`)}}function ks(e,t,a){return x(e,a),u=>O(e,t,[u])}function Ls(e,t,a){return x(e,a),u=>O(e,t,[u])}function qs(e,t,a){return x(e,a),u=>L(e,t,[u])}function Is(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function zs(e,t){be(e,t);let a=e?.mode;return{mode:a===void 0?void 0:xs(a,`${t} has member 'mode' that`)}}function xs(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Ms(e,t){return be(e,t),{preventCancel:!!e?.preventCancel}}function Vo(e,t){be(e,t);let a=e?.preventAbort,u=e?.preventCancel,c=e?.preventClose,d=e?.signal;return d!==void 0&&Us(d,`${t} has member 'signal' that`),{preventAbort:!!a,preventCancel:!!u,preventClose:!!c,signal:d}}function Us(e,t){if(!Xi(e))throw new TypeError(`${t} is not an AbortSignal.`)}function $s(e,t){be(e,t);let a=e?.readable;We(a,"readable","ReadableWritablePair"),te(a,`${t} has member 'readable' that`);let u=e?.writable;return We(u,"writable","ReadableWritablePair"),Co(u,`${t} has member 'writable' that`),{readable:a,writable:u}}class Ge{constructor(t={},a={}){t===void 0?t=null:K(t,"First parameter");let u=Rr(a,"Second parameter"),c=Ws(t,"First parameter");if(Fn(this),c.type==="bytes"){if(u.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=jt(u,0);Ni(this,c,d)}else{let d=wr(u),h=jt(u,1);Os(this,c,h,d)}}get locked(){if(!Ke(this))throw lt("locked");return Ze(this)}cancel(t=void 0){return Ke(this)?Ze(this)?y(new TypeError("Cannot cancel a stream that already has a reader")):ge(this,t):y(lt("cancel"))}getReader(t=void 0){if(!Ke(this))throw lt("getReader");return zs(t,"First parameter").mode===void 0?Te(this):Ro(this)}pipeThrough(t,a={}){if(!Ke(this))throw lt("pipeThrough");U(t,1,"pipeThrough");let u=$s(t,"First parameter"),c=Vo(a,"Second parameter");if(Ze(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Tt(u.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=jo(this,u.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return M(d),u.readable}pipeTo(t,a={}){if(!Ke(this))return y(lt("pipeTo"));if(t===void 0)return y("Parameter 1 is required in 'pipeTo'.");if(!Rt(t))return y(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let u;try{u=Vo(a,"Second parameter")}catch(c){return y(c)}return Ze(this)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Tt(t)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):jo(this,t,u.preventClose,u.preventAbort,u.preventCancel,u.signal)}tee(){if(!Ke(this))throw lt("tee");let t=Fs(this);return zt(t)}values(t=void 0){if(!Ke(this))throw lt("values");let a=Ms(t,"First parameter");return Ii(this,a.preventCancel)}}Object.defineProperties(Ge.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ge.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Ge.prototype,r.asyncIterator,{value:Ge.prototype.values,writable:!0,configurable:!0});function On(e,t,a,u=1,c=()=>1){let d=Object.create(Ge.prototype);Fn(d);let h=Object.create(vt.prototype);return Ho(d,h,e,t,a,u,c),d}function Yo(e,t,a){let u=Object.create(Ge.prototype);Fn(u);let c=Object.create(wt.prototype);return wo(u,c,e,t,a,0,void 0),u}function Fn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ke(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Ge}function Ze(e){return e._reader!==void 0}function ge(e,t){if(e._disturbed=!0,e._state==="closed")return _(void 0);if(e._state==="errored")return y(e._storedError);Gt(e);let a=e._reader;a!==void 0&&it(a)&&(a._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),a._readIntoRequests=new V);let u=e._readableStreamController[nt](t);return k(u,o)}function Gt(e){e._state="closed";let t=e._reader;t!==void 0&&(qt(t),Ve(t)&&(t._readRequests.forEach(a=>{a._closeSteps()}),t._readRequests=new V))}function Qo(e,t){e._state="errored",e._storedError=t;let a=e._reader;a!==void 0&&(Be(a,t),Ve(a)?(a._readRequests.forEach(u=>{u._errorSteps(t)}),a._readRequests=new V):(a._readIntoRequests.forEach(u=>{u._errorSteps(t)}),a._readIntoRequests=new V))}function lt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Go(e,t){be(e,t);let a=e?.highWaterMark;return We(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ke(a)}}let Ko=e=>e.byteLength;Object.defineProperty(Ko,"name",{value:"size",configurable:!0});class kr{constructor(t){U(t,1,"ByteLengthQueuingStrategy"),t=Go(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Jo(this))throw Zo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Jo(this))throw Zo("size");return Ko}}Object.defineProperties(kr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(kr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Zo(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Jo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof kr}let Xo=()=>1;Object.defineProperty(Xo,"name",{value:"size",configurable:!0});class Lr{constructor(t){U(t,1,"CountQueuingStrategy"),t=Go(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!ta(this))throw ea("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ta(this))throw ea("size");return Xo}}Object.defineProperties(Lr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Lr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ea(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ta(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Lr}function js(e,t){be(e,t);let a=e?.flush,u=e?.readableType,c=e?.start,d=e?.transform,h=e?.writableType;return{flush:a===void 0?void 0:Ns(a,e,`${t} has member 'flush' that`),readableType:u,start:c===void 0?void 0:Hs(c,e,`${t} has member 'start' that`),transform:d===void 0?void 0:Vs(d,e,`${t} has member 'transform' that`),writableType:h}}function Ns(e,t,a){return x(e,a),u=>O(e,t,[u])}function Hs(e,t,a){return x(e,a),u=>L(e,t,[u])}function Vs(e,t,a){return x(e,a),(u,c)=>O(e,t,[u,c])}class qr{constructor(t={},a={},u={}){t===void 0&&(t=null);let c=Rr(a,"Second parameter"),d=Rr(u,"Third parameter"),h=js(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let R=jt(d,0),P=wr(d),B=jt(c,1),D=wr(c),W,j=T(Se=>{W=Se});Ys(this,j,B,D,R,P),Gs(this,h),h.start!==void 0?W(h.start(this._transformStreamController)):W(void 0)}get readable(){if(!ra(this))throw ia("readable");return this._readable}get writable(){if(!ra(this))throw ia("writable");return this._writable}}Object.defineProperties(qr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(qr.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Ys(e,t,a,u,c,d){function h(){return t}function R(j){return Js(e,j)}function P(j){return Xs(e,j)}function B(){return eu(e)}e._writable=rs(h,R,B,P,a,u);function D(){return tu(e)}function W(j){return zr(e,j),_(void 0)}e._readable=On(h,D,W,c,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,xr(e,!0),e._transformStreamController=void 0}function ra(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof qr}function Ir(e,t){Qe(e._readable._readableStreamController,t),zr(e,t)}function zr(e,t){na(e._transformStreamController),Rn(e._writable._writableStreamController,t),e._backpressure&&xr(e,!1)}function xr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(a=>{e._backpressureChangePromise_resolve=a}),e._backpressure=t}class Kt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Mr(this))throw Ur("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return Pn(t)}enqueue(t=void 0){if(!Mr(this))throw Ur("enqueue");oa(this,t)}error(t=void 0){if(!Mr(this))throw Ur("error");Ks(this,t)}terminate(){if(!Mr(this))throw Ur("terminate");Zs(this)}}Object.defineProperties(Kt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Kt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Mr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Kt}function Qs(e,t,a,u){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=a,t._flushAlgorithm=u}function Gs(e,t){let a=Object.create(Kt.prototype),u=d=>{try{return oa(a,d),_(void 0)}catch(h){return y(h)}},c=()=>_(void 0);t.transform!==void 0&&(u=d=>t.transform(d,a)),t.flush!==void 0&&(c=()=>t.flush(a)),Qs(e,a,u,c)}function na(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function oa(e,t){let a=e._controlledTransformStream,u=a._readable._readableStreamController;if(!Ct(u))throw new TypeError("Readable side is not in a state that permits enqueue");try{Dr(u,t)}catch(d){throw zr(a,d),a._readable._storedError}Ps(u)!==a._backpressure&&xr(a,!0)}function Ks(e,t){Ir(e._controlledTransformStream,t)}function aa(e,t){let a=e._transformAlgorithm(t);return k(a,void 0,u=>{throw Ir(e._controlledTransformStream,u),u})}function Zs(e){let t=e._controlledTransformStream,a=t._readable._readableStreamController;Qt(a);let u=new TypeError("TransformStream terminated");zr(t,u)}function Js(e,t){let a=e._transformStreamController;if(e._backpressure){let u=e._backpressureChangePromise;return k(u,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return aa(a,t)})}return aa(a,t)}function Xs(e,t){return Ir(e,t),_(void 0)}function eu(e){let t=e._readable,a=e._transformStreamController,u=a._flushAlgorithm();return na(a),k(u,()=>{if(t._state==="errored")throw t._storedError;Qt(t._readableStreamController)},c=>{throw Ir(e,c),t._storedError})}function tu(e){return xr(e,!1),e._backpressureChangePromise}function Ur(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ia(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=kr,n.CountQueuingStrategy=Lr,n.ReadableByteStreamController=wt,n.ReadableStream=Ge,n.ReadableStreamBYOBReader=$t,n.ReadableStreamBYOBRequest=xt,n.ReadableStreamDefaultController=vt,n.ReadableStreamDefaultReader=He,n.TransformStream=qr,n.TransformStreamDefaultController=Kt,n.WritableStream=Nt,n.WritableStreamDefaultController=Et,n.WritableStreamDefaultWriter=Ht,Object.defineProperty(n,"__esModule",{value:!0})}))});var Ga=Xe(()=>{if(!globalThis.ReadableStream)try{let n=require("node:process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,Qa())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(l){let b=await s.slice(i,Math.min(s.size,i+65536)).arrayBuffer();i+=b.byteLength,l.enqueue(new Uint8Array(b)),i===s.size&&l.close()}})})}catch{}});async function*Nn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,s=o.byteOffset+o.byteLength;for(;i!==s;){let l=Math.min(s-i,Ka),f=o.buffer.slice(i,i+l);i+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let i=0,s=o;for(;i!==s.size;){let f=await s.slice(i,Math.min(s.size,i+Ka)).arrayBuffer();i+=f.byteLength,yield new Uint8Array(f)}}}var vl,Ka,Za,xu,xe,rr=Zt(()=>{vl=_e(Ga(),1);Ka=65536;Za=class Hn{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let l of r){let f;ArrayBuffer.isView(l)?f=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?f=new Uint8Array(l.slice(0)):l instanceof Hn?f=l:f=i.encode(`${l}`);let b=ArrayBuffer.isView(f)?f.byteLength:f.size;b&&(this.#r+=b,this.#e.push(f))}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let i of Nn(this.#e,!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of Nn(this.#e,!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=Nn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:s}=this,l=r<0?Math.max(s+r,0):Math.min(r,s),f=o<0?Math.max(s+o,0):Math.min(o,s),b=Math.max(f-l,0),p=this.#e,m=[],w=0;for(let _ of p){if(w>=b)break;let y=ArrayBuffer.isView(_)?_.byteLength:_.size;if(l&&y<=l)l-=y,f-=y;else{let g;ArrayBuffer.isView(_)?(g=_.subarray(l,Math.min(y,f)),w+=g.byteLength):(g=_.slice(l,Math.min(y,f)),w+=g.size),f-=y,m.push(g),l=0}}let T=new Hn([],{type:String(i).toLowerCase()});return T.#r=b,T.#e=m,T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(Za.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});xu=Za,xe=xu});var Mu,Uu,Bt,Vn=Zt(()=>{rr();Mu=class extends xe{#e=0;#t="";constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i),i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof xe&&/^(File)$/.test(r[Symbol.toStringTag])}},Uu=Mu,Bt=Uu});function ei(n,r=xe){var o=`${Ja()}${Ja()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return n.forEach((l,f)=>typeof l=="string"?i.push(s+Yn(f)+`"\r
\r
${l.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+Yn(f)+`"; filename="${Yn(l.name,1)}"\r
Content-Type: ${l.type||"application/octet-stream"}\r
\r
`,l,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}var nr,$u,ju,Ja,Nu,Xa,Yn,dt,ht,Gr=Zt(()=>{rr();Vn();({toStringTag:nr,iterator:$u,hasInstance:ju}=Symbol),Ja=Math.random,Nu="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Xa=(n,r,o)=>(n+="",/^(Blob|File)$/.test(r&&r[nr])?[(o=o!==void 0?o+"":r[nr]=="File"?r.name:"blob",n),r.name!==o||r[nr]=="blob"?new Bt([r],o,r):r]:[n,r+""]),Yn=(n,r)=>(r?n:n.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),dt=(n,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${n}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},ht=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[nr](){return"FormData"}[$u](){return this.entries()}static[ju](r){return r&&typeof r=="object"&&r[nr]==="FormData"&&!Nu.some(o=>typeof r[o]!="function")}append(...r){dt("append",arguments,2),this.#e.push(Xa(...r))}delete(r){dt("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){dt("get",arguments,1),r+="";for(var o=this.#e,i=o.length,s=0;s<i;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return dt("getAll",arguments,1),o=[],r+="",this.#e.forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return dt("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){dt("forEach",arguments,1);for(var[i,s]of this)r.call(o,s,i,this)}set(...r){dt("set",arguments,2);var o=[],i=!0;r=Xa(...r),this.#e.forEach(s=>{s[0]===r[0]?i&&(i=!o.push(r)):o.push(s)}),i&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var oi=Xe((zl,ni)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),r=new n().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}ni.exports=globalThis.DOMException});var Zr,Hu,Ul,Gn=Zt(()=>{Zr=require("node:fs"),Hu=_e(oi(),1);Vn();rr();({stat:Ul}=Zr.promises)});var ii={};ua(ii,{toFormData:()=>Ju});function Zu(n){let r=n.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,l)=>String.fromCharCode(l)),i}async function Ju(n,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new Kn(o[1]||o[2]),s,l,f,b,p,m,w=[],T=new ht,_=S=>{f+=v.decode(S,{stream:!0})},y=S=>{w.push(S)},g=()=>{let S=new Bt(w,m,{type:p});T.append(b,S)},A=()=>{T.append(b,f)},v=new TextDecoder("utf-8");v.decode(),i.onPartBegin=function(){i.onPartData=_,i.onPartEnd=A,s="",l="",f="",b="",p="",m=null,w.length=0},i.onHeaderField=function(S){s+=v.decode(S,{stream:!0})},i.onHeaderValue=function(S){l+=v.decode(S,{stream:!0})},i.onHeaderEnd=function(){if(l+=v.decode(),s=s.toLowerCase(),s==="content-disposition"){let S=l.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);S&&(b=S[2]||S[3]||""),m=Zu(l),m&&(i.onPartData=y,i.onPartEnd=g)}else s==="content-type"&&(p=l);l="",s=""};for await(let S of n)i.write(S);return i.end(),T}var Ae,z,ai,et,Jr,Xr,Vu,ar,Yu,Qu,Gu,Ku,mt,Kn,si=Zt(()=>{Gn();Gr();Ae=0,z={START_BOUNDARY:Ae++,HEADER_FIELD_START:Ae++,HEADER_FIELD:Ae++,HEADER_VALUE_START:Ae++,HEADER_VALUE:Ae++,HEADER_VALUE_ALMOST_DONE:Ae++,HEADERS_ALMOST_DONE:Ae++,PART_DATA_START:Ae++,PART_DATA:Ae++,END:Ae++},ai=1,et={PART_BOUNDARY:ai,LAST_BOUNDARY:ai*=2},Jr=10,Xr=13,Vu=32,ar=45,Yu=58,Qu=97,Gu=122,Ku=n=>n|32,mt=()=>{},Kn=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=mt,this.onHeaderField=mt,this.onHeadersEnd=mt,this.onHeaderValue=mt,this.onPartBegin=mt,this.onPartData=mt,this.onPartEnd=mt,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=z.START_BOUNDARY}write(r){let o=0,i=r.length,s=this.index,{lookbehind:l,boundary:f,boundaryChars:b,index:p,state:m,flags:w}=this,T=this.boundary.length,_=T-1,y=r.length,g,A,v=C=>{this[C+"Mark"]=o},S=C=>{delete this[C+"Mark"]},k=(C,L,O,Q)=>{(L===void 0||L!==O)&&this[C](Q&&Q.subarray(L,O))},M=(C,L)=>{let O=C+"Mark";O in this&&(L?(k(C,this[O],o,r),delete this[O]):(k(C,this[O],r.length,r),this[O]=0))};for(o=0;o<i;o++)switch(g=r[o],m){case z.START_BOUNDARY:if(p===f.length-2){if(g===ar)w|=et.LAST_BOUNDARY;else if(g!==Xr)return;p++;break}else if(p-1===f.length-2){if(w&et.LAST_BOUNDARY&&g===ar)m=z.END,w=0;else if(!(w&et.LAST_BOUNDARY)&&g===Jr)p=0,k("onPartBegin"),m=z.HEADER_FIELD_START;else return;break}g!==f[p+2]&&(p=-2),g===f[p+2]&&p++;break;case z.HEADER_FIELD_START:m=z.HEADER_FIELD,v("onHeaderField"),p=0;case z.HEADER_FIELD:if(g===Xr){S("onHeaderField"),m=z.HEADERS_ALMOST_DONE;break}if(p++,g===ar)break;if(g===Yu){if(p===1)return;M("onHeaderField",!0),m=z.HEADER_VALUE_START;break}if(A=Ku(g),A<Qu||A>Gu)return;break;case z.HEADER_VALUE_START:if(g===Vu)break;v("onHeaderValue"),m=z.HEADER_VALUE;case z.HEADER_VALUE:g===Xr&&(M("onHeaderValue",!0),k("onHeaderEnd"),m=z.HEADER_VALUE_ALMOST_DONE);break;case z.HEADER_VALUE_ALMOST_DONE:if(g!==Jr)return;m=z.HEADER_FIELD_START;break;case z.HEADERS_ALMOST_DONE:if(g!==Jr)return;k("onHeadersEnd"),m=z.PART_DATA_START;break;case z.PART_DATA_START:m=z.PART_DATA,v("onPartData");case z.PART_DATA:if(s=p,p===0){for(o+=_;o<y&&!(r[o]in b);)o+=T;o-=_,g=r[o]}if(p<f.length)f[p]===g?(p===0&&M("onPartData",!0),p++):p=0;else if(p===f.length)p++,g===Xr?w|=et.PART_BOUNDARY:g===ar?w|=et.LAST_BOUNDARY:p=0;else if(p-1===f.length)if(w&et.PART_BOUNDARY){if(p=0,g===Jr){w&=~et.PART_BOUNDARY,k("onPartEnd"),k("onPartBegin"),m=z.HEADER_FIELD_START;break}}else w&et.LAST_BOUNDARY&&g===ar?(k("onPartEnd"),m=z.END,w=0):p=0;if(p>0)l[p-1]=g;else if(s>0){let C=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);k("onPartData",0,s,C),s=0,v("onPartData"),o--}break;case z.END:break;default:throw new Error(`Unexpected state entered: ${m}`)}M("onHeaderField"),M("onHeaderValue"),M("onPartData"),this.index=p,this.state=m,this.flags=w}end(){if(this.state===z.HEADER_FIELD_START&&this.index===0||this.state===z.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==z.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var cl={};ua(cl,{default:()=>qi});module.exports=su(cl);var ro=require("@raycast/api");var Fi=_e(Nr());var Pi=require("react");var q=require("react");function Ba(n,r,o,i){function s(l){return l instanceof o?l:new o(function(f){f(l)})}return new(o||(o=Promise))(function(l,f){function b(w){try{m(i.next(w))}catch(T){f(T)}}function p(w){try{m(i.throw(w))}catch(T){f(T)}}function m(w){w.done?l(w.value):s(w.value).then(b,p)}m((i=i.apply(n,r||[])).next())})}function Da(n,r){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,f;return f={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function b(m){return function(w){return p([m,w])}}function p(m){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,s&&(l=m[0]&2?s.return:m[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,m[1])).done)return l;switch(s=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,s=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){o.label=m[1];break}if(m[0]===6&&o.label<l[1]){o.label=l[1],l=m;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(m);break}l[2]&&o.ops.pop(),o.trys.pop();continue}m=r.call(n,o)}catch(w){m=[6,w],s=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Ce=function(){},G=Ce(),Jt=Object,J=function(n){return n===G},ct=function(n){return typeof n=="function"},ze=function(n,r){return Jt.assign({},n,r)},Un="undefined",$n=function(){return typeof window!=Un},yu=function(){return typeof document!=Un},gu=function(){return $n()&&typeof window.requestAnimationFrame!=Un},Hr=new WeakMap,Su=0,tr=function(n){var r=typeof n,o=n&&n.constructor,i=o==Date,s,l;if(Jt(n)===n&&!i&&o!=RegExp){if(s=Hr.get(n),s)return s;if(s=++Su+"~",Hr.set(n,s),o==Array){for(s="@",l=0;l<n.length;l++)s+=tr(n[l])+",";Hr.set(n,s)}if(o==Jt){s="#";for(var f=Jt.keys(n).sort();!J(l=f.pop());)J(n[l])||(s+=l+":"+tr(n[l])+",");Hr.set(n,s)}}else s=i?n.toJSON():r=="symbol"?n.toString():r=="string"?JSON.stringify(n):""+n;return s},qn=!0,_u=function(){return qn},Wa=$n(),jn=yu(),In=Wa&&window.addEventListener?window.addEventListener.bind(window):Ce,wu=jn?document.addEventListener.bind(document):Ce,zn=Wa&&window.removeEventListener?window.removeEventListener.bind(window):Ce,Ru=jn?document.removeEventListener.bind(document):Ce,Tu=function(){var n=jn&&document.visibilityState;return J(n)||n!=="hidden"},Eu=function(n){return wu("visibilitychange",n),In("focus",n),function(){Ru("visibilitychange",n),zn("focus",n)}},vu=function(n){var r=function(){qn=!0,n()},o=function(){qn=!1};return In("online",r),In("offline",o),function(){zn("online",r),zn("offline",o)}},Cu={isOnline:_u,isVisible:Tu},Au={initFocus:Eu,initReconnect:vu},Vr=!$n()||"Deno"in window,Pu=function(n){return gu()?window.requestAnimationFrame(n):setTimeout(n,1)},Xt=Vr?q.useEffect:q.useLayoutEffect,kn=typeof navigator<"u"&&navigator.connection,Pa=!Vr&&kn&&(["slow-2g","2g"].includes(kn.effectiveType)||kn.saveData),ka=function(n){if(ct(n))try{n=n()}catch{n=""}var r=[].concat(n);n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?tr(n):"";var o=n?"$swr$"+n:"";return[n,r,o]},ft=new WeakMap,La=0,qa=1,Ia=2,er=function(n,r,o,i,s,l,f){f===void 0&&(f=!0);var b=ft.get(n),p=b[0],m=b[1],w=b[3],T=p[r],_=m[r];if(f&&_)for(var y=0;y<_.length;++y)_[y](o,i,s);return l&&(delete w[r],T&&T[0])?T[0](Ia).then(function(){return n.get(r)}):n.get(r)},Ou=0,xn=function(){return++Ou},za=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ba(void 0,void 0,void 0,function(){var o,i,s,l,f,b,p,m,w,T,_,y,g,A,v,S,k,M,C,L;return Da(this,function(O){switch(O.label){case 0:if(o=n[0],i=n[1],s=n[2],l=n[3],f=typeof l=="boolean"?{revalidate:l}:l||{},b=J(f.populateCache)?!0:f.populateCache,p=f.revalidate!==!1,m=f.rollbackOnError!==!1,w=f.optimisticData,T=ka(i),_=T[0],y=T[2],!_)return[2];if(g=ft.get(o),A=g[2],n.length<3)return[2,er(o,_,o.get(_),G,G,p,!0)];if(v=s,k=xn(),A[_]=[k,0],M=!J(w),C=o.get(_),M&&(o.set(_,w),er(o,_,w)),ct(v))try{v=v(o.get(_))}catch(Q){S=Q}return v&&ct(v.then)?[4,v.catch(function(Q){S=Q})]:[3,2];case 1:if(v=O.sent(),k!==A[_][0]){if(S)throw S;return[2,v]}else S&&M&&m&&(b=!0,v=C,o.set(_,C));O.label=2;case 2:return b&&(S||(ct(b)&&(v=b(v,C)),o.set(_,v)),o.set(y,ze(o.get(y),{error:S}))),A[_][1]=xn(),[4,er(o,_,v,S,G,p,!!b)];case 3:if(L=O.sent(),S)throw S;return[2,b?L:v]}})})},Oa=function(n,r){for(var o in n)n[o][0]&&n[o][0](r)},xa=function(n,r){if(!ft.has(n)){var o=ze(Au,r),i={},s=za.bind(G,n),l=Ce;if(ft.set(n,[i,{},{},{},s]),!Vr){var f=o.initFocus(setTimeout.bind(G,Oa.bind(G,i,La))),b=o.initReconnect(setTimeout.bind(G,Oa.bind(G,i,qa)));l=function(){f&&f(),b&&b(),ft.delete(n)}}return[n,s,l]}return[n,ft.get(n)[4]]},Fu=function(n,r,o,i,s){var l=o.errorRetryCount,f=s.retryCount,b=~~((Math.random()+.5)*(1<<(f<8?f:8)))*o.errorRetryInterval;!J(l)&&f>l||setTimeout(i,b,s)},Ma=xa(new Map),Ua=Ma[0],Bu=Ma[1],$a=ze({onLoadingSlow:Ce,onSuccess:Ce,onError:Ce,onErrorRetry:Fu,onDiscarded:Ce,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Pa?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Pa?5e3:3e3,compare:function(n,r){return tr(n)==tr(r)},isPaused:function(){return!1},cache:Ua,mutate:Bu,fallback:{}},Cu),ja=function(n,r){var o=ze(n,r);if(r){var i=n.use,s=n.fallback,l=r.use,f=r.fallback;i&&l&&(o.use=i.concat(l)),s&&f&&(o.fallback=ze(s,f))}return o},Mn=(0,q.createContext)({}),Du=function(n){var r=n.value,o=ja((0,q.useContext)(Mn),r),i=r&&r.provider,s=(0,q.useState)(function(){return i?xa(i(o.cache||Ua),r):G})[0];return s&&(o.cache=s[0],o.mutate=s[1]),Xt(function(){return s?s[2]:G},[]),(0,q.createElement)(Mn.Provider,ze(n,{value:o}))},Wu=function(n,r){var o=(0,q.useState)({})[1],i=(0,q.useRef)(n),s=(0,q.useRef)({data:!1,error:!1,isValidating:!1}),l=(0,q.useCallback)(function(f){var b=!1,p=i.current;for(var m in f){var w=m;p[w]!==f[w]&&(p[w]=f[w],s.current[w]&&(b=!0))}b&&!r.current&&o({})},[]);return Xt(function(){i.current=n}),[i,s.current,l]},ku=function(n){return ct(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}]},Lu=function(){return ze($a,(0,q.useContext)(Mn))},qu=function(n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=Lu(),l=ku(o),f=l[0],b=l[1],p=l[2],m=ja(s,p),w=n,T=m.use;if(T)for(var _=T.length;_-- >0;)w=T[_](w);return w(f,b||m.fetcher,m)}},Fa=function(n,r,o){var i=r[n]||(r[n]=[]);return i.push(o),function(){var s=i.indexOf(o);s>=0&&(i[s]=i[i.length-1],i.pop())}},Ln={dedupe:!0},Iu=function(n,r,o){var i=o.cache,s=o.compare,l=o.fallbackData,f=o.suspense,b=o.revalidateOnMount,p=o.refreshInterval,m=o.refreshWhenHidden,w=o.refreshWhenOffline,T=ft.get(i),_=T[0],y=T[1],g=T[2],A=T[3],v=ka(n),S=v[0],k=v[1],M=v[2],C=(0,q.useRef)(!1),L=(0,q.useRef)(!1),O=(0,q.useRef)(S),Q=(0,q.useRef)(r),V=(0,q.useRef)(o),N=function(){return V.current},rt=function(){return N().isVisible()&&N().isOnline()},X=function(x){return i.set(M,ze(i.get(M),x))},Fe=i.get(S),Lt=J(l)?o.fallback[S]:l,fe=J(Fe)?Lt:Fe,lr=i.get(M)||{},Be=lr.error,fr=!C.current,qt=function(){return fr&&!J(b)?b:N().isPaused()?!1:f?!J(fe):J(fe)||o.revalidateIfStale},cr=function(){return!S||!r?!1:lr.isValidating?!0:fr&&qt()},gt=cr(),nt=Wu({data:fe,error:Be,isValidating:gt},L),Re=nt[0],St=nt[1],_t=nt[2],De=(0,q.useCallback)(function(x){return Ba(void 0,void 0,void 0,function(){var ee,K,U,We,ke,ie,Y,pe,te,Te,$e,Ee,je;return Da(this,function(Ne){switch(Ne.label){case 0:if(ee=Q.current,!S||!ee||L.current||N().isPaused())return[2,!1];We=!0,ke=x||{},ie=!A[S]||!ke.dedupe,Y=function(){return!L.current&&S===O.current&&C.current},pe=function(){var He=A[S];He&&He[1]===U&&delete A[S]},te={isValidating:!1},Te=function(){X({isValidating:!1}),Y()&&_t(te)},X({isValidating:!0}),_t({isValidating:!0}),Ne.label=1;case 1:return Ne.trys.push([1,3,,4]),ie&&(er(i,S,Re.current.data,Re.current.error,!0),o.loadingTimeout&&!i.get(S)&&setTimeout(function(){We&&Y()&&N().onLoadingSlow(S,o)},o.loadingTimeout),A[S]=[ee.apply(void 0,k),xn()]),je=A[S],K=je[0],U=je[1],[4,K];case 2:return K=Ne.sent(),ie&&setTimeout(pe,o.dedupingInterval),!A[S]||A[S][1]!==U?(ie&&Y()&&N().onDiscarded(S),[2,!1]):(X({error:G}),te.error=G,$e=g[S],!J($e)&&(U<=$e[0]||U<=$e[1]||$e[1]===0)?(Te(),ie&&Y()&&N().onDiscarded(S),[2,!1]):(s(Re.current.data,K)?te.data=Re.current.data:te.data=K,s(i.get(S),K)||i.set(S,K),ie&&Y()&&N().onSuccess(K,S,o),[3,4]));case 3:return Ee=Ne.sent(),pe(),N().isPaused()||(X({error:Ee}),te.error=Ee,ie&&Y()&&(N().onError(Ee,S,o),(typeof o.shouldRetryOnError=="boolean"&&o.shouldRetryOnError||ct(o.shouldRetryOnError)&&o.shouldRetryOnError(Ee))&&rt()&&N().onErrorRetry(Ee,S,o,De,{retryCount:(ke.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return We=!1,Te(),Y()&&ie&&er(i,S,te.data,te.error,!1),[2,!0]}})})},[S]),be=(0,q.useCallback)(za.bind(G,i,function(){return O.current}),[]);if(Xt(function(){Q.current=r,V.current=o}),Xt(function(){if(S){var x=S!==O.current,ee=De.bind(G,Ln),K=function(Y,pe,te){_t(ze({error:pe,isValidating:te},s(Re.current.data,Y)?G:{data:Y}))},U=0,We=function(Y){if(Y==La){var pe=Date.now();N().revalidateOnFocus&&pe>U&&rt()&&(U=pe+N().focusThrottleInterval,ee())}else if(Y==qa)N().revalidateOnReconnect&&rt()&&ee();else if(Y==Ia)return De()},ke=Fa(S,y,K),ie=Fa(S,_,We);return L.current=!1,O.current=S,C.current=!0,x&&_t({data:fe,error:Be,isValidating:gt}),qt()&&(J(fe)||Vr?ee():Pu(ee)),function(){L.current=!0,ke(),ie()}}},[S,De]),Xt(function(){var x;function ee(){var U=ct(p)?p(fe):p;U&&x!==-1&&(x=setTimeout(K,U))}function K(){!Re.current.error&&(m||N().isVisible())&&(w||N().isOnline())?De(Ln).then(ee):ee()}return ee(),function(){x&&(clearTimeout(x),x=-1)}},[p,m,w,De]),(0,q.useDebugValue)(fe),f&&J(fe)&&S)throw Q.current=r,V.current=o,L.current=!1,J(Be)?De(Ln):Be;return{mutate:be,get data(){return St.data=!0,fe},get error(){return St.error=!0,Be},get isValidating(){return St.isValidating=!0,gt}}},Sl=Jt.defineProperty(Du,"default",{value:$a});var Na=qu(Iu);var Ha=require("@raycast/api"),Yr=()=>(0,Ha.getPreferenceValues)();var Ri=_e(require("node:http"),1),Ti=_e(require("node:https"),1),pt=_e(require("node:zlib"),1),le=_e(require("node:stream"),1),sr=require("node:buffer");function zu(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),i="",s=!1,l=o[0]||"text/plain",f=l;for(let w=1;w<o.length;w++)o[w]==="base64"?s=!0:(f+=`;${o[w]}`,o[w].indexOf("charset=")===0&&(i=o[w].substring(8)));!o[0]&&!i.length&&(f+=";charset=US-ASCII",i="US-ASCII");let b=s?"base64":"ascii",p=unescape(n.substring(r+1)),m=Buffer.from(p,b);return m.type=l,m.typeFull=f,m.charset=i,m}var Va=zu;var de=_e(require("node:stream"),1),Ue=require("node:util"),ue=require("node:buffer");rr();Gr();var Me=class extends Error{constructor(r,o){super(r),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var oe=class extends Me{constructor(r,o,i){super(r,o),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var Kr=Symbol.toStringTag,Qn=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[Kr]==="URLSearchParams",or=n=>n&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[Kr]),ti=n=>typeof n=="object"&&(n[Kr]==="AbortSignal"||n[Kr]==="EventTarget"),ri=(n,r)=>{let o=new URL(r).hostname,i=new URL(n).hostname;return o===i||o.endsWith(`.${i}`)};var Xu=(0,Ue.promisify)(de.default.pipeline),ae=Symbol("Body internals"),Pe=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:Qn(r)?r=ue.Buffer.from(r.toString()):or(r)||ue.Buffer.isBuffer(r)||(Ue.types.isAnyArrayBuffer(r)?r=ue.Buffer.from(r):ArrayBuffer.isView(r)?r=ue.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof de.default||(r instanceof ht?(r=ei(r),i=r.type.split("=")[1]):r=ue.Buffer.from(String(r))));let s=r;ue.Buffer.isBuffer(r)?s=de.default.Readable.from(r):or(r)&&(s=de.default.Readable.from(r.stream())),this[ae]={body:r,stream:s,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof de.default&&r.on("error",l=>{let f=l instanceof Me?l:new oe(`Invalid response body while trying to fetch ${this.url}: ${l.message}`,"system",l);this[ae].error=f})}get body(){return this[ae].stream}get bodyUsed(){return this[ae].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await Zn(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new ht,s=new URLSearchParams(await this.text());for(let[l,f]of s)i.append(l,f);return i}let{toFormData:o}=await Promise.resolve().then(()=>(si(),ii));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[ae].body&&this[ae].body.type||"",o=await this.arrayBuffer();return new xe([o],{type:r})}async json(){let r=await this.text();return JSON.parse(r)}async text(){let r=await Zn(this);return new TextDecoder().decode(r)}buffer(){return Zn(this)}};Pe.prototype.buffer=(0,Ue.deprecate)(Pe.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Pe.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ue.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Zn(n){if(n[ae].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[ae].disturbed=!0,n[ae].error)throw n[ae].error;let{body:r}=n;if(r===null)return ue.Buffer.alloc(0);if(!(r instanceof de.default))return ue.Buffer.alloc(0);let o=[],i=0;try{for await(let s of r){if(n.size>0&&i+s.length>n.size){let l=new oe(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(l),l}i+=s.length,o.push(s)}}catch(s){throw s instanceof Me?s:new oe(`Invalid response body while trying to fetch ${n.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?ue.Buffer.from(o.join("")):ue.Buffer.concat(o,i)}catch(s){throw new oe(`Could not create Buffer from response body for ${n.url}: ${s.message}`,"system",s)}else throw new oe(`Premature close of server response while trying to fetch ${n.url}`)}var Dt=(n,r)=>{let o,i,{body:s}=n[ae];if(n.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof de.default&&typeof s.getBoundary!="function"&&(o=new de.PassThrough({highWaterMark:r}),i=new de.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(i),n[ae].stream=o,s=i),s},el=(0,Ue.deprecate)(n=>n.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),en=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":Qn(n)?"application/x-www-form-urlencoded;charset=UTF-8":or(n)?n.type||null:ue.Buffer.isBuffer(n)||Ue.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n instanceof ht?`multipart/form-data; boundary=${r[ae].boundary}`:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${el(n)}`:n instanceof de.default?null:"text/plain;charset=UTF-8",ui=n=>{let{body:r}=n[ae];return r===null?0:or(r)?r.size:ue.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},li=async(n,{body:r})=>{r===null?n.end():await Xu(r,n)};var Jn=require("node:util"),ir=_e(require("node:http"),1),tn=typeof ir.default.validateHeaderName=="function"?ir.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Xn=typeof ir.default.validateHeaderValue=="function"?ir.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},he=class n extends URLSearchParams{constructor(r){let o=[];if(r instanceof n){let i=r.raw();for(let[s,l]of Object.entries(i))o.push(...l.map(f=>[s,f]))}else if(r!=null)if(typeof r=="object"&&!Jn.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||Jn.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([i,s])=>(tn(i),Xn(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0,super(o),new Proxy(this,{get(i,s,l){switch(s){case"append":case"set":return(f,b)=>(tn(f),Xn(f,String(b)),URLSearchParams.prototype[s].call(i,String(f).toLowerCase(),String(b)));case"delete":case"has":case"getAll":return f=>(tn(f),URLSearchParams.prototype[s].call(i,String(f).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(he.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function fi(n=[]){return new he(n.reduce((r,o,i,s)=>(i%2===0&&r.push(s.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return tn(r),Xn(r,String(o)),!0}catch{return!1}}))}var tl=new Set([301,302,303,307,308]),rn=n=>tl.has(n);var we=Symbol("Response internals"),me=class n extends Pe{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,s=new he(o.headers);if(r!==null&&!s.has("Content-Type")){let l=en(r,this);l&&s.append("Content-Type",l)}this[we]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[we].type}get url(){return this[we].url||""}get status(){return this[we].status}get ok(){return this[we].status>=200&&this[we].status<300}get redirected(){return this[we].counter>0}get statusText(){return this[we].statusText}get headers(){return this[we].headers}get highWaterMark(){return this[we].highWaterMark}clone(){return new n(Dt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!rn(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new n(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new n(null,{status:0,statusText:""});return r[we].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(me.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Si=require("node:url"),_i=require("node:util");var ci=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var hi=require("node:net");function di(n,r=!1){return n==null||(n=new URL(n),/^(about|blob|data):$/.test(n.protocol))?"no-referrer":(n.username="",n.password="",n.hash="",r&&(n.pathname="",n.search=""),n)}var mi=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),bi="strict-origin-when-cross-origin";function pi(n){if(!mi.has(n))throw new TypeError(`Invalid referrerPolicy: ${n}`);return n}function rl(n){if(/^(http|ws)s:$/.test(n.protocol))return!0;let r=n.host.replace(/(^\[)|(]$)/g,""),o=(0,hi.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(n.host)?!1:n.protocol==="file:"}function Wt(n){return/^about:(blank|srcdoc)$/.test(n)||n.protocol==="data:"||/^(blob|filesystem):$/.test(n.protocol)?!0:rl(n)}function yi(n,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(n.referrer==="no-referrer"||n.referrerPolicy==="")return null;let i=n.referrerPolicy;if(n.referrer==="about:client")return"no-referrer";let s=n.referrer,l=di(s),f=di(s,!0);l.toString().length>4096&&(l=f),r&&(l=r(l)),o&&(f=o(f));let b=new URL(n.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return l;case"strict-origin":return Wt(l)&&!Wt(b)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return l.origin===b.origin?l:Wt(l)&&!Wt(b)?"no-referrer":f;case"same-origin":return l.origin===b.origin?l:"no-referrer";case"origin-when-cross-origin":return l.origin===b.origin?l:f;case"no-referrer-when-downgrade":return Wt(l)&&!Wt(b)?"no-referrer":l;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function gi(n){let r=(n.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&mi.has(i)&&(o=i);return o}var H=Symbol("Request internals"),nn=n=>typeof n=="object"&&typeof n[H]=="object",nl=(0,_i.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),bt=class n extends Pe{constructor(r,o={}){let i;if(nn(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let s=o.method||r.method||"GET";if(s=s.toUpperCase(),"data"in o&&nl(),(o.body!=null||nn(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=o.body?o.body:nn(r)&&r.body!==null?Dt(r):null;super(l,{size:o.size||r.size||0});let f=new he(o.headers||r.headers||{});if(l!==null&&!f.has("Content-Type")){let m=en(l,this);m&&f.set("Content-Type",m)}let b=nn(r)?r.signal:null;if("signal"in o&&(b=o.signal),b!=null&&!ti(b))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let p=o.referrer==null?r.referrer:o.referrer;if(p==="")p="no-referrer";else if(p){let m=new URL(p);p=/^about:(\/\/)?client$/.test(m)?"client":m}else p=void 0;this[H]={method:s,redirect:o.redirect||r.redirect||"follow",headers:f,parsedURL:i,signal:b,referrer:p},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[H].method}get url(){return(0,Si.format)(this[H].parsedURL)}get headers(){return this[H].headers}get redirect(){return this[H].redirect}get signal(){return this[H].signal}get referrer(){if(this[H].referrer==="no-referrer")return"";if(this[H].referrer==="client")return"about:client";if(this[H].referrer)return this[H].referrer.toString()}get referrerPolicy(){return this[H].referrerPolicy}set referrerPolicy(r){this[H].referrerPolicy=pi(r)}clone(){return new n(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(bt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var wi=n=>{let{parsedURL:r}=n[H],o=new he(n[H].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(i="0"),n.body!==null){let b=ui(n);typeof b=="number"&&!Number.isNaN(b)&&(i=String(b))}i&&o.set("Content-Length",i),n.referrerPolicy===""&&(n.referrerPolicy=bi),n.referrer&&n.referrer!=="no-referrer"?n[H].referrer=yi(n):n[H].referrer="no-referrer",n[H].referrer instanceof URL&&o.set("Referer",n.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=n;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let l=ci(r),f={path:r.pathname+l,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:s};return{parsedURL:r,options:f}};var on=class extends Me{constructor(r,o="aborted"){super(r,o)}};Gr();Gn();var ol=new Set(["data:","http:","https:"]);async function an(n,r){return new Promise((o,i)=>{let s=new bt(n,r),{parsedURL:l,options:f}=wi(s);if(!ol.has(l.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let g=Va(s.url),A=new me(g,{headers:{"Content-Type":g.typeFull}});o(A);return}let b=(l.protocol==="https:"?Ti.default:Ri.default).request,{signal:p}=s,m=null,w=()=>{let g=new on("The operation was aborted.");i(g),s.body&&s.body instanceof le.default.Readable&&s.body.destroy(g),!(!m||!m.body)&&m.body.emit("error",g)};if(p&&p.aborted){w();return}let T=()=>{w(),y()},_=b(l.toString(),f);p&&p.addEventListener("abort",T);let y=()=>{_.abort(),p&&p.removeEventListener("abort",T)};_.on("error",g=>{i(new oe(`request to ${s.url} failed, reason: ${g.message}`,"system",g)),y()}),al(_,g=>{m.body.destroy(g)}),process.version<"v14"&&_.on("socket",g=>{let A;g.prependListener("end",()=>{A=g._eventsCount}),g.prependListener("close",v=>{if(m&&A<g._eventsCount&&!v){let S=new Error("Premature close");S.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",S)}})}),_.on("response",g=>{_.setTimeout(0);let A=fi(g.rawHeaders);if(rn(g.statusCode)){let C=A.get("Location"),L=null;try{L=C===null?null:new URL(C,s.url)}catch{if(s.redirect!=="manual"){i(new oe(`uri requested responds with an invalid redirect URL: ${C}`,"invalid-redirect")),y();return}}switch(s.redirect){case"error":i(new oe(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),y();return;case"manual":break;case"follow":{if(L===null)break;if(s.counter>=s.follow){i(new oe(`maximum redirect reached at: ${s.url}`,"max-redirect")),y();return}let O={headers:new he(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:Dt(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!ri(s.url,L))for(let V of["authorization","www-authenticate","cookie","cookie2"])O.headers.delete(V);if(g.statusCode!==303&&s.body&&r.body instanceof le.default.Readable){i(new oe("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&s.method==="POST")&&(O.method="GET",O.body=void 0,O.headers.delete("content-length"));let Q=gi(A);Q&&(O.referrerPolicy=Q),o(an(new bt(L,O))),y();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}p&&g.once("end",()=>{p.removeEventListener("abort",T)});let v=(0,le.pipeline)(g,new le.PassThrough,C=>{C&&i(C)});process.version<"v12.10"&&g.on("aborted",T);let S={url:s.url,status:g.statusCode,statusText:g.statusMessage,headers:A,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},k=A.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||k===null||g.statusCode===204||g.statusCode===304){m=new me(v,S),o(m);return}let M={flush:pt.default.Z_SYNC_FLUSH,finishFlush:pt.default.Z_SYNC_FLUSH};if(k==="gzip"||k==="x-gzip"){v=(0,le.pipeline)(v,pt.default.createGunzip(M),C=>{C&&i(C)}),m=new me(v,S),o(m);return}if(k==="deflate"||k==="x-deflate"){let C=(0,le.pipeline)(g,new le.PassThrough,L=>{L&&i(L)});C.once("data",L=>{(L[0]&15)===8?v=(0,le.pipeline)(v,pt.default.createInflate(),O=>{O&&i(O)}):v=(0,le.pipeline)(v,pt.default.createInflateRaw(),O=>{O&&i(O)}),m=new me(v,S),o(m)}),C.once("end",()=>{m||(m=new me(v,S),o(m))});return}if(k==="br"){v=(0,le.pipeline)(v,pt.default.createBrotliDecompress(),C=>{C&&i(C)}),m=new me(v,S),o(m);return}m=new me(v,S),o(m)}),li(_,s).catch(i)})}function al(n,r){let o=sr.Buffer.from(`0\r
\r
`),i=!1,s=!1,l;n.on("response",f=>{let{headers:b}=f;i=b["transfer-encoding"]==="chunked"&&!b["content-length"]}),n.on("socket",f=>{let b=()=>{if(i&&!s){let p=new Error("Premature close");p.code="ERR_STREAM_PREMATURE_CLOSE",r(p)}};f.prependListener("close",b),n.on("abort",()=>{f.removeListener("close",b)}),f.on("data",p=>{s=sr.Buffer.compare(p.slice(-5),o)===0,!s&&l&&(s=sr.Buffer.compare(l.slice(-3),o.slice(0,3))===0&&sr.Buffer.compare(p.slice(-2),o.slice(3))===0),l=p})})}var Ei=_e(Nr());var{token:il}=Yr(),sl={method:"get",headers:{Authorization:`Token ${il}`}},vi=async(n,r)=>{let o=await an(`https://readwise.io/api${n}?${Ei.default.stringify(r)}`,sl),i=await o.json();if(!o.ok){let s=new Error("An error occurred while fetching the data.");throw s.status=o.status,s}return i};var Ci=require("react"),kt=require("@raycast/api"),Ai=n=>{(0,Ci.useEffect)(()=>{n&&(n.status===401||n.status===403?(0,kt.showToast)(kt.Toast.Style.Failure,"Invalid API token","Please, validate your Readwise API token is correct and you added one."):(0,kt.showToast)(kt.Toast.Style.Failure,"Something went wrong.","Please, try it again."))},[n])};var{pageSize:ul}=Yr(),ll={page_size:ul},Oi=(n,r)=>{let o=r||ll,[i,s]=(0,Pi.useState)(o),{data:l,error:f,isValidating:b}=Na([n,i],vi);return Ai(f),{currentParams:i,data:l,defaultParams:o,loading:!l&&!f||b,setParams:s}};var eo="/v2/all_highlight_tags";function Bi(){let{data:n,loading:r,setParams:o,defaultParams:i}=Oi(eo);return{data:n,loading:r,refetch:async s=>{o({...i,...Fi.default.parse(new URL(s,"https://readwise.io").search)})}}}var tt=require("@raycast/api"),ur=require("react/jsx-runtime"),Di=({actions:n,item:r})=>{let o=`https://readwise.io/tags/${encodeURIComponent(r.name)}`;return(0,ur.jsx)(tt.List.Item,{title:r.name,accessories:o&&[{text:o,icon:tt.Icon.Link}]||void 0,actions:(0,ur.jsxs)(tt.ActionPanel,{children:[o&&(0,ur.jsx)(tt.Action.OpenInBrowser,{title:"Open in Browser",url:o}),n]})})};var fl=_e(Nr());var to=(n,r)=>n?"Loading...":r.toString();var sn=require("@raycast/api"),Oe=require("react/jsx-runtime"),Wi=({onNextAction:n,onPreviousAction:r,onHomeAction:o})=>(0,Oe.jsxs)(Oe.Fragment,{children:[n&&(0,Oe.jsx)(sn.Action,{icon:"\u27A1\uFE0F",title:"Next Page",onAction:n,shortcut:{modifiers:["cmd"],key:"arrowRight"}}),r&&(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(sn.Action,{icon:"\u2B05\uFE0F",title:"Previous Page",onAction:r,shortcut:{modifiers:["cmd"],key:"arrowLeft"}}),(0,Oe.jsx)(sn.Action,{icon:"\u{1F3E0}",title:"Back to Home",onAction:o,shortcut:{modifiers:["cmd"],key:"0"}})]})]});var ki=require("@raycast/api");var un=require("react/jsx-runtime"),Li=()=>(0,un.jsx)(ki.List.EmptyView,{title:"No Results",icon:{source:"empty-view.png"}});var yt=require("react/jsx-runtime");function qi(){let{data:n,loading:r,refetch:o}=Bi(),{next:i,previous:s}=n||{},l=n?.results.length||0,f=to(r,l);return(0,yt.jsxs)(ro.List,{isLoading:r,enableFiltering:!0,children:[(0,yt.jsx)(Li,{}),(0,yt.jsx)(ro.List.Section,{title:"Results",subtitle:f,children:n?.results.map(b=>(0,yt.jsx)(Di,{item:b,actions:(0,yt.jsx)(Wi,{onHomeAction:()=>o(eo),onNextAction:i?()=>o(i):void 0,onPreviousAction:s?()=>s&&o(s):void 0})},b.name))})]})}
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

swr/dist/index.mjs:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
