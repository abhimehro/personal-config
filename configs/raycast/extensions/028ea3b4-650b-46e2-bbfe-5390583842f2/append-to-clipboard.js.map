{
  "version": 3,
  "sources": ["../src/append-to-clipboard.tsx", "../src/utils/common-util.ts", "../src/types/preferences.ts"],
  "sourcesContent": ["import { appendedText } from \"./utils/common-util\";\nimport { closeMainWindow } from \"@raycast/api\";\n\nexport default async () => {\n  await closeMainWindow();\n  await appendedText();\n};\n", "import { Cache, Clipboard, getSelectedText, showHUD } from \"@raycast/api\";\nimport {\n  appendSeparator,\n  copyAfterMerging,\n  pasteAfterMerging,\n  trimAfterAppend,\n  trimAfterMerging,\n  trimBeforeAppendClipboardText,\n  trimBeforeAppendSelectedText,\n  trimBeforeMerging,\n} from \"../types/preferences\";\nimport { MergeOrder } from \"../types/types\";\n\nexport async function appendedText(append = true) {\n  try {\n    let appendText = await getSelectedText();\n\n    // selected text\n    if (trimBeforeAppendSelectedText) {\n      appendText = appendText.trim();\n    }\n\n    // clipboard text\n    let clipBoardText = await Clipboard.readText();\n    if (typeof clipBoardText !== \"string\") {\n      clipBoardText = \"\";\n    }\n    if (trimBeforeAppendClipboardText) {\n      clipBoardText = clipBoardText.trim();\n    }\n\n    // appended text\n    let finalText: string;\n    if (append) {\n      finalText = clipBoardText + getAppendSeparator() + appendText;\n      await showHUD(`\u2196\uFE0F Appended text to clipboard`);\n    } else {\n      finalText = appendText + getAppendSeparator() + clipBoardText;\n      await showHUD(`\u2197\uFE0F Prepended text to clipboard`);\n    }\n    if (trimAfterAppend) {\n      finalText = finalText.trim();\n    }\n    await Clipboard.copy(finalText);\n  } catch (e) {\n    await showHUD(`\uD83D\uDEA8 Cannot copy selected text from front-most application`);\n  }\n}\n\nexport async function mergeText(num: number, mergeOrder: string) {\n  try {\n    let mergedClipboard = \"\";\n    const clipboards: string[] = [];\n    const appendSeparator_ = getAppendSeparator();\n    for (let i = 0; i < num; i++) {\n      const clipboard_ = await Clipboard.readText({ offset: i });\n      const clipboard = typeof clipboard_ === \"string\" ? clipboard_ : \"\";\n      clipboards.push(trimBeforeMerging ? clipboard.trim() : clipboard);\n    }\n    mergedClipboard =\n      mergeOrder === MergeOrder.FORWARD_ORDER\n        ? clipboards.join(appendSeparator_)\n        : clipboards.reverse().join(appendSeparator_);\n\n    if (trimAfterMerging) {\n      mergedClipboard = mergedClipboard.trim();\n    }\n    if (pasteAfterMerging) {\n      await Clipboard.paste(mergedClipboard);\n      await showHUD(`\uD83D\uDCCB\uFE0F Paste merged text`);\n    }\n    if (copyAfterMerging) {\n      await Clipboard.copy(mergedClipboard);\n      await showHUD(`\uD83D\uDCCB\uFE0F Copy merged text`);\n    }\n  } catch (e) {\n    await showHUD(`\uD83D\uDEA8 ${String(e)}`);\n  }\n}\n\nconst getAppendSeparator = () => {\n  return appendSeparator.replaceAll(\"{newline}\", `\\n`).replaceAll(\"{tab}\", `\\t`);\n};\n\nconst getArgument = (arg: string, argKey: string) => {\n  const cache = new Cache({ namespace: \"Args\" });\n  if (typeof arg !== \"undefined\") {\n    // call from main window\n    cache.set(argKey, arg);\n    return arg;\n  } else {\n    // call from hotkey\n    const cacheStr = cache.get(argKey);\n    if (typeof cacheStr !== \"undefined\") {\n      return cacheStr;\n    } else {\n      return \"\";\n    }\n  }\n};\n\nexport const getArguments = (args: string[], argKeys: string[]) => {\n  if (args.length !== argKeys.length) {\n    return { args: [] };\n  } else {\n    const argsObj = [];\n    for (let i = 0; i < args.length; i++) {\n      argsObj.push(getArgument(args[i], argKeys[i]));\n    }\n    return { args: argsObj };\n  }\n};\n", "import { getPreferenceValues } from \"@raycast/api\";\n\ninterface Preferences {\n  appendSeparator: string;\n  trimBeforeAppendClipboardText: boolean;\n  trimBeforeAppendSelectedText: boolean;\n  trimAfterAppend: boolean;\n  trimBeforeMerging: boolean;\n  trimAfterMerging: boolean;\n  copyAfterMerging: boolean;\n  pasteAfterMerging: boolean;\n}\n\nexport const {\n  appendSeparator,\n  trimBeforeAppendClipboardText,\n  trimBeforeAppendSelectedText,\n  trimAfterAppend,\n  trimBeforeMerging,\n  trimAfterMerging,\n  copyAfterMerging,\n  pasteAfterMerging,\n} = getPreferenceValues<Preferences>();\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCAA,IAAAI,EAA2D,wBCA3D,IAAAC,EAAoC,wBAavB,CACX,gBAAAC,EACA,8BAAAC,EACA,6BAAAC,EACA,gBAAAC,EACA,kBAAAC,EACA,iBAAAC,EACA,iBAAAC,EACA,kBAAAC,CACF,KAAI,uBAAiC,EDTrC,eAAsBC,EAAaC,EAAS,GAAM,CAChD,GAAI,CACF,IAAIC,EAAa,QAAM,mBAAgB,EAGnCC,IACFD,EAAaA,EAAW,KAAK,GAI/B,IAAIE,EAAgB,MAAM,YAAU,SAAS,EACzC,OAAOA,GAAkB,WAC3BA,EAAgB,IAEdC,IACFD,EAAgBA,EAAc,KAAK,GAIrC,IAAIE,EACAL,GACFK,EAAYF,EAAgBG,EAAmB,EAAIL,EACnD,QAAM,WAAQ,yCAA+B,IAE7CI,EAAYJ,EAAaK,EAAmB,EAAIH,EAChD,QAAM,WAAQ,0CAAgC,GAE5CI,IACFF,EAAYA,EAAU,KAAK,GAE7B,MAAM,YAAU,KAAKA,CAAS,CAChC,MAAY,CACV,QAAM,WAAQ,iEAA0D,CAC1E,CACF,CAiCA,IAAMG,EAAqB,IAClBC,EAAgB,WAAW,YAAa;AAAA,CAAI,EAAE,WAAW,QAAS,GAAI,EDhF/E,IAAAC,EAAgC,wBAEzBC,EAAQ,SAAY,CACzB,QAAM,mBAAgB,EACtB,MAAMC,EAAa,CACrB",
  "names": ["append_to_clipboard_exports", "__export", "append_to_clipboard_default", "__toCommonJS", "import_api", "import_api", "appendSeparator", "trimBeforeAppendClipboardText", "trimBeforeAppendSelectedText", "trimAfterAppend", "trimBeforeMerging", "trimAfterMerging", "copyAfterMerging", "pasteAfterMerging", "appendedText", "append", "appendText", "trimBeforeAppendSelectedText", "clipBoardText", "trimBeforeAppendClipboardText", "finalText", "getAppendSeparator", "trimAfterAppend", "getAppendSeparator", "appendSeparator", "import_api", "append_to_clipboard_default", "appendedText"]
}
