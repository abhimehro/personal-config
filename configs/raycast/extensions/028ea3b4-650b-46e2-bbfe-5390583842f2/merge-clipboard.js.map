{
  "version": 3,
  "sources": ["../src/merge-clipboard.tsx", "../src/utils/common-util.ts", "../src/types/preferences.ts"],
  "sourcesContent": ["import { getArguments, mergeText } from \"./utils/common-util\";\nimport { closeMainWindow, LaunchProps } from \"@raycast/api\";\nimport { MergeArguments, MergeNum, MergeOrder } from \"./types/types\";\n\nexport default async (props: LaunchProps<{ arguments: MergeArguments }>) => {\n  await closeMainWindow();\n  const { args } = getArguments([props.arguments.mergeNum, props.arguments.mergeOrder], [\"MergeNum\", \"MergeOrder\"]);\n  const mergeNum = args[0].length === 0 ? Number(MergeNum.TWO) : Number(args[0]);\n  const mergeOrder = args[1].length === 0 ? MergeOrder.FORWARD_ORDER : args[1];\n  await mergeText(mergeNum, mergeOrder);\n};\n", "import { Cache, Clipboard, getSelectedText, showHUD } from \"@raycast/api\";\nimport {\n  appendSeparator,\n  copyAfterMerging,\n  pasteAfterMerging,\n  trimAfterAppend,\n  trimAfterMerging,\n  trimBeforeAppendClipboardText,\n  trimBeforeAppendSelectedText,\n  trimBeforeMerging,\n} from \"../types/preferences\";\nimport { MergeOrder } from \"../types/types\";\n\nexport async function appendedText(append = true) {\n  try {\n    let appendText = await getSelectedText();\n\n    // selected text\n    if (trimBeforeAppendSelectedText) {\n      appendText = appendText.trim();\n    }\n\n    // clipboard text\n    let clipBoardText = await Clipboard.readText();\n    if (typeof clipBoardText !== \"string\") {\n      clipBoardText = \"\";\n    }\n    if (trimBeforeAppendClipboardText) {\n      clipBoardText = clipBoardText.trim();\n    }\n\n    // appended text\n    let finalText: string;\n    if (append) {\n      finalText = clipBoardText + getAppendSeparator() + appendText;\n      await showHUD(`\u2196\uFE0F Appended text to clipboard`);\n    } else {\n      finalText = appendText + getAppendSeparator() + clipBoardText;\n      await showHUD(`\u2197\uFE0F Prepended text to clipboard`);\n    }\n    if (trimAfterAppend) {\n      finalText = finalText.trim();\n    }\n    await Clipboard.copy(finalText);\n  } catch (e) {\n    await showHUD(`\uD83D\uDEA8 Cannot copy selected text from front-most application`);\n  }\n}\n\nexport async function mergeText(num: number, mergeOrder: string) {\n  try {\n    let mergedClipboard = \"\";\n    const clipboards: string[] = [];\n    const appendSeparator_ = getAppendSeparator();\n    for (let i = 0; i < num; i++) {\n      const clipboard_ = await Clipboard.readText({ offset: i });\n      const clipboard = typeof clipboard_ === \"string\" ? clipboard_ : \"\";\n      clipboards.push(trimBeforeMerging ? clipboard.trim() : clipboard);\n    }\n    mergedClipboard =\n      mergeOrder === MergeOrder.FORWARD_ORDER\n        ? clipboards.join(appendSeparator_)\n        : clipboards.reverse().join(appendSeparator_);\n\n    if (trimAfterMerging) {\n      mergedClipboard = mergedClipboard.trim();\n    }\n    if (pasteAfterMerging) {\n      await Clipboard.paste(mergedClipboard);\n      await showHUD(`\uD83D\uDCCB\uFE0F Paste merged text`);\n    }\n    if (copyAfterMerging) {\n      await Clipboard.copy(mergedClipboard);\n      await showHUD(`\uD83D\uDCCB\uFE0F Copy merged text`);\n    }\n  } catch (e) {\n    await showHUD(`\uD83D\uDEA8 ${String(e)}`);\n  }\n}\n\nconst getAppendSeparator = () => {\n  return appendSeparator.replaceAll(\"{newline}\", `\\n`).replaceAll(\"{tab}\", `\\t`);\n};\n\nconst getArgument = (arg: string, argKey: string) => {\n  const cache = new Cache({ namespace: \"Args\" });\n  if (typeof arg !== \"undefined\") {\n    // call from main window\n    cache.set(argKey, arg);\n    return arg;\n  } else {\n    // call from hotkey\n    const cacheStr = cache.get(argKey);\n    if (typeof cacheStr !== \"undefined\") {\n      return cacheStr;\n    } else {\n      return \"\";\n    }\n  }\n};\n\nexport const getArguments = (args: string[], argKeys: string[]) => {\n  if (args.length !== argKeys.length) {\n    return { args: [] };\n  } else {\n    const argsObj = [];\n    for (let i = 0; i < args.length; i++) {\n      argsObj.push(getArgument(args[i], argKeys[i]));\n    }\n    return { args: argsObj };\n  }\n};\n", "import { getPreferenceValues } from \"@raycast/api\";\n\ninterface Preferences {\n  appendSeparator: string;\n  trimBeforeAppendClipboardText: boolean;\n  trimBeforeAppendSelectedText: boolean;\n  trimAfterAppend: boolean;\n  trimBeforeMerging: boolean;\n  trimAfterMerging: boolean;\n  copyAfterMerging: boolean;\n  pasteAfterMerging: boolean;\n}\n\nexport const {\n  appendSeparator,\n  trimBeforeAppendClipboardText,\n  trimBeforeAppendSelectedText,\n  trimAfterAppend,\n  trimBeforeMerging,\n  trimAfterMerging,\n  copyAfterMerging,\n  pasteAfterMerging,\n} = getPreferenceValues<Preferences>();\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GCAA,IAAAI,EAA2D,wBCA3D,IAAAC,EAAoC,wBAavB,CACX,gBAAAC,EACA,8BAAAC,EACA,6BAAAC,EACA,gBAAAC,EACA,kBAAAC,EACA,iBAAAC,EACA,iBAAAC,EACA,kBAAAC,CACF,KAAI,uBAAiC,ED2BrC,eAAsBC,EAAUC,EAAaC,EAAoB,CAC/D,GAAI,CACF,IAAIC,EAAkB,GAChBC,EAAuB,CAAC,EACxBC,EAAmBC,EAAmB,EAC5C,QAASC,EAAI,EAAGA,EAAIN,EAAKM,IAAK,CAC5B,IAAMC,EAAa,MAAM,YAAU,SAAS,CAAE,OAAQD,CAAE,CAAC,EACnDE,EAAY,OAAOD,GAAe,SAAWA,EAAa,GAChEJ,EAAW,KAAKM,EAAoBD,EAAU,KAAK,EAAIA,CAAS,CAClE,CACAN,EACED,cACIE,EAAW,KAAKC,CAAgB,EAChCD,EAAW,QAAQ,EAAE,KAAKC,CAAgB,EAE5CM,IACFR,EAAkBA,EAAgB,KAAK,GAErCS,IACF,MAAM,YAAU,MAAMT,CAAe,EACrC,QAAM,WAAQ,mCAAuB,GAEnCU,IACF,MAAM,YAAU,KAAKV,CAAe,EACpC,QAAM,WAAQ,kCAAsB,EAExC,OAASW,EAAG,CACV,QAAM,WAAQ,aAAM,OAAOA,CAAC,CAAC,EAAE,CACjC,CACF,CAEA,IAAMR,EAAqB,IAClBS,EAAgB,WAAW,YAAa;AAAA,CAAI,EAAE,WAAW,QAAS,GAAI,EAGzEC,EAAc,CAACC,EAAaC,IAAmB,CACnD,IAAMC,EAAQ,IAAI,QAAM,CAAE,UAAW,MAAO,CAAC,EAC7C,GAAI,OAAOF,EAAQ,IAEjB,OAAAE,EAAM,IAAID,EAAQD,CAAG,EACdA,EACF,CAEL,IAAMG,EAAWD,EAAM,IAAID,CAAM,EACjC,OAAI,OAAOE,EAAa,IACfA,EAEA,EAEX,CACF,EAEaC,EAAe,CAACC,EAAgBC,IAAsB,CACjE,GAAID,EAAK,SAAWC,EAAQ,OAC1B,MAAO,CAAE,KAAM,CAAC,CAAE,EACb,CACL,IAAMC,EAAU,CAAC,EACjB,QAASjB,EAAI,EAAGA,EAAIe,EAAK,OAAQf,IAC/BiB,EAAQ,KAAKR,EAAYM,EAAKf,CAAC,EAAGgB,EAAQhB,CAAC,CAAC,CAAC,EAE/C,MAAO,CAAE,KAAMiB,CAAQ,CACzB,CACF,ED9GA,IAAAC,EAA6C,wBAG7C,IAAOC,EAAQ,MAAOC,GAAsD,CAC1E,QAAM,mBAAgB,EACtB,GAAM,CAAE,KAAAC,CAAK,EAAIC,EAAa,CAACF,EAAM,UAAU,SAAUA,EAAM,UAAU,UAAU,EAAG,CAAC,WAAY,YAAY,CAAC,EAC1GG,EAAWF,EAAK,CAAC,EAAE,SAAW,EAAI,UAAmB,EAAI,OAAOA,EAAK,CAAC,CAAC,EACvEG,EAAaH,EAAK,CAAC,EAAE,SAAW,YAA+BA,EAAK,CAAC,EAC3E,MAAMI,EAAUF,EAAUC,CAAU,CACtC",
  "names": ["merge_clipboard_exports", "__export", "merge_clipboard_default", "__toCommonJS", "import_api", "import_api", "appendSeparator", "trimBeforeAppendClipboardText", "trimBeforeAppendSelectedText", "trimAfterAppend", "trimBeforeMerging", "trimAfterMerging", "copyAfterMerging", "pasteAfterMerging", "mergeText", "num", "mergeOrder", "mergedClipboard", "clipboards", "appendSeparator_", "getAppendSeparator", "i", "clipboard_", "clipboard", "trimBeforeMerging", "trimAfterMerging", "pasteAfterMerging", "copyAfterMerging", "e", "appendSeparator", "getArgument", "arg", "argKey", "cache", "cacheStr", "getArguments", "args", "argKeys", "argsObj", "import_api", "merge_clipboard_default", "props", "args", "getArguments", "mergeNum", "mergeOrder", "mergeText"]
}
