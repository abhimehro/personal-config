"use strict";var Ae=Object.create;var W=Object.defineProperty;var Ce=Object.getOwnPropertyDescriptor;var Ie=Object.getOwnPropertyNames;var Re=Object.getPrototypeOf,Te=Object.prototype.hasOwnProperty;var _e=(e,n)=>{for(var r in n)W(e,r,{get:n[r],enumerable:!0})},ne=(e,n,r,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of Ie(n))!Te.call(e,a)&&a!==r&&W(e,a,{get:()=>n[a],enumerable:!(t=Ce(n,a))||t.enumerable});return e};var j=(e,n,r)=>(r=e!=null?Ae(Re(e)):{},ne(n||!e||!e.__esModule?W(r,"default",{value:e,enumerable:!0}):r,e)),Pe=e=>ne(W({},"__esModule",{value:!0}),e);var Ze={};_e(Ze,{default:()=>xe});module.exports=Pe(Ze);var p=require("@raycast/api"),Q=require("react");var T=require("@raycast/api");var u=j(require("react")),b=require("@raycast/api");var ae=Object.prototype.hasOwnProperty;function F(e,n){var r,t;if(e===n)return!0;if(e&&n&&(r=e.constructor)===n.constructor){if(r===Date)return e.getTime()===n.getTime();if(r===RegExp)return e.toString()===n.toString();if(r===Array){if((t=e.length)===n.length)for(;t--&&F(e[t],n[t]););return t===-1}if(!r||typeof e=="object"){t=0;for(r in e)if(ae.call(e,r)&&++t&&!ae.call(n,r)||!(r in n)||!F(e[r],n[r]))return!1;return Object.keys(n).length===t}}return e!==e&&n!==n}var L=j(require("node:fs")),G=j(require("node:path")),ce=j(require("node:crypto"));var le=require("react/jsx-runtime");function Ue(e){let n=(0,u.useRef)(e),r=(0,u.useRef)(0);return F(e,n.current)||(n.current=e,r.current+=1),(0,u.useMemo)(()=>n.current,[r.current])}function A(e){let n=(0,u.useRef)(e);return n.current=e,n}function Le(e,n){let r=e instanceof Error?e.message:String(e);return(0,b.showToast)({style:b.Toast.Style.Failure,title:n?.title??"Something went wrong",message:n?.message??r,primaryAction:n?.primaryAction??se(e),secondaryAction:n?.primaryAction?se(e):void 0})}var se=e=>{let n=!0,r="[Extension Name]...",t="";try{let i=JSON.parse((0,L.readFileSync)((0,G.join)(b.environment.assetsPath,"..","package.json"),"utf8"));r=`[${i.title}]...`,t=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(n=!1)}catch{}let a=b.environment.isDevelopment||n,s=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:a?"Copy Logs":"Report Error",onAction(i){i.hide(),a?b.Clipboard.copy(s):(0,b.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(r)}&extension-url=${encodeURI(t)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${s}
\`\`\`
`)}`)}}};function ue(e,n,r){let t=(0,u.useRef)(0),[a,s]=(0,u.useState)({isLoading:!0}),i=A(e),l=A(r?.abortable),o=A(n||[]),f=A(r?.onError),c=A(r?.onData),d=A(r?.onWillExecute),x=A(r?.failureToastOptions),v=A(a.data),w=(0,u.useRef)(null),h=(0,u.useRef)({page:0}),k=(0,u.useRef)(!1),E=(0,u.useRef)(!0),m=(0,u.useRef)(50),y=(0,u.useCallback)(()=>(l.current&&(l.current.current?.abort(),l.current.current=new AbortController),++t.current),[l]),$=(0,u.useCallback)((...P)=>{let C=y();d.current?.(P),s(g=>({...g,isLoading:!0}));let O=Oe(i.current)(...P);function M(g){return g.name=="AbortError"||C===t.current&&(f.current?f.current(g):b.environment.launchType!==b.LaunchType.Background&&Le(g,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(U){U.hide(),w.current?.(...o.current||[])}},...x.current}),s({error:g,isLoading:!1})),g}return typeof O=="function"?(k.current=!0,O(h.current).then(({data:g,hasMore:U,cursor:Se})=>(C===t.current&&(h.current&&(h.current.cursor=Se,h.current.lastItem=g?.[g.length-1]),c.current&&c.current(g,h.current),U&&(m.current=g.length),E.current=U,s(Ee=>h.current.page===0?{data:g,isLoading:!1}:{data:(Ee.data||[])?.concat(g),isLoading:!1})),g),g=>(E.current=!1,M(g)))):(k.current=!1,O.then(g=>(C===t.current&&(c.current&&c.current(g),s({data:g,isLoading:!1})),g),M))},[c,f,o,i,s,w,d,h,x,y]);w.current=$;let I=(0,u.useCallback)(()=>{h.current={page:0};let P=o.current||[];return $(...P)},[$,o]),R=(0,u.useCallback)(async(P,C)=>{let O;try{if(C?.optimisticUpdate){y(),typeof C?.rollbackOnError!="function"&&C?.rollbackOnError!==!1&&(O=structuredClone(v.current?.value));let M=C.optimisticUpdate;s(g=>({...g,data:M(g.data)}))}return await P}catch(M){if(typeof C?.rollbackOnError=="function"){let g=C.rollbackOnError;s(U=>({...U,data:g(U.data)}))}else C?.optimisticUpdate&&C?.rollbackOnError!==!1&&s(g=>({...g,data:O}));throw M}finally{C?.shouldRevalidateAfter!==!1&&(b.environment.launchType===b.LaunchType.Background||b.environment.commandMode==="menu-bar"?await I():I())}},[I,v,s,y]),_=(0,u.useCallback)(()=>{h.current.page+=1;let P=o.current||[];$(...P)},[h,o,$]);(0,u.useEffect)(()=>{h.current={page:0},r?.execute!==!1?$(...n||[]):y()},[Ue([n,r?.execute,$]),l,h]),(0,u.useEffect)(()=>()=>{y()},[y]);let N=r?.execute!==!1?a.isLoading:!1,z={...a,isLoading:N},V=k.current?{pageSize:m.current,hasMore:E.current,onLoadMore:_}:void 0;return{...z,revalidate:I,mutate:R,pagination:V}}function Oe(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function ie(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function Me(e){return e instanceof URLSearchParams?e.toString():e}function fe(e,n=[]){function r(t){return"update"in e?e.update(t,"utf8"):e.write(t)}return{dispatch:function(t){t=Me(t),t===null?this._null():this["_"+typeof t](t)},_object:function(t){let a=/\[object (.*)\]/i,s=Object.prototype.toString.call(t),i=a.exec(s)?.[1]??"unknown:["+s+"]";i=i.toLowerCase();let l=null;if((l=n.indexOf(t))>=0){this.dispatch("[CIRCULAR:"+l+"]");return}else n.push(t);if(Buffer.isBuffer(t))return r("buffer:"),r(t.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](t);else throw new Error('Unknown object type "'+i+'"');else{let o=Object.keys(t);o=o.sort(),ie(t)||o.splice(0,0,"prototype","__proto__","constructor"),r("object:"+o.length+":");let f=this;return o.forEach(function(c){f.dispatch(c),r(":"),f.dispatch(t[c]),r(",")})}},_array:function(t,a){a=typeof a<"u"?a:!1;let s=this;if(r("array:"+t.length+":"),!a||t.length<=1){t.forEach(function(o){s.dispatch(o)});return}let i=[],l=t.map(function(o){let f=De(),c=n.slice();return fe(f,c).dispatch(o),i=i.concat(c.slice(n.length)),f.read().toString()});n=n.concat(i),l.sort(),this._array(l,!1)},_date:function(t){r("date:"+t.toJSON())},_symbol:function(t){r("symbol:"+t.toString())},_error:function(t){r("error:"+t.toString())},_boolean:function(t){r("bool:"+t.toString())},_string:function(t){r("string:"+t.length+":"),r(t.toString())},_function:function(t){r("fn:"),ie(t)?this.dispatch("[native]"):this.dispatch(t.toString()),this.dispatch("function-name:"+String(t.name)),this._object(t)},_number:function(t){r("number:"+t.toString())},_xml:function(t){r("xml:"+t.toString())},_null:function(){r("Null")},_undefined:function(){r("Undefined")},_regexp:function(t){r("regex:"+t.toString())},_uint8array:function(t){r("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){r("int8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){r("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){r("int16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){r("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){r("int32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){r("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){r("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){r("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){r("url:"+t.toString())},_map:function(t){r("map:");let a=Array.from(t);this._array(a,!0)},_set:function(t){r("set:");let a=Array.from(t);this._array(a,!0)},_file:function(t){r("file:"),this.dispatch([t.name,t.size,t.type,t.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){r("domwindow")},_bigint:function(t){r("bigint:"+t.toString())},_process:function(){r("process")},_timer:function(){r("timer")},_pipe:function(){r("pipe")},_tcp:function(){r("tcp")},_udp:function(){r("udp")},_tty:function(){r("tty")},_statwatcher:function(){r("statwatcher")},_securecontext:function(){r("securecontext")},_connection:function(){r("connection")},_zlib:function(){r("zlib")},_context:function(){r("context")},_nodescript:function(){r("nodescript")},_httpparser:function(){r("httpparser")},_dataview:function(){r("dataview")},_signal:function(){r("signal")},_fsevent:function(){r("fsevent")},_tlswrap:function(){r("tlswrap")}}}function De(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Ne(e,n){let r=this[e];return r instanceof Date?`__raycast_cached_date__${r.toISOString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:n}function ze(e,n){return typeof n=="string"&&n.startsWith("__raycast_cached_date__")?new Date(n.replace("__raycast_cached_date__","")):typeof n=="string"&&n.startsWith("__raycast_cached_buffer__")?Buffer.from(n.replace("__raycast_cached_buffer__",""),"base64"):n}function B(e){let n=ce.default.createHash("sha1");return fe(n).dispatch(e),n.digest("hex")}var Ve=Symbol("cache without namespace"),oe=new Map;function We(e,n,r){let t=r?.cacheNamespace||Ve,a=oe.get(t)||oe.set(t,new b.Cache({namespace:r?.cacheNamespace})).get(t);if(!a)throw new Error("Missing cache");let s=A(e),i=A(n),l=(0,u.useSyncExternalStore)(a.subscribe,()=>{try{return a.get(s.current)}catch(d){console.error("Could not get Cache data:",d);return}}),o=(0,u.useMemo)(()=>{if(typeof l<"u"){if(l==="undefined")return;try{return JSON.parse(l,ze)}catch(d){return console.warn("The cached data is corrupted",d),i.current}}else return i.current},[l,i]),f=A(o),c=(0,u.useCallback)(d=>{let x=typeof d=="function"?d(f.current):d;if(typeof x>"u")a.set(s.current,"undefined");else{let v=JSON.stringify(x,Ne);a.set(s.current,v)}return x},[a,s,f]);return[o,c]}var D=Symbol();function je(e,n,r){let{initialData:t,keepPreviousData:a,internal_cacheKeySuffix:s,...i}=r||{},l=(0,u.useRef)(null),[o,f]=We(B(n||[])+s,D,{cacheNamespace:B(e)}),c=(0,u.useRef)(o!==D?o:t),d=(0,u.useRef)(void 0),{mutate:x,revalidate:v,...w}=ue(e,n||[],{...i,onData(y,$){d.current=$,i.onData&&i.onData(y,$),!($&&$.page>0)&&(l.current="promise",c.current=y,f(y))}}),h,k=w.pagination;d.current&&d.current.page>0&&w.data?h=w.data:l.current==="promise"?h=c.current:a&&o!==D?(h=o,k&&(k.hasMore=!0,k.pageSize=o.length)):a&&o===D?h=c.current:o!==D?(h=o,k&&(k.hasMore=!0,k.pageSize=o.length)):h=t;let E=A(h),m=(0,u.useCallback)(async(y,$)=>{let I;try{if($?.optimisticUpdate){typeof $?.rollbackOnError!="function"&&$?.rollbackOnError!==!1&&(I=structuredClone(E.current));let R=$.optimisticUpdate(E.current);l.current="cache",c.current=R,f(R)}return await x(y,{shouldRevalidateAfter:$?.shouldRevalidateAfter})}catch(R){if(typeof $?.rollbackOnError=="function"){let _=$.rollbackOnError(E.current);l.current="cache",c.current=_,f(_)}else $?.optimisticUpdate&&$?.rollbackOnError!==!1&&(l.current="cache",c.current=I,f(I));throw R}},[f,x,E,c,l]);return(0,u.useEffect)(()=>{o!==D&&(l.current="cache",c.current=o)},[o]),{data:h,isLoading:w.isLoading,error:w.error,mutate:d.current&&d.current.page>0?x:m,pagination:k,revalidate:v}}function Fe(e){if(e){let n=Ge(e);if(!n)return!1;if(n.subtype==="json"||n.suffix==="json"||n.suffix&&/\bjson\b/i.test(n.suffix)||n.subtype&&/\bjson\b/i.test(n.subtype))return!0}return!1}var Be=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function Ge(e){let n=e.indexOf(";"),r=n!==-1?e.slice(0,n).trim():e.trim(),t=Be.exec(r.toLowerCase().toLowerCase());if(!t)return;let a=t[1],s=t[2],i,l=s.lastIndexOf("+");return l!==-1&&(i=s.substring(l+1),s=s.substring(0,l)),{type:a,subtype:s,suffix:i}}async function Ke(e){if(!e.ok)throw new Error(e.statusText);let n=e.headers.get("content-type");return n&&Fe(n)?await e.json():await e.text()}function Je(e){return{data:e,hasMore:!1}}function K(e,n){let{parseResponse:r,mapResult:t,initialData:a,execute:s,keepPreviousData:i,onError:l,onData:o,onWillExecute:f,failureToastOptions:c,...d}=n||{},x={initialData:a,execute:s,keepPreviousData:i,onError:l,onData:o,onWillExecute:f,failureToastOptions:c},v=A(r||Ke),w=A(t||Je),h=(0,u.useRef)(null),k=(0,u.useRef)(null),E=typeof e=="function"?e({page:0}):void 0;(!h.current||typeof k.current>"u"||k.current!==E)&&(h.current=e),k.current=E;let m=(0,u.useRef)(null),y=(0,u.useCallback)((R,_)=>async N=>{let z=await fetch(R(N),{signal:m.current?.signal,..._}),V=await v.current(z);return w.current?.(V)},[v,w]),$=(0,u.useCallback)(async(R,_)=>{let N=await fetch(R,{signal:m.current?.signal,..._}),z=await v.current(N);return w.current(z)?.data},[v,w]),I=(0,u.useMemo)(()=>k.current?y:$,[k,$,y]);return je(I,[h.current,d],{...x,internal_cacheKeySuffix:k.current+B(w.current)+B(v.current),abortable:m})}function de(e,n={}){let{creativity:r,stream:t,model:a,...s}=n,[i,l]=(0,u.useState)(""),o=(0,u.useRef)(null),{isLoading:f,error:c,revalidate:d}=ue(async(x,v,w)=>{l("");let h=b.AI.ask(x,{creativity:v,model:a,signal:o.current?.signal});w===!1?l(await h):(h.on("data",k=>{l(E=>E+k)}),await h)},[e,r,t],{...s,abortable:o});return{isLoading:f,data:i,error:c,revalidate:d}}var he=require("react");function pe(e,n,r,t){let[a,s]=(0,he.useState)(null),i=`Here is a list of all available icon names: ${e}
Return the icon names in the list, separated by commas and with no additional text, that best match the semantic meaning of the following description: ${n}
You should return at least one icon name.`,{data:l,isLoading:o,revalidate:f}=de(i,{model:T.AI.Model["OpenAI_GPT4o-mini"],execute:T.environment.canAccess(T.AI)&&n.length>0&&(r===0||t),onError:c=>{console.error("AI search error:",c)}});return o&&!a?(0,T.showToast)({style:T.Toast.Style.Animated,title:"Searching with AI\u2026"}).then(s):!o&&a&&(a.hide(),s(null)),{modelResponse:l,isAILoading:o,revalidateAI:f}}var be=require("@raycast/api");function J(e,n,r=[]){let t=Object.entries(n).map(([s,i])=>`${s}="${i}"`).join(" "),a=r.map(s=>typeof s=="string"?s:J(s[0],s[1],s[2])).join("");return`<${e} ${t}>${a}</${e}>`}var me={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var H=e=>{let n=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,t,a)=>a?a.toUpperCase():t.toLowerCase());return n.charAt(0).toUpperCase()+n.slice(1)},ge=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var He=1440*60*1e3,Z=new be.Cache;function $e(){let{data:e,isLoading:n}=K("https://lucide.dev/api/icon-nodes"),{data:r,isLoading:t}=K("https://lucide.dev/api/tags"),{data:a,isLoading:s}=K("https://lucide.dev/api/categories"),i=n||t||s;if(i||!e||!r||!a)return{data:void 0,isLoading:i};let l=Z.get("icons"),o=Number(Z.get("lastFetchTime")),f=Date.now();if(l&&o&&f-o<He)return{data:JSON.parse(l),isLoading:!1};let c=Object.entries(e).map(([d,x])=>{let v=J("svg",{...me,class:`lucide lucide-${ge(d)}`},x.map(w=>J(w[0],w[1])));return{name:d,content:v,path:`https://lucide.dev/api/icons/${d}`,component:`<${H(d)} />`,keywords:[...r[d],...a[d]]}});return Z.set("icons",JSON.stringify(c)),Z.set("lastFetchTime",JSON.stringify(f)),{data:c,isLoading:!1}}var q=require("@raycast/api"),ee=require("react");function te(e,n,r,t,a){let s=(0,ee.useMemo)(()=>{if(!e)return[];if(n.length===0)return e;let f=n.toLowerCase();return e.filter(c=>c.name.toLowerCase().includes(f)||c.keywords.some(d=>d.toLowerCase().includes(f)))},[e,n]),i=f=>f?f.split(",").map(c=>c.trim()).filter(c=>c.length>0&&e?.some(d=>d.name===c)):[],l=(0,ee.useMemo)(()=>{if(!e)return[];if(n.length===0)return e;if(r&&(a?.length===0||t)){let f=i(r);return e.filter(c=>f.includes(c.name))}return a||s},[e,n,r,a,s,t]),o=q.environment.canAccess(q.AI)&&n.length>0&&r!==void 0&&(a?.length===0||t);return{filteredIcons:s,iconEntries:l,isAIResultsSection:o}}var Y=require("@raycast/api"),X=require("react"),we=require("react/jsx-runtime"),re=["\u25CF","\u{1F440}","\u2764\uFE0F","\u274E","\u2B50"];function ye(){let[e,n]=(0,X.useState)(re[0]);return(0,X.useEffect)(()=>{let r=0,t=setInterval(()=>{r=(r+1)%re.length,n(re[r])},300);return()=>clearInterval(t)},[]),(0,we.jsx)(Y.Grid.Item,{content:{source:e,tintColor:Y.Color.SecondaryText}})}var S=require("react/jsx-runtime");function ke(){let{primaryAction:e,pascalCaseName:n}=(0,p.getPreferenceValues)(),{data:r,isLoading:t}=$e(),[a,s]=(0,Q.useState)("PrimaryText"),[i,l]=(0,Q.useState)(""),[o,f]=(0,Q.useState)(!1),{filteredIcons:c}=te(r,i),{modelResponse:d,isAILoading:x,revalidateAI:v}=pe(r?.map(m=>m.name).join(", ")||"",i,c.length,o),{iconEntries:w,isAIResultsSection:h}=te(r,i,d,o,c),k=m=>{l(m),f(!1)},E=p.Color[a];return(0,S.jsxs)(p.Grid,{columns:8,inset:p.Grid.Inset.Large,isLoading:t||x,onSearchTextChange:k,throttle:!0,searchBarAccessory:(0,S.jsx)(p.Grid.Dropdown,{tooltip:"Change Color",value:a,onChange:m=>s(m),children:Object.entries(p.Color).map(([m,y])=>(0,S.jsx)(p.Grid.Dropdown.Item,{title:m,value:m,icon:{source:p.Icon.Circle,tintColor:y}},m))}),children:[x&&(0,S.jsx)(p.Grid.Section,{title:"AI Results",children:(0,S.jsx)(ye,{})}),!x&&w.length>0&&(0,S.jsx)(p.Grid.Section,{title:h?"AI Results":"Results",subtitle:`${w.length}`,children:w.map(m=>(0,S.jsx)(p.Grid.Item,{title:m.name,content:{source:m.path,tintColor:E},keywords:m.keywords,actions:(0,S.jsxs)(p.ActionPanel,{children:[[{id:"copy-name",component:(0,S.jsx)(p.Action.CopyToClipboard,{title:"Copy Name",content:n?m.name.split("-").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(""):m.name},"copy-name")},{id:"copy-svg",component:(0,S.jsx)(p.Action.CopyToClipboard,{title:"Copy SVG",content:m.content},"copy-svg")},{id:"paste-svg",component:(0,S.jsx)(p.Action.Paste,{title:"Paste SVG",content:m.content},"paste-svg")},{id:"copy-component",component:(0,S.jsx)(p.Action.CopyToClipboard,{title:"Copy Component",content:`<${H(m.name)} />`,shortcut:{modifiers:["shift","cmd"],key:"enter"}},"copy-component")},{id:"open-in-browser",component:(0,S.jsx)(p.Action.OpenInBrowser,{url:m.path,shortcut:{modifiers:["cmd"],key:"o"}},"open-in-browser")}].sort((y,$)=>y.id===e?-1:$.id===e?1:0).map(y=>y.component),(0,S.jsx)(p.ActionPanel.Section,{children:p.environment.canAccess(p.AI)&&(0,S.jsx)(p.Action,{title:"Search with AI",icon:p.Icon.Stars,shortcut:{modifiers:["cmd"],key:"f"},onAction:()=>{f(!0),v()}})})]})},m.name))})]})}var ve=require("react/jsx-runtime");function xe(){return(0,ve.jsx)(ke,{})}
