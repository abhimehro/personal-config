{
  "version": 3,
  "sources": ["../src/compressImages.tsx", "../src/utils/checkInstall.ts"],
  "sourcesContent": ["import { showToast, Toast, getSelectedFinderItems } from \"@raycast/api\";\nimport { exec } from \"child_process\";\nimport { checkZipicInstallation } from \"./utils/checkInstall\";\n\nexport default async function main() {\n  const isInstalled = await checkZipicInstallation();\n  if (!isInstalled) {\n    return;\n  }\n\n  let filePaths: string[];\n\n  try {\n    filePaths = (await getSelectedFinderItems()).map((f) => f.path);\n    if (filePaths.length > 0) {\n      const data = {\n        urls: filePaths,\n      };\n      const url = `zipic://compress?data=${encodeURIComponent(JSON.stringify(data))}`;\n      await showToast({\n        style: Toast.Style.Success,\n        title: \"Compressing with CompressX\",\n      });\n      exec(`open \"${url}\"`);\n    } else {\n      await showToast({\n        style: Toast.Style.Failure,\n        title: \"Warning! No Finder items selected\",\n      });\n    }\n  } catch (e) {\n    await showToast({\n      style: Toast.Style.Failure,\n      title: \"Error\",\n      message: e instanceof Error ? e.message : \"Could not get the selected Finder items\",\n    });\n  }\n}\n", "import { getApplications, showToast, Toast, open } from \"@raycast/api\";\n\nasync function isZipicInstalled() {\n  const applications = await getApplications();\n  return applications.some(({ bundleId }) => bundleId === \"studio.5km.zipic\");\n}\n\nexport async function checkZipicInstallation(): Promise<boolean> {\n  const isInstalled = await isZipicInstalled();\n  if (!isInstalled) {\n    const options: Toast.Options = {\n      style: Toast.Style.Failure,\n      title: \"Zipic is not installed.\",\n      message: \"Install it from: https://zipic.5km.tech\",\n      primaryAction: {\n        title: \"Go to https://zipic.5km.tech\",\n        onAction: (toast) => {\n          open(\"https://zipic.5km.tech\");\n          toast.hide();\n        },\n      },\n    };\n\n    await showToast(options);\n  }\n  return isInstalled;\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAyD,wBACzDC,EAAqB,yBCDrB,IAAAC,EAAwD,wBAExD,eAAeC,GAAmB,CAEhC,OADqB,QAAM,mBAAgB,GACvB,KAAK,CAAC,CAAE,SAAAC,CAAS,IAAMA,IAAa,kBAAkB,CAC5E,CAEA,eAAsBC,GAA2C,CAC/D,IAAMC,EAAc,MAAMH,EAAiB,EAC3C,GAAI,CAACG,EAAa,CAChB,IAAMC,EAAyB,CAC7B,MAAO,QAAM,MAAM,QACnB,MAAO,0BACP,QAAS,0CACT,cAAe,CACb,MAAO,+BACP,SAAWC,GAAU,IACnB,QAAK,wBAAwB,EAC7BA,EAAM,KAAK,CACb,CACF,CACF,EAEA,QAAM,aAAUD,CAAO,CACzB,CACA,OAAOD,CACT,CDtBA,eAAOG,GAA8B,CAEnC,GAAI,CADgB,MAAMC,EAAuB,EAE/C,OAGF,IAAIC,EAEJ,GAAI,CAEF,GADAA,GAAa,QAAM,0BAAuB,GAAG,IAAKC,GAAMA,EAAE,IAAI,EAC1DD,EAAU,OAAS,EAAG,CAIxB,IAAME,EAAM,yBAAyB,mBAAmB,KAAK,UAHhD,CACX,KAAMF,CACR,CAC2E,CAAC,CAAC,GAC7E,QAAM,aAAU,CACd,MAAO,QAAM,MAAM,QACnB,MAAO,4BACT,CAAC,KACD,QAAK,SAASE,CAAG,GAAG,CACtB,MACE,QAAM,aAAU,CACd,MAAO,QAAM,MAAM,QACnB,MAAO,mCACT,CAAC,CAEL,OAAS,EAAG,CACV,QAAM,aAAU,CACd,MAAO,QAAM,MAAM,QACnB,MAAO,QACP,QAAS,aAAa,MAAQ,EAAE,QAAU,yCAC5C,CAAC,CACH,CACF",
  "names": ["compressImages_exports", "__export", "main", "__toCommonJS", "import_api", "import_child_process", "import_api", "isZipicInstalled", "bundleId", "checkZipicInstallation", "isInstalled", "options", "toast", "main", "checkZipicInstallation", "filePaths", "f", "url"]
}
