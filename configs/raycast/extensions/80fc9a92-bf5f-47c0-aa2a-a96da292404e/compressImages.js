"use strict";var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var f=(i,t)=>{for(var e in t)l(i,e,{get:t[e],enumerable:!0})},u=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d(t))!h.call(i,o)&&o!==e&&l(i,o,{get:()=>t[o],enumerable:!(n=m(t,o))||n.enumerable});return i};var y=i=>u(l({},"__esModule",{value:!0}),i);var w={};f(w,{default:()=>p});module.exports=y(w);var s=require("@raycast/api"),r=require("child_process");var a=require("@raycast/api");async function g(){return(await(0,a.getApplications)()).some(({bundleId:t})=>t==="studio.5km.zipic")}async function c(){let i=await g();if(!i){let t={style:a.Toast.Style.Failure,title:"Zipic is not installed.",message:"Install it from: https://zipic.5km.tech",primaryAction:{title:"Go to https://zipic.5km.tech",onAction:e=>{(0,a.open)("https://zipic.5km.tech"),e.hide()}}};await(0,a.showToast)(t)}return i}async function p(){if(!await c())return;let t;try{if(t=(await(0,s.getSelectedFinderItems)()).map(e=>e.path),t.length>0){let n=`zipic://compress?data=${encodeURIComponent(JSON.stringify({urls:t}))}`;await(0,s.showToast)({style:s.Toast.Style.Success,title:"Compressing with CompressX"}),(0,r.exec)(`open "${n}"`)}else await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Warning! No Finder items selected"})}catch(e){await(0,s.showToast)({style:s.Toast.Style.Failure,title:"Error",message:e instanceof Error?e.message:"Could not get the selected Finder items"})}}
