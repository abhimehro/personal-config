"use strict";var $=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var R=Object.prototype.hasOwnProperty;var F=(r,l)=>{for(var s in l)$(r,s,{get:l[s],enumerable:!0})},x=(r,l,s,u)=>{if(l&&typeof l=="object"||typeof l=="function")for(let c of y(l))!R.call(r,c)&&c!==s&&$(r,c,{get:()=>l[c],enumerable:!(u=P(l,c))||u.enumerable});return r};var B=r=>x($({},"__esModule",{value:!0}),r);var S={};F(S,{default:()=>d});module.exports=B(S);var e=require("@raycast/api"),b=require("react"),a=require("react/jsx-runtime");function d({arguments:r}){let[l,s]=(0,b.useState)([]);(0,b.useEffect)(()=>{f(r)},[]);let u=(o,t)=>o/100*t,c=(o,t)=>o/t*100,A=(o,t)=>Math.abs((o-t)/((o+t)/2))*100,h=(o,t)=>(t-o)/o*100,f=o=>{try{let t=parseFloat(o.value1),n=parseFloat(o.value2);if(isNaN(t)||isNaN(n))throw new Error("Invalid numbers");let i=[];i.push({title:`${t}% of ${n}`,value:u(t,n).toFixed(2),subtitle:"Basic Percentage",icon:e.Icon.Calculator,color:e.Color.Blue}),i.push({title:`${n}% of ${t}`,value:u(n,t).toFixed(2),subtitle:"Basic Percentage",icon:e.Icon.Calculator,color:e.Color.Blue}),i.push({title:`${t} is what % of ${n}`,value:`${c(t,n).toFixed(2)}%`,subtitle:"Percentage Ratio",icon:e.Icon.ArrowRight,color:e.Color.Green}),i.push({title:`${n} is what % of ${t}`,value:`${c(n,t).toFixed(2)}%`,subtitle:"Percentage Ratio",icon:e.Icon.ArrowRight,color:e.Color.Green}),i.push({title:"Percentage Difference",value:`${A(t,n).toFixed(2)}%`,subtitle:`Between ${t} and ${n}`,icon:e.Icon.TwoArrowsClockwise,color:e.Color.Orange});let g=h(t,n),m=h(n,t),v=g>=0?"increase":"decrease",w=m>=0?"increase":"decrease";i.push({title:`From ${t} to ${n}`,value:`${Math.abs(g).toFixed(2)}% ${v}`,subtitle:"Percentage Change",icon:g>=0?e.Icon.ArrowUp:e.Icon.ArrowDown,color:g>=0?e.Color.Green:e.Color.Red}),i.push({title:`From ${n} to ${t}`,value:`${Math.abs(m).toFixed(2)}% ${w}`,subtitle:"Percentage Change",icon:m>=0?e.Icon.ArrowUp:e.Icon.ArrowDown,color:m>=0?e.Color.Green:e.Color.Red}),s(i),(0,e.showToast)({style:e.Toast.Style.Success,title:"Calculated",message:"Full stats calculated"})}catch{(0,e.showToast)({style:e.Toast.Style.Failure,title:"Error",message:"Please enter valid numbers"})}},p=async o=>{await e.Clipboard.copy(o),(0,e.showToast)({style:e.Toast.Style.Success,title:"Copied to Clipboard",message:o})},C=()=>{let o=l.map(t=>`${t.title}: ${t.value}`).join(`
`);p(o)};return(0,a.jsx)(e.List,{actions:(0,a.jsx)(e.ActionPanel,{children:(0,a.jsx)(e.Action,{title:"Copy All Results",onAction:C})}),children:l.map((o,t)=>(0,a.jsx)(e.List.Item,{title:o.title,subtitle:o.subtitle,accessoryTitle:o.value,icon:{source:o.icon,tintColor:o.color},actions:(0,a.jsxs)(e.ActionPanel,{children:[(0,a.jsx)(e.Action,{title:"Copy Result",onAction:()=>p(o.value)}),(0,a.jsx)(e.Action,{title:"Copy Full Text",onAction:()=>p(`${o.title}: ${o.value}`)}),(0,a.jsx)(e.Action,{title:"Copy All Results",onAction:C})]})},t))})}
