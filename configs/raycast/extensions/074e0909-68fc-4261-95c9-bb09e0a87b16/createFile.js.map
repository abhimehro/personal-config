{
  "version": 3,
  "sources": ["../src/createFile.tsx", "../src/utils.ts"],
  "sourcesContent": ["import { Toast, showToast, showHUD, getPreferenceValues, LaunchProps } from \"@raycast/api\";\nimport { runAppleScript } from \"./utils\";\n\ninterface Preferences {\n  extensions: string;\n  printSaveDirectory: boolean;\n  closeAfterCreation: boolean;\n}\n\nexport default async (props: LaunchProps<{ arguments: { filename: string } }>) => {\n  const autoOpen: Array<string> = getPreferenceValues<Preferences>().extensions?.trim().split(\",\");\n  const printSaveDirectory: boolean = getPreferenceValues<Preferences>().printSaveDirectory;\n  const closeAfterCreation: boolean = getPreferenceValues<Preferences>().closeAfterCreation;\n\n  const filename: string = props.arguments.filename;\n  const extension: string = filename?.split(\".\").pop() || \"\";\n\n  let script = `\n          if application \"Finder\" is not running then\n  \t        return \"Finder not running\"\n          end if\n\n          tell application \"Finder\"\n            set pathList to (quoted form of POSIX path of (insertion location as alias))\n            \n            if exists (POSIX path of (insertion location as alias)) & \"${filename}\" as POSIX file then\n\t\t          return \"Already exists\"\n\t          end if\n          end tell\n\n          set command to \"touch \" & pathList & \"${filename}\"\n          do shell script command\n\n          return pathList\n      `;\n\n  if (autoOpen !== undefined && (autoOpen.includes(\"*\") || autoOpen.includes(extension))) {\n    script += `\n      set command to \"open \" & pathList & \"${filename}\"\n      do shell script command\n    `;\n  }\n\n  try {\n    const result = (await runAppleScript(script)).trim();\n\n    if (result == \"Already exists\" || result == \"Finder not running\") {\n      await showToast(Toast.Style.Failure, \"File creation error:\", result);\n    } else {\n      if (closeAfterCreation) {\n        if (printSaveDirectory === true) {\n          await showHUD(`\u2705 File created -  ${result.substring(1, result.length - 2)}/${filename}`, {\n            clearRootSearch: true,\n          });\n        } else {\n          await showHUD(\"\u2705 File created\", { clearRootSearch: true });\n        }\n      } else {\n        if (printSaveDirectory === true) {\n          await showToast(Toast.Style.Success, \"File created\", `${result.substring(1, result.length - 2)}/${filename}`);\n        } else {\n          await showToast(Toast.Style.Success, \"File created\");\n        }\n      }\n    }\n  } catch {\n    await showToast(Toast.Style.Failure, \"Something went wrong\");\n  }\n};\n", "import { spawnSync } from \"node:child_process\";\n\nexport async function runAppleScript(script: string) {\n  if (process.platform !== \"darwin\") {\n    throw new Error(\"macOS only\");\n  }\n\n  const locale = process.env.LC_ALL;\n  delete process.env.LC_ALL;\n  const { stdout } = spawnSync(\"osascript\", [\"-e\", script]);\n  process.env.LC_ALL = locale;\n  return stdout.toString();\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAA4E,wBCA5E,IAAAC,EAA0B,8BAE1B,eAAsBC,EAAeC,EAAgB,CACnD,GAAI,QAAQ,WAAa,SACvB,MAAM,IAAI,MAAM,YAAY,EAG9B,IAAMC,EAAS,QAAQ,IAAI,OAC3B,OAAO,QAAQ,IAAI,OACnB,GAAM,CAAE,OAAAC,CAAO,KAAI,aAAU,YAAa,CAAC,KAAMF,CAAM,CAAC,EACxD,eAAQ,IAAI,OAASC,EACdC,EAAO,SAAS,CACzB,CDHA,IAAOC,EAAQ,MAAOC,GAA4D,CAChF,IAAMC,KAA0B,uBAAiC,EAAE,YAAY,KAAK,EAAE,MAAM,GAAG,EACzFC,KAA8B,uBAAiC,EAAE,mBACjEC,KAA8B,uBAAiC,EAAE,mBAEjEC,EAAmBJ,EAAM,UAAU,SACnCK,EAAoBD,GAAU,MAAM,GAAG,EAAE,IAAI,GAAK,GAEpDE,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yEAQ0DF,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,kDAK/BA,CAAQ;AAAA;AAAA;AAAA;AAAA,QAMpDH,IAAa,SAAcA,EAAS,SAAS,GAAG,GAAKA,EAAS,SAASI,CAAS,KAClFC,GAAU;AAAA,6CAC+BF,CAAQ;AAAA;AAAA,OAKnD,GAAI,CACF,IAAMG,GAAU,MAAMC,EAAeF,CAAM,GAAG,KAAK,EAE/CC,GAAU,kBAAoBA,GAAU,qBAC1C,QAAM,aAAU,QAAM,MAAM,QAAS,uBAAwBA,CAAM,EAE/DJ,EACED,IAAuB,GACzB,QAAM,WAAQ,0BAAqBK,EAAO,UAAU,EAAGA,EAAO,OAAS,CAAC,CAAC,IAAIH,CAAQ,GAAI,CACvF,gBAAiB,EACnB,CAAC,EAED,QAAM,WAAQ,sBAAkB,CAAE,gBAAiB,EAAK,CAAC,EAGvDF,IAAuB,GACzB,QAAM,aAAU,QAAM,MAAM,QAAS,eAAgB,GAAGK,EAAO,UAAU,EAAGA,EAAO,OAAS,CAAC,CAAC,IAAIH,CAAQ,EAAE,EAE5G,QAAM,aAAU,QAAM,MAAM,QAAS,cAAc,CAI3D,MAAQ,CACN,QAAM,aAAU,QAAM,MAAM,QAAS,sBAAsB,CAC7D,CACF",
  "names": ["createFile_exports", "__export", "createFile_default", "__toCommonJS", "import_api", "import_node_child_process", "runAppleScript", "script", "locale", "stdout", "createFile_default", "props", "autoOpen", "printSaveDirectory", "closeAfterCreation", "filename", "extension", "script", "result", "runAppleScript"]
}
