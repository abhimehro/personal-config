{
  "version": 3,
  "sources": ["../node_modules/use-interval/src/index.tsx", "../src/start-breathing.tsx"],
  "sourcesContent": ["import { useEffect, useRef } from 'react';\n\n/* istanbul ignore next */\n/** keep typescript happy */\nconst noop = () => {};\n\nexport function useInterval(\n  callback: () => void,\n  delay: number | null | false,\n  immediate?: boolean\n) {\n  const savedCallback = useRef(noop);\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  // Execute callback if immediate is set.\n  useEffect(() => {\n    if (!immediate) return;\n    if (delay === null || delay === false) return;\n    savedCallback.current();\n  }, [immediate]);\n\n  // Set up the interval.\n  useEffect(() => {\n    if (delay === null || delay === false) return undefined;\n    const tick = () => savedCallback.current();\n    const id = setInterval(tick, delay);\n    return () => clearInterval(id);\n  }, [delay]);\n}\n\nexport default useInterval;\n", "import { Detail, environment } from \"@raycast/api\";\nimport { readFileSync } from \"fs\";\nimport { resolve } from \"path\";\nimport { useState } from \"react\";\nimport useInterval from \"use-interval\";\n\nconst FRAMES_COUNT = 16;\nconst FRAME_DELAY = 1000;\n\nexport default function Command() {\n  const [frameIndex, setFrameIndex] = useState(0);\n\n  useInterval(() => {\n    setFrameIndex((prevIndex) => (prevIndex + 1) % FRAMES_COUNT);\n  }, FRAME_DELAY);\n\n  const frame = getFrame(frameIndex);\n\n  const text = `\nStarting square breathing \uD83E\uDEB7\\n\nSuch cycles should be repeated for 1-3 minutes, but preferably 4-5 minutes. This technique is designed to help you relax after a long day, or before/after a challenging task or conversation.\n`;\n\n  return <Detail markdown={`\\`\\`\\`\\n${frame}\\n\\`\\`\\`\\n${text}`} />;\n}\n\nconst frameCache = new Map<number, string>();\n\nfunction getFrame(index: number) {\n  if (frameCache.has(index)) {\n    return frameCache.get(index)!;\n  }\n\n  const file = resolve(environment.assetsPath, \"frames\", `${index}.txt`);\n  const data = readFileSync(file, \"utf8\");\n  const adjustedData = environment.textSize === \"large\" ? reduceWhitespace(data) : data;\n  frameCache.set(index, adjustedData);\n  return adjustedData;\n}\n\nfunction reduceWhitespace(text: string): string {\n  const lines = text.split(\"\\n\");\n  const reducedLines = lines.map((line) => {\n    return line.replace(/^ {0,6}/, \"\");\n  });\n  return reducedLines.join(\"\\n\");\n}\n"],
  "mappings": "qtBAIMA,EAAO,UAAA,CAAA,WAEGC,EACdC,EACAC,EACAC,EAAmB,CAEnB,IAAMC,EAAgBC,EAAAA,OAAON,CAAI,EAGjCO,EAAAA,UAAU,UAAA,CACRF,EAAc,QAAUH,EACzB,EAGDK,EAAAA,UAAU,UAAA,CACHH,IACDD,IAAU,MAAQA,IAAU,IAChCE,EAAc,QAAO,IACpB,CAACD,CAAS,CAAC,EAGdG,EAAAA,UAAU,UAAA,CACR,GAAI,EAAAJ,IAAU,MAAQA,IAAU,IAChC,KAAMK,EAAO,UAAA,CAAM,OAAAH,EAAc,QAAO,CAAE,EACpCI,EAAK,YAAYD,EAAML,CAAK,EAClC,OAAO,UAAA,CAAM,OAAA,cAAcM,CAAE,CAAC,IAC7B,CAACN,CAAK,CAAC,CACZ,+BChCA,IAAAO,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAoC,wBACpCC,EAA6B,cAC7BC,EAAwB,gBACxBC,EAAyB,iBACzBC,EAAwB,OAmBfC,EAAA,6BAjBHC,EAAe,GACfC,EAAc,IAEL,SAART,GAA2B,CAChC,GAAM,CAACU,EAAYC,CAAa,KAAI,YAAS,CAAC,KAE9C,EAAAC,SAAY,IAAM,CAChBD,EAAeE,IAAeA,EAAY,GAAKL,CAAY,CAC7D,EAAGC,CAAW,EAEd,IAAMK,EAAQC,EAASL,CAAU,EAOjC,SAAO,OAAC,UAAO,SAAU;AAAA,EAAWI,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAqB,CAChE,CAEA,IAAME,EAAa,IAAI,IAEvB,SAASD,EAASE,EAAe,CAC/B,GAAID,EAAW,IAAIC,CAAK,EACtB,OAAOD,EAAW,IAAIC,CAAK,EAG7B,IAAMC,KAAO,WAAQ,cAAY,WAAY,SAAU,GAAGD,CAAK,MAAM,EAC/DE,KAAO,gBAAaD,EAAM,MAAM,EAChCE,EAAe,cAAY,WAAa,QAAUC,EAAiBF,CAAI,EAAIA,EACjF,OAAAH,EAAW,IAAIC,EAAOG,CAAY,EAC3BA,CACT,CAEA,SAASC,EAAiBC,EAAsB,CAK9C,OAJcA,EAAK,MAAM;AAAA,CAAI,EACF,IAAKC,GACvBA,EAAK,QAAQ,UAAW,EAAE,CAClC,EACmB,KAAK;AAAA,CAAI,CAC/B",
  "names": ["noop", "useInterval", "callback", "delay", "immediate", "savedCallback", "useRef", "useEffect", "tick", "id", "start_breathing_exports", "__export", "Command", "__toCommonJS", "import_api", "import_fs", "import_path", "import_react", "import_use_interval", "import_jsx_runtime", "FRAMES_COUNT", "FRAME_DELAY", "frameIndex", "setFrameIndex", "useInterval", "prevIndex", "frame", "getFrame", "frameCache", "index", "file", "data", "adjustedData", "reduceWhitespace", "text", "line"]
}
