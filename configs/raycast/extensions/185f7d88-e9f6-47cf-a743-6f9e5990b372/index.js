"use strict";var W=Object.create;var x=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var X=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,Q=Object.prototype.hasOwnProperty;var q=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),v=(t,e)=>{for(var o in e)x(t,o,{get:e[o],enumerable:!0})},E=(t,e,o,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of X(e))!Q.call(t,s)&&s!==o&&x(t,s,{get:()=>e[s],enumerable:!(r=J(e,s))||r.enumerable});return t};var y=(t,e,o)=>(o=t!=null?W(T(t)):{},E(e||!t||!t.__esModule?x(o,"default",{value:t,enumerable:!0}):o,t)),z=t=>E(x({},"__esModule",{value:!0}),t);var _=q((te,j)=>{var{hasOwnProperty:L}=Object.prototype,C=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`,F=(t,e)=>{let o=[],r="";typeof e=="string"?e={section:e,whitespace:!1}:(e=e||Object.create(null),e.whitespace=e.whitespace===!0);let s=e.whitespace?" = ":"=";for(let c of Object.keys(t)){let i=t[c];if(i&&Array.isArray(i))for(let n of i)r+=u(c+"[]")+s+u(n)+C;else i&&typeof i=="object"?o.push(c):r+=u(c)+s+u(i)+C}e.section&&r.length&&(r="["+u(e.section)+"]"+C+r);for(let c of o){let i=I(c).join("\\."),n=(e.section?e.section+".":"")+i,{whitespace:f}=e,p=F(t[c],{section:n,whitespace:f});r.length&&p.length&&(r+=C),r+=p}return r},I=t=>t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(e=>e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")),R=t=>{let e=Object.create(null),o=e,r=null,s=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,c=t.split(/[\r\n]+/g);for(let n of c){if(!n||n.match(/^\s*[;#]/))continue;let f=n.match(s);if(!f)continue;if(f[1]!==void 0){if(r=d(f[1]),r==="__proto__"){o=Object.create(null);continue}o=e[r]=e[r]||Object.create(null);continue}let p=d(f[2]),m=p.length>2&&p.slice(-2)==="[]",a=m?p.slice(0,-2):p;if(a==="__proto__")continue;let g=f[3]?d(f[4]):!0,b=g==="true"||g==="false"||g==="null"?JSON.parse(g):g;m&&(L.call(o,a)?Array.isArray(o[a])||(o[a]=[o[a]]):o[a]=[]),Array.isArray(o[a])?o[a].push(b):o[a]=b}let i=[];for(let n of Object.keys(e)){if(!L.call(e,n)||typeof e[n]!="object"||Array.isArray(e[n]))continue;let f=I(n);o=e;let p=f.pop(),m=p.replace(/\\\./g,".");for(let a of f)a!=="__proto__"&&((!L.call(o,a)||typeof o[a]!="object")&&(o[a]=Object.create(null)),o=o[a]);o===e&&m===p||(o[m]=e[n],i.push(n))}for(let n of i)delete e[n];return e},w=t=>t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"),u=t=>typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&w(t)||t!==t.trim()?JSON.stringify(t):t.split(";").join("\\;").split("#").join("\\#"),d=(t,e)=>{if(t=(t||"").trim(),w(t)){t.charAt(0)==="'"&&(t=t.slice(1,-1));try{t=JSON.parse(t)}catch{}}else{let o=!1,r="";for(let s=0,c=t.length;s<c;s++){let i=t.charAt(s);if(o)"\\;#".indexOf(i)!==-1?r+=i:r+="\\"+i,o=!1;else{if(";#".indexOf(i)!==-1)break;i==="\\"?o=!0:r+=i}}return o&&(r+="\\"),r.trim()}return t};j.exports={parse:R,decode:R,stringify:F,encode:F,safe:u,unsafe:d}});var Z={};v(Z,{default:()=>B});module.exports=z(Z);var l=require("@raycast/api");var A=y(require("fs")),H=y(require("os")),$=y(_()),k=require("path");var S={chromium:[{app:"Google Chrome",type:"CHROMIUM",title:"Google Chrome",path:"/Library/Application Support/Google/Chrome",icon:"chrome.png"},{app:"Google Chrome Dev",type:"CHROMIUM",title:"Google Chrome Dev",path:"/Library/Application Support/Google/Chrome Dev",icon:"chrome-dev.png"},{app:"Google Chrome Canary",type:"CHROMIUM",title:"Google Chrome Canary",path:"/Library/Application Support/Google/Chrome Canary",icon:"canary.png"},{app:"Chromium",type:"CHROMIUM",title:"Chromium",path:"/Library/Application Support/Chromium",icon:"chromium.png"},{app:"Brave Browser",type:"CHROMIUM",title:"Brave",path:"/Library/Application Support/BraveSoftware/Brave-Browser",icon:"brave.png"},{app:"Microsoft Edge",type:"CHROMIUM",title:"Microsoft Edge",path:"/Library/Application Support/Microsoft Edge",icon:"edge.png"},{app:"Microsoft Edge Dev",type:"CHROMIUM",title:"Microsoft Edge Dev",path:"/Library/Application Support/Microsoft Edge Dev",icon:"edge-dev.png"},{app:"Microsoft Edge Canary",type:"CHROMIUM",title:"Microsoft Edge Canary",path:"/Library/Application Support/Microsoft Edge Canary",icon:"edge-canary.png"},{app:"Helium",type:"CHROMIUM",title:"Helium",path:"/Library/Application Support/net.imput.helium",icon:"helium.png"}],firefox:[{app:"/Applications/Firefox.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox",path:"/Library/Application Support/Firefox",icon:"firefox.png"},{app:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox Developer Edition",path:"/Library/Application Support/Firefox",icon:"firefox-dev.png"},{app:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",type:"FIREFOX",title:"Firefox Nightly",path:"/Library/Application Support/Firefox",icon:"firefox-nightly.png"}]};var O=t=>{t.sort((e,o)=>e.name.toLowerCase()<o.name.toLowerCase()?-1:e.name.toLowerCase()>o.name.toLowerCase()?1:0)};var U=()=>{let t=[];return S.firefox.filter(e=>A.default.existsSync(e.app)).forEach(e=>{let o=(0,k.join)(H.default.homedir(),e.path,"profiles.ini");if(!A.default.existsSync(o))return null;let s=A.default.readFileSync(o,"utf-8"),c=$.default.parse(s),i=[];Object.values(c).forEach(n=>{if(!n.Name)return null;i.push({type:e.type,browser:e.title,app:e.app,path:n.Name,name:n.Name,icon:e.icon})}),O(i),t.push({name:e.title,profiles:i})}),t};var M=y(require("fs")),G=y(require("os"));var D=()=>{let t=[];return S.chromium.forEach(e=>{let o=`${G.default.homedir()}${e.path}`;if(!M.default.existsSync(o))return null;let s=`${o}/Local State`;if(!M.default.existsSync(s))return null;let i;try{let p=M.default.readFileSync(s,"utf-8");i=JSON.parse(p)}catch{return null}let n=i?.profile?.info_cache;if(!n)return null;let f=Object.entries(n).map(([p,{name:m}])=>({type:e.type,browser:e.title,app:e.app,path:p,name:m,icon:e.icon}));O(f),t.push({name:e.title,profiles:f})}),t};var P=require("child_process"),N=(t,e,o)=>{t==="FIREFOX"&&Y(e,o),t==="CHROMIUM"&&V(e,o)},V=(t,e)=>{(0,P.exec)(`open -n -a "${t}" --args --profile-directory="${e}"`)},Y=(t,e)=>{(0,P.exec)(`"${t}" -P --no-remote ${e}`)};var h=require("react/jsx-runtime");function B(){let t=D(),e=U(),o=[...t,...e];return(0,h.jsx)(l.List,{children:o.map((r,s)=>(0,h.jsx)(l.List.Section,{title:r.name,children:r.profiles.map((c,i)=>(0,h.jsx)(l.List.Item,{icon:{source:`icons/${c.icon}`},title:c.name,accessories:[{text:"Launch this profile",icon:l.Icon.Globe}],actions:(0,h.jsx)(l.ActionPanel,{children:(0,h.jsx)(l.Action,{title:"Open Browser",onAction:async()=>{N(c.type,c.app,c.path),await(0,l.closeMainWindow)({clearRootSearch:!0})}})})},`firefox-profile-${i}`))},`browser-section-${s}`))})}
