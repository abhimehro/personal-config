{
  "version": 3,
  "sources": ["../src/browse-research-topics.tsx"],
  "sourcesContent": ["import { ActionPanel, Action, List, Icon, confirmAlert, Alert } from \"@raycast/api\";\nimport { environment } from \"@raycast/api\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { useEffect, useState } from \"react\";\n\ninterface ThoughtData {\n  thought: string;\n  thoughtNumber: number;\n  totalThoughts: number;\n  nextThoughtNeeded: boolean;\n  learnings: string[];\n  questions: string[];\n  goals: string[];\n}\n\nfunction formatTitle(filename: string): string {\n  const baseName = path.basename(filename, \".json\");\n  const words = baseName.split(/[-_]/);\n  const title = words.map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(\" \");\n  return title;\n}\n\nexport default function Command() {\n  const supportPath = environment.supportPath;\n  const [files, setFiles] = useState<string[]>([]);\n\n  const loadFiles = () => {\n    const fileList = fs.readdirSync(supportPath).filter((file) => file.endsWith(\".json\"));\n    setFiles(fileList);\n  };\n\n  useEffect(() => {\n    loadFiles();\n  }, [supportPath]);\n\n  const deleteFile = async (file: string) => {\n    const filePath = path.join(supportPath, file);\n    await confirmAlert({\n      title: \"Delete File\",\n      message: `Are you sure you want to delete \"${file}\"?`,\n      icon: Icon.Trash,\n      primaryAction: {\n        title: \"Delete\",\n        style: Alert.ActionStyle.Destructive,\n        onAction: () => {\n          fs.unlinkSync(filePath);\n          loadFiles();\n        },\n      },\n    });\n  };\n\n  return (\n    <List isShowingDetail={files.length != 0}>\n      {files.length === 0 ? (\n        <List.EmptyView\n          icon={Icon.MagnifyingGlass}\n          title=\"No Research\"\n          description=\"Use @research in Raycast AI to get started\"\n        />\n      ) : (\n        files.map((file) => {\n          const filePath = path.join(supportPath, file);\n          const fileContent = fs.readFileSync(filePath, \"utf-8\");\n          const thoughts: ThoughtData[] = fileContent\n            .split(\"\\n\")\n            .filter(Boolean)\n            .map((line) => JSON.parse(line) as ThoughtData);\n\n          return (\n            <List.Item\n              key={file}\n              title={formatTitle(file)}\n              detail={\n                <List.Item.Detail\n                  markdown={`# ${formatTitle(file)}\\n\\`${file}\\`\\n\\n${thoughts\n                    .map((thought) => {\n                      const learnings =\n                        thought.learnings && thought.learnings.length > 0\n                          ? thought.learnings.map((learning) => `- ${learning}`).join(\"\\n\")\n                          : \"> No learnings\";\n                      const questions =\n                        thought.questions && thought.questions.length > 0\n                          ? thought.questions.map((question) => `- ${question}`).join(\"\\n\")\n                          : \"> No questions\";\n                      const goals =\n                        thought.goals && thought.goals.length > 0\n                          ? thought.goals.map((goal) => `- ${goal}`).join(\"\\n\")\n                          : \"> No goals\";\n\n                      return `## Thought ${thought.thoughtNumber}/${thought.totalThoughts}\\n\\n${thought.thought}\\n\\n**Learnings:**\\n${learnings}\\n\\n**Questions:**\\n${questions}\\n\\n**Goals:**\\n${goals}`;\n                    })\n                    .join(\"\\n\\n\")}`}\n                />\n              }\n              actions={\n                <ActionPanel>\n                  <Action.ShowInFinder path={filePath} title=\"Show File in Finder\" />\n                  <Action\n                    title=\"Delete File\"\n                    icon={Icon.Trash}\n                    style={Action.Style.Destructive}\n                    onAction={async () => {\n                      await deleteFile(file);\n                    }}\n                  />\n                </ActionPanel>\n              }\n            />\n          );\n        })\n      )}\n    </List>\n  );\n}\n"],
  "mappings": "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",
  "names": ["browse_research_topics_exports", "__export", "Command", "__toCommonJS", "import_api", "import_fs", "import_path", "import_react", "import_jsx_runtime", "formatTitle", "filename", "path", "word", "supportPath", "files", "setFiles", "loadFiles", "fileList", "fs", "file", "deleteFile", "filePath", "thoughts", "line", "thought", "learnings", "learning", "questions", "question", "goals", "goal"]
}
