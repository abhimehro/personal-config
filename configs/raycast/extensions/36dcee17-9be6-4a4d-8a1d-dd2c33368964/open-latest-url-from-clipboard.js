"use strict";var s=Object.defineProperty;var n=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var c=(o,l)=>{for(var t in l)s(o,t,{get:l[t],enumerable:!0})},u=(o,l,t,a)=>{if(l&&typeof l=="object"||typeof l=="function")for(let i of p(l))!f.call(o,i)&&i!==t&&s(o,i,{get:()=>l[i],enumerable:!(a=n(l,i))||a.enumerable});return o};var w=o=>u(s({},"__esModule",{value:!0}),o);var h={};c(h,{default:()=>r});module.exports=w(h);var e=require("@raycast/api");function d(o){try{let l=new URL(o),t=(0,e.getPreferenceValues)(),a=[];return t.allowHttp&&a.push("http:"),t.allowHttps&&a.push("https:"),t.allowFtp&&a.push("ftp:"),t.allowFile&&a.push("file:"),t.allowMailto&&a.push("mailto:"),t.allowTel&&a.push("tel:"),a.includes(l.protocol)}catch{return!1}}async function r(){await(0,e.closeMainWindow)();for(let o=0;o<=5;o++){let{text:l}=await e.Clipboard.read({offset:o}),t=l?.trim();if(t&&d(t)){await(0,e.open)(t),await(0,e.showToast)(e.Toast.Style.Success,"Opened URL from clipboard",t);return}}await(0,e.showToast)(e.Toast.Style.Failure,"No URL found in the last 5 clipboard history items")}
