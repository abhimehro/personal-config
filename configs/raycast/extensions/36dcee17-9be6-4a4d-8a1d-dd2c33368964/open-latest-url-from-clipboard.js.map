{
  "version": 3,
  "sources": ["../src/open-latest-url-from-clipboard.ts"],
  "sourcesContent": ["import { showToast, Toast, Clipboard, open, closeMainWindow, getPreferenceValues } from \"@raycast/api\";\n\nfunction isValidUrl(url: string): boolean {\n  try {\n    const parsed = new URL(url);\n    const prefs = getPreferenceValues<Preferences.OpenLatestUrlFromClipboard>();\n    const allowedProtocols = [];\n\n    if (prefs.allowHttp) allowedProtocols.push(\"http:\");\n    if (prefs.allowHttps) allowedProtocols.push(\"https:\");\n    if (prefs.allowFtp) allowedProtocols.push(\"ftp:\");\n    if (prefs.allowFile) allowedProtocols.push(\"file:\");\n    if (prefs.allowMailto) allowedProtocols.push(\"mailto:\");\n    if (prefs.allowTel) allowedProtocols.push(\"tel:\");\n    return allowedProtocols.includes(parsed.protocol);\n  } catch {\n    return false;\n  }\n}\n\nexport default async function Main() {\n  await closeMainWindow();\n\n  for (let i = 0; i <= 5; i++) {\n    const { text } = await Clipboard.read({ offset: i });\n    const trimmedText = text?.trim();\n    if (trimmedText && isValidUrl(trimmedText)) {\n      await open(trimmedText);\n      await showToast(Toast.Style.Success, \"Opened URL from clipboard\", trimmedText);\n      return;\n    }\n  }\n  await showToast(Toast.Style.Failure, \"No URL found in the last 5 clipboard history items\");\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAwF,wBAExF,SAASC,EAAWC,EAAsB,CACxC,GAAI,CACF,IAAMC,EAAS,IAAI,IAAID,CAAG,EACpBE,KAAQ,uBAA4D,EACpEC,EAAmB,CAAC,EAE1B,OAAID,EAAM,WAAWC,EAAiB,KAAK,OAAO,EAC9CD,EAAM,YAAYC,EAAiB,KAAK,QAAQ,EAChDD,EAAM,UAAUC,EAAiB,KAAK,MAAM,EAC5CD,EAAM,WAAWC,EAAiB,KAAK,OAAO,EAC9CD,EAAM,aAAaC,EAAiB,KAAK,SAAS,EAClDD,EAAM,UAAUC,EAAiB,KAAK,MAAM,EACzCA,EAAiB,SAASF,EAAO,QAAQ,CAClD,MAAQ,CACN,MAAO,EACT,CACF,CAEA,eAAOL,GAA8B,CACnC,QAAM,mBAAgB,EAEtB,QAASQ,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,GAAM,CAAE,KAAAC,CAAK,EAAI,MAAM,YAAU,KAAK,CAAE,OAAQD,CAAE,CAAC,EAC7CE,EAAcD,GAAM,KAAK,EAC/B,GAAIC,GAAeP,EAAWO,CAAW,EAAG,CAC1C,QAAM,QAAKA,CAAW,EACtB,QAAM,aAAU,QAAM,MAAM,QAAS,4BAA6BA,CAAW,EAC7E,MACF,CACF,CACA,QAAM,aAAU,QAAM,MAAM,QAAS,oDAAoD,CAC3F",
  "names": ["open_latest_url_from_clipboard_exports", "__export", "Main", "__toCommonJS", "import_api", "isValidUrl", "url", "parsed", "prefs", "allowedProtocols", "i", "text", "trimmedText"]
}
