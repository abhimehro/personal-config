{
  "version": 3,
  "sources": ["../node_modules/use-interval/src/index.tsx", "../src/index.tsx"],
  "sourcesContent": ["import { useEffect, useRef } from 'react';\n\n/* istanbul ignore next */\n/** keep typescript happy */\nconst noop = () => {};\n\nexport function useInterval(\n  callback: () => void,\n  delay: number | null | false,\n  immediate?: boolean\n) {\n  const savedCallback = useRef(noop);\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  });\n\n  // Execute callback if immediate is set.\n  useEffect(() => {\n    if (!immediate) return;\n    if (delay === null || delay === false) return;\n    savedCallback.current();\n  }, [immediate]);\n\n  // Set up the interval.\n  useEffect(() => {\n    if (delay === null || delay === false) return undefined;\n    const tick = () => savedCallback.current();\n    const id = setInterval(tick, delay);\n    return () => clearInterval(id);\n  }, [delay]);\n}\n\nexport default useInterval;\n", "import { Detail, environment } from \"@raycast/api\";\nimport { readFileSync } from \"fs\";\nimport { resolve } from \"path\";\nimport { useState } from \"react\";\nimport useInterval from \"use-interval\";\n\nconst FRAMES_COUNT = 9;\nconst FRAME_DELAY = 100;\n\nexport default function Command() {\n  const [frameIndex, setFrameIndex] = useState(0);\n\n  useInterval(() => {\n    setFrameIndex((prevIndex) => (prevIndex + 1) % FRAMES_COUNT);\n  }, FRAME_DELAY);\n\n  const frame = getFrame(frameIndex);\n\n  return <Detail markdown={`\\`\\`\\`\\n\\n\\n${frame}\\n\\n\\`\\`\\``} />;\n}\n\nconst frameCache = new Map<number, string>([]);\n\nfunction getFrame(index: number) {\n  const cachedFrame = frameCache.get(index);\n  if (cachedFrame) {\n    return cachedFrame;\n  }\n\n  const file = resolve(environment.assetsPath, \"frames\", `${index}.txt`);\n  const data = readFileSync(file);\n  const frame = data.toString();\n  frameCache.set(index, frame);\n  return frame;\n}\n"],
  "mappings": "qtBAIMA,EAAO,UAAA,CAAA,WAEGC,EACdC,EACAC,EACAC,EAAmB,CAEnB,IAAMC,EAAgBC,EAAAA,OAAON,CAAI,EAGjCO,EAAAA,UAAU,UAAA,CACRF,EAAc,QAAUH,EACzB,EAGDK,EAAAA,UAAU,UAAA,CACHH,IACDD,IAAU,MAAQA,IAAU,IAChCE,EAAc,QAAO,IACpB,CAACD,CAAS,CAAC,EAGdG,EAAAA,UAAU,UAAA,CACR,GAAI,EAAAJ,IAAU,MAAQA,IAAU,IAChC,KAAMK,EAAO,UAAA,CAAM,OAAAH,EAAc,QAAO,CAAE,EACpCI,EAAK,YAAYD,EAAML,CAAK,EAClC,OAAO,UAAA,CAAM,OAAA,cAAcM,CAAE,CAAC,IAC7B,CAACN,CAAK,CAAC,CACZ,+BChCA,IAAAO,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAoC,wBACpCC,EAA6B,cAC7BC,EAAwB,gBACxBC,EAAyB,iBACzBC,EAAwB,OAcfC,EAAA,6BAZHC,EAAe,EACfC,EAAc,IAEL,SAART,GAA2B,CAChC,GAAM,CAACU,EAAYC,CAAa,KAAI,YAAS,CAAC,KAE9C,EAAAC,SAAY,IAAM,CAChBD,EAAeE,IAAeA,EAAY,GAAKL,CAAY,CAC7D,EAAGC,CAAW,EAEd,IAAMK,EAAQC,EAASL,CAAU,EAEjC,SAAO,OAAC,UAAO,SAAU;AAAA;AAAA;AAAA,EAAeI,CAAK;AAAA;AAAA,QAAc,CAC7D,CAEA,IAAME,EAAa,IAAI,IAAoB,CAAC,CAAC,EAE7C,SAASD,EAASE,EAAe,CAC/B,IAAMC,EAAcF,EAAW,IAAIC,CAAK,EACxC,GAAIC,EACF,OAAOA,EAGT,IAAMC,KAAO,WAAQ,cAAY,WAAY,SAAU,GAAGF,CAAK,MAAM,EAE/DH,KADO,gBAAaK,CAAI,EACX,SAAS,EAC5B,OAAAH,EAAW,IAAIC,EAAOH,CAAK,EACpBA,CACT",
  "names": ["noop", "useInterval", "callback", "delay", "immediate", "savedCallback", "useRef", "useEffect", "tick", "id", "index_exports", "__export", "Command", "__toCommonJS", "import_api", "import_fs", "import_path", "import_react", "import_use_interval", "import_jsx_runtime", "FRAMES_COUNT", "FRAME_DELAY", "frameIndex", "setFrameIndex", "useInterval", "prevIndex", "frame", "getFrame", "frameCache", "index", "cachedFrame", "file"]
}
