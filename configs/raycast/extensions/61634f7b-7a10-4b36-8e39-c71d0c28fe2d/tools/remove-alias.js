"use strict";var u=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var v=(t,e)=>{for(var n in e)u(t,n,{get:e[n],enumerable:!0})},x=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of w(e))!A.call(t,s)&&s!==n&&u(t,s,{get:()=>e[s],enumerable:!(r=$(e,s))||r.enumerable});return t};var y=t=>x(u({},"__esModule",{value:!0}),t);var C={};v(C,{confirmation:()=>F,default:()=>p});module.exports=y(C);var i=require("fs"),m=require("os"),d=require("path");function E(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(){let t=(0,m.homedir)(),e=[".zshrc",".zsh_aliases",".aliases"],n=[],r=/^\s*alias\s+([^=]+)=(['"]?)(.+?)\2\s*$/;for(let s of e){let o=(0,d.join)(t,s);if((0,i.existsSync)(o))try{let c=(0,i.readFileSync)(o,"utf-8").split(`
`);for(let f of c){let l=f.match(r);l&&n.push({name:l[1].trim(),command:l[3].trim(),file:s})}}catch(a){console.error(`Error reading ${s}:`,a)}}return n.sort((s,o)=>s.name.localeCompare(o.name))}function h(t,e){let n=(0,m.homedir)(),r=(0,d.join)(n,e);if(!(0,i.existsSync)(r))throw new Error(`Configuration file ${e} not found`);try{let o=(0,i.readFileSync)(r,"utf-8").split(`
`),a=new RegExp(`^\\s*alias\\s+${E(t)}=`),c=!1,f=o.filter(l=>a.test(l)?(c=!0,!1):!0);return c?((0,i.writeFileSync)(r,f.join(`
`)),!0):!1}catch(s){throw new Error(`Failed to remove alias from ${e}: ${s}`)}}var F=async t=>{let{name:e,configFile:n}=t,s=g().find(o=>o.name===e&&(!n||o.file===n));return s?{message:`Are you sure you want to remove the alias '${e}'?`,info:[{name:"Alias",value:s.name},{name:"Command",value:s.command},{name:"File",value:s.file}]}:{message:`Alias '${e}' not found${n?` in ${n}`:""}`}};function p(t){try{let{name:e,configFile:n}=t;if(n)return h(e,n)?{success:!0,message:`Alias '${e}' removed successfully from ${n}`,aliasName:e,configFile:n}:{success:!1,message:`Alias '${e}' not found in ${n}`};let s=g().find(a=>a.name===e);return s?h(e,s.file)?{success:!0,message:`Alias '${e}' removed successfully from ${s.file}`,aliasName:e,configFile:s.file}:{success:!1,message:`Failed to remove alias '${e}' from ${s.file}`}:{success:!1,message:`Alias '${e}' not found`}}catch(e){return{success:!1,message:`Failed to remove alias: ${e instanceof Error?e.message:"Unknown error"}`}}}0&&(module.exports={confirmation});
