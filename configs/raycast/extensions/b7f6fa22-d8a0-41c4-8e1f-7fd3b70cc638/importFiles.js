"use strict";var r=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var f=(o,t)=>{for(var a in t)r(o,a,{get:t[a],enumerable:!0})},u=(o,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of h(t))!d.call(o,i)&&i!==a&&r(o,i,{get:()=>t[i],enumerable:!(n=m(t,i))||n.enumerable});return o};var y=o=>u(r({},"__esModule",{value:!0}),o);var I={};f(I,{default:()=>c});module.exports=y(I);var e=require("@raycast/api"),l=require("child_process");var s=require("@raycast/api");async function w(){return(await(0,s.getApplications)()).some(({bundleId:t})=>t==="com.hieudinh.CompressX")}async function p(){let o=await w();if(!o){let t={style:s.Toast.Style.Failure,title:"Compresto is not installed.",message:"Install it from: https://compresto.app",primaryAction:{title:"Go to https://compresto.app",onAction:a=>{(0,s.open)("https://compresto.app"),a.hide()}}};await(0,s.showToast)(t)}return o}async function c(){if(await p())try{let n=`compresto://import?path=${(await(0,e.getSelectedFinderItems)()).map(i=>i.path).join("|")}`;(0,l.exec)(`open "${n}"`),await(0,e.showToast)({style:e.Toast.Style.Success,title:"imported into Compresto"})}catch(t){await(0,e.showToast)({style:e.Toast.Style.Failure,title:"Error",message:t instanceof Error?t.message:"Could not get the selected Finder items"})}}
