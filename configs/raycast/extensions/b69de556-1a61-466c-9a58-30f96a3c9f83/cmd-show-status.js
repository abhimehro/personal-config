"use strict";var _r=Object.create;var ht=Object.defineProperty;var Lr=Object.getOwnPropertyDescriptor;var Ar=Object.getOwnPropertyNames;var Mr=Object.getPrototypeOf,vr=Object.prototype.hasOwnProperty;var X=(h,o)=>()=>(o||h((o={exports:{}}).exports,o),o.exports),Sr=(h,o)=>{for(var E in o)ht(h,E,{get:o[E],enumerable:!0})},zt=(h,o,E,b)=>{if(o&&typeof o=="object"||typeof o=="function")for(let c of Ar(o))!vr.call(h,c)&&c!==E&&ht(h,c,{get:()=>o[c],enumerable:!(b=Lr(o,c))||b.enumerable});return h};var Kt=(h,o,E)=>(E=h!=null?_r(Mr(h)):{},zt(o||!h||!h.__esModule?ht(E,"default",{value:h,enumerable:!0}):E,h)),xr=h=>zt(ht({},"__esModule",{value:!0}),h);var ft=X(At=>{(function(){At.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(At)});var Q=X(($t,et)=>{(function(){var h,o,E,b,c,g,s,l=[].slice,d={}.hasOwnProperty;h=function(){var w,O,I,m,f,y;if(y=arguments[0],f=2<=arguments.length?l.call(arguments,1):[],c(Object.assign))Object.assign.apply(null,arguments);else for(w=0,I=f.length;w<I;w++)if(m=f[w],m!=null)for(O in m)d.call(m,O)&&(y[O]=m[O]);return y},c=function(w){return!!w&&Object.prototype.toString.call(w)==="[object Function]"},g=function(w){var O;return!!w&&((O=typeof w)=="function"||O==="object")},E=function(w){return c(Array.isArray)?Array.isArray(w):Object.prototype.toString.call(w)==="[object Array]"},b=function(w){var O;if(E(w))return!w.length;for(O in w)if(d.call(w,O))return!1;return!0},s=function(w){var O,I;return g(w)&&(I=Object.getPrototypeOf(w))&&(O=I.constructor)&&typeof O=="function"&&O instanceof O&&Function.prototype.toString.call(O)===Function.prototype.toString.call(Object)},o=function(w){return c(w.valueOf)?w.valueOf():w},et.exports.assign=h,et.exports.isFunction=c,et.exports.isObject=g,et.exports.isArray=E,et.exports.isEmpty=b,et.exports.isPlainObject=s,et.exports.getValue=o}).call($t)});var Mt=X((Ht,Qt)=>{(function(){var h;Qt.exports=h=(function(){function o(){}return o.prototype.hasFeature=function(E,b){return!0},o.prototype.createDocumentType=function(E,b,c){throw new Error("This DOM method is not implemented.")},o.prototype.createDocument=function(E,b,c){throw new Error("This DOM method is not implemented.")},o.prototype.createHTMLDocument=function(E){throw new Error("This DOM method is not implemented.")},o.prototype.getFeature=function(E,b){throw new Error("This DOM method is not implemented.")},o})()}).call(Ht)});var te=X((Zt,Jt)=>{(function(){var h;Jt.exports=h=(function(){function o(){}return o.prototype.handleError=function(E){throw new Error(E)},o})()}).call(Zt)});var ie=X((ee,re)=>{(function(){var h;re.exports=h=(function(){function o(E){this.arr=E||[]}return Object.defineProperty(o.prototype,"length",{get:function(){return this.arr.length}}),o.prototype.item=function(E){return this.arr[E]||null},o.prototype.contains=function(E){return this.arr.indexOf(E)!==-1},o})()}).call(ee)});var se=X((ne,oe)=>{(function(){var h,o,E;o=te(),E=ie(),oe.exports=h=(function(){function b(){var c;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new o,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=c=Object.create(this.defaultParams)}return Object.defineProperty(b.prototype,"parameterNames",{get:function(){return new E(Object.keys(this.defaultParams))}}),b.prototype.getParameter=function(c){return this.params.hasOwnProperty(c)?this.params[c]:null},b.prototype.canSetParameter=function(c,g){return!0},b.prototype.setParameter=function(c,g){return g!=null?this.params[c]=g:delete this.params[c]},b})()}).call(ne)});var k=X((ue,ae)=>{(function(){ae.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(ue)});var vt=X((ce,le)=>{(function(){var h,o,E;h=k(),E=$(),le.exports=o=(function(){function b(c,g,s){if(this.parent=c,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),g==null)throw new Error("Missing attribute name. "+this.debugInfo(g));this.name=this.stringify.name(g),this.value=this.stringify.attValue(s),this.type=h.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(b.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(b.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(b.prototype,"textContent",{get:function(){return this.value},set:function(c){return this.value=c||""}}),Object.defineProperty(b.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(b.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(b.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(b.prototype,"specified",{get:function(){return!0}}),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(c){return this.options.writer.attribute(this,this.options.writer.filterOptions(c))},b.prototype.debugInfo=function(c){return c=c||this.name,c==null?"parent: <"+this.parent.name+">":"attribute: {"+c+"}, parent: <"+this.parent.name+">"},b.prototype.isEqualNode=function(c){return!(c.namespaceURI!==this.namespaceURI||c.prefix!==this.prefix||c.localName!==this.localName||c.value!==this.value)},b})()}).call(ce)});var pt=X((he,fe)=>{(function(){var h;fe.exports=h=(function(){function o(E){this.nodes=E}return Object.defineProperty(o.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),o.prototype.clone=function(){return this.nodes=null},o.prototype.getNamedItem=function(E){return this.nodes[E]},o.prototype.setNamedItem=function(E){var b;return b=this.nodes[E.nodeName],this.nodes[E.nodeName]=E,b||null},o.prototype.removeNamedItem=function(E){var b;return b=this.nodes[E],delete this.nodes[E],b||null},o.prototype.item=function(E){return this.nodes[Object.keys(this.nodes)[E]]||null},o.prototype.getNamedItemNS=function(E,b){throw new Error("This DOM method is not implemented.")},o.prototype.setNamedItemNS=function(E){throw new Error("This DOM method is not implemented.")},o.prototype.removeNamedItemNS=function(E,b){throw new Error("This DOM method is not implemented.")},o})()}).call(he)});var dt=X((pe,de)=>{(function(){var h,o,E,b,c,g,s,l,d,w=function(I,m){for(var f in m)O.call(m,f)&&(I[f]=m[f]);function y(){this.constructor=I}return y.prototype=m.prototype,I.prototype=new y,I.__super__=m.prototype,I},O={}.hasOwnProperty;d=Q(),l=d.isObject,s=d.isFunction,g=d.getValue,c=$(),h=k(),o=vt(),b=pt(),de.exports=E=(function(I){w(m,I);function m(f,y,T){var v,A,P,a;if(m.__super__.constructor.call(this,f),y==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(y),this.type=h.Element,this.attribs={},this.schemaTypeInfo=null,T!=null&&this.attribute(T),f.type===h.Document&&(this.isRoot=!0,this.documentObject=f,f.rootObject=this,f.children)){for(a=f.children,A=0,P=a.length;A<P;A++)if(v=a[A],v.type===h.DocType){v.name=this.name;break}}}return Object.defineProperty(m.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(m.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(m.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(m.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(m.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(m.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new b(this.attribs)),this.attributeMap}}),m.prototype.clone=function(){var f,y,T,v;T=Object.create(this),T.isRoot&&(T.documentObject=null),T.attribs={},v=this.attribs;for(y in v)O.call(v,y)&&(f=v[y],T.attribs[y]=f.clone());return T.children=[],this.children.forEach(function(A){var P;return P=A.clone(),P.parent=T,T.children.push(P)}),T},m.prototype.attribute=function(f,y){var T,v;if(f!=null&&(f=g(f)),l(f))for(T in f)O.call(f,T)&&(v=f[T],this.attribute(T,v));else s(y)&&(y=y.apply()),this.options.keepNullAttributes&&y==null?this.attribs[f]=new o(this,f,""):y!=null&&(this.attribs[f]=new o(this,f,y));return this},m.prototype.removeAttribute=function(f){var y,T,v;if(f==null)throw new Error("Missing attribute name. "+this.debugInfo());if(f=g(f),Array.isArray(f))for(T=0,v=f.length;T<v;T++)y=f[T],delete this.attribs[y];else delete this.attribs[f];return this},m.prototype.toString=function(f){return this.options.writer.element(this,this.options.writer.filterOptions(f))},m.prototype.att=function(f,y){return this.attribute(f,y)},m.prototype.a=function(f,y){return this.attribute(f,y)},m.prototype.getAttribute=function(f){return this.attribs.hasOwnProperty(f)?this.attribs[f].value:null},m.prototype.setAttribute=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getAttributeNode=function(f){return this.attribs.hasOwnProperty(f)?this.attribs[f]:null},m.prototype.setAttributeNode=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.removeAttributeNode=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagName=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getAttributeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setAttributeNS=function(f,y,T){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.removeAttributeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getAttributeNodeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setAttributeNodeNS=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagNameNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.hasAttribute=function(f){return this.attribs.hasOwnProperty(f)},m.prototype.hasAttributeNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setIdAttribute=function(f,y){return this.attribs.hasOwnProperty(f)?this.attribs[f].isId:y},m.prototype.setIdAttributeNS=function(f,y,T){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.setIdAttributeNode=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagName=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByTagNameNS=function(f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.getElementsByClassName=function(f){throw new Error("This DOM method is not implemented."+this.debugInfo())},m.prototype.isEqualNode=function(f){var y,T,v;if(!m.__super__.isEqualNode.apply(this,arguments).isEqualNode(f)||f.namespaceURI!==this.namespaceURI||f.prefix!==this.prefix||f.localName!==this.localName||f.attribs.length!==this.attribs.length)return!1;for(y=T=0,v=this.attribs.length-1;0<=v?T<=v:T>=v;y=0<=v?++T:--T)if(!this.attribs[y].isEqualNode(f.attribs[y]))return!1;return!0},m})(c)}).call(pe)});var ut=X((me,ye)=>{(function(){var h,o,E=function(c,g){for(var s in g)b.call(g,s)&&(c[s]=g[s]);function l(){this.constructor=c}return l.prototype=g.prototype,c.prototype=new l,c.__super__=g.prototype,c},b={}.hasOwnProperty;o=$(),ye.exports=h=(function(c){E(g,c);function g(s){g.__super__.constructor.call(this,s),this.value=""}return Object.defineProperty(g.prototype,"data",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(g.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(g.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),g.prototype.clone=function(){return Object.create(this)},g.prototype.substringData=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.appendData=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.insertData=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.deleteData=function(s,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.replaceData=function(s,l,d){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.isEqualNode=function(s){return!(!g.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.data!==this.data)},g})(o)}).call(me)});var mt=X((ge,we)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;h=k(),E=ut(),we.exports=o=(function(g){b(s,g);function s(l,d){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=h.CData,this.value=this.stringify.cdata(d)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(l){return this.options.writer.cdata(this,this.options.writer.filterOptions(l))},s})(E)}).call(ge)});var yt=X((Te,De)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;h=k(),o=ut(),De.exports=E=(function(g){b(s,g);function s(l,d){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=h.Comment,this.value=this.stringify.comment(d)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(l){return this.options.writer.comment(this,this.options.writer.filterOptions(l))},s})(o)}).call(Te)});var gt=X((be,Ee)=>{(function(){var h,o,E,b,c=function(s,l){for(var d in l)g.call(l,d)&&(s[d]=l[d]);function w(){this.constructor=s}return w.prototype=l.prototype,s.prototype=new w,s.__super__=l.prototype,s},g={}.hasOwnProperty;b=Q().isObject,E=$(),h=k(),Ee.exports=o=(function(s){c(l,s);function l(d,w,O,I){var m;l.__super__.constructor.call(this,d),b(w)&&(m=w,w=m.version,O=m.encoding,I=m.standalone),w||(w="1.0"),this.type=h.Declaration,this.version=this.stringify.xmlVersion(w),O!=null&&(this.encoding=this.stringify.xmlEncoding(O)),I!=null&&(this.standalone=this.stringify.xmlStandalone(I))}return l.prototype.toString=function(d){return this.options.writer.declaration(this,this.options.writer.filterOptions(d))},l})(E)}).call(be)});var wt=X((Ne,Ie)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;E=$(),h=k(),Ie.exports=o=(function(g){b(s,g);function s(l,d,w,O,I,m){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(w==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(d));if(!O)throw new Error("Missing DTD attribute type. "+this.debugInfo(d));if(!I)throw new Error("Missing DTD attribute default. "+this.debugInfo(d));if(I.indexOf("#")!==0&&(I="#"+I),!I.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(d));if(m&&!I.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(d));this.elementName=this.stringify.name(d),this.type=h.AttributeDeclaration,this.attributeName=this.stringify.name(w),this.attributeType=this.stringify.dtdAttType(O),m&&(this.defaultValue=this.stringify.dtdAttDefault(m)),this.defaultValueType=I}return s.prototype.toString=function(l){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(l))},s})(E)}).call(Ne)});var Tt=X((Oe,Pe)=>{(function(){var h,o,E,b,c=function(s,l){for(var d in l)g.call(l,d)&&(s[d]=l[d]);function w(){this.constructor=s}return w.prototype=l.prototype,s.prototype=new w,s.__super__=l.prototype,s},g={}.hasOwnProperty;b=Q().isObject,E=$(),h=k(),Pe.exports=o=(function(s){c(l,s);function l(d,w,O,I){if(l.__super__.constructor.call(this,d),O==null)throw new Error("Missing DTD entity name. "+this.debugInfo(O));if(I==null)throw new Error("Missing DTD entity value. "+this.debugInfo(O));if(this.pe=!!w,this.name=this.stringify.name(O),this.type=h.EntityDeclaration,!b(I))this.value=this.stringify.dtdEntityValue(I),this.internal=!0;else{if(!I.pubID&&!I.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(O));if(I.pubID&&!I.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(O));if(this.internal=!1,I.pubID!=null&&(this.pubID=this.stringify.dtdPubID(I.pubID)),I.sysID!=null&&(this.sysID=this.stringify.dtdSysID(I.sysID)),I.nData!=null&&(this.nData=this.stringify.dtdNData(I.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(O))}}return Object.defineProperty(l.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(l.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(l.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(l.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(l.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(l.prototype,"xmlVersion",{get:function(){return null}}),l.prototype.toString=function(d){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(d))},l})(E)}).call(Oe)});var Dt=X((Ce,_e)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;E=$(),h=k(),_e.exports=o=(function(g){b(s,g);function s(l,d,w){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing DTD element name. "+this.debugInfo());w||(w="(#PCDATA)"),Array.isArray(w)&&(w="("+w.join(",")+")"),this.name=this.stringify.name(d),this.type=h.ElementDeclaration,this.value=this.stringify.dtdElementValue(w)}return s.prototype.toString=function(l){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(l))},s})(E)}).call(Ce)});var bt=X((Le,Ae)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;E=$(),h=k(),Ae.exports=o=(function(g){b(s,g);function s(l,d,w){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing DTD notation name. "+this.debugInfo(d));if(!w.pubID&&!w.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(d));this.name=this.stringify.name(d),this.type=h.NotationDeclaration,w.pubID!=null&&(this.pubID=this.stringify.dtdPubID(w.pubID)),w.sysID!=null&&(this.sysID=this.stringify.dtdSysID(w.sysID))}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),s.prototype.toString=function(l){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(l))},s})(E)}).call(Le)});var Et=X((Me,ve)=>{(function(){var h,o,E,b,c,g,s,l,d,w=function(I,m){for(var f in m)O.call(m,f)&&(I[f]=m[f]);function y(){this.constructor=I}return y.prototype=m.prototype,I.prototype=new y,I.__super__=m.prototype,I},O={}.hasOwnProperty;d=Q().isObject,l=$(),h=k(),o=wt(),b=Tt(),E=Dt(),c=bt(),s=pt(),ve.exports=g=(function(I){w(m,I);function m(f,y,T){var v,A,P,a,r,e;if(m.__super__.constructor.call(this,f),this.type=h.DocType,f.children){for(a=f.children,A=0,P=a.length;A<P;A++)if(v=a[A],v.type===h.Element){this.name=v.name;break}}this.documentObject=f,d(y)&&(r=y,y=r.pubID,T=r.sysID),T==null&&(e=[y,T],T=e[0],y=e[1]),y!=null&&(this.pubID=this.stringify.dtdPubID(y)),T!=null&&(this.sysID=this.stringify.dtdSysID(T))}return Object.defineProperty(m.prototype,"entities",{get:function(){var f,y,T,v,A;for(v={},A=this.children,y=0,T=A.length;y<T;y++)f=A[y],f.type===h.EntityDeclaration&&!f.pe&&(v[f.name]=f);return new s(v)}}),Object.defineProperty(m.prototype,"notations",{get:function(){var f,y,T,v,A;for(v={},A=this.children,y=0,T=A.length;y<T;y++)f=A[y],f.type===h.NotationDeclaration&&(v[f.name]=f);return new s(v)}}),Object.defineProperty(m.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(m.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(m.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),m.prototype.element=function(f,y){var T;return T=new E(this,f,y),this.children.push(T),this},m.prototype.attList=function(f,y,T,v,A){var P;return P=new o(this,f,y,T,v,A),this.children.push(P),this},m.prototype.entity=function(f,y){var T;return T=new b(this,!1,f,y),this.children.push(T),this},m.prototype.pEntity=function(f,y){var T;return T=new b(this,!0,f,y),this.children.push(T),this},m.prototype.notation=function(f,y){var T;return T=new c(this,f,y),this.children.push(T),this},m.prototype.toString=function(f){return this.options.writer.docType(this,this.options.writer.filterOptions(f))},m.prototype.ele=function(f,y){return this.element(f,y)},m.prototype.att=function(f,y,T,v,A){return this.attList(f,y,T,v,A)},m.prototype.ent=function(f,y){return this.entity(f,y)},m.prototype.pent=function(f,y){return this.pEntity(f,y)},m.prototype.not=function(f,y){return this.notation(f,y)},m.prototype.up=function(){return this.root()||this.documentObject},m.prototype.isEqualNode=function(f){return!(!m.__super__.isEqualNode.apply(this,arguments).isEqualNode(f)||f.name!==this.name||f.publicId!==this.publicId||f.systemId!==this.systemId)},m})(l)}).call(Me)});var Nt=X((Se,xe)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;h=k(),o=$(),xe.exports=E=(function(g){b(s,g);function s(l,d){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=h.Raw,this.value=this.stringify.raw(d)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(l){return this.options.writer.raw(this,this.options.writer.filterOptions(l))},s})(o)}).call(Se)});var It=X((Fe,Xe)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;h=k(),o=ut(),Xe.exports=E=(function(g){b(s,g);function s(l,d){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=h.Text,this.value=this.stringify.text(d)}return Object.defineProperty(s.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"wholeText",{get:function(){var l,d,w;for(w="",d=this.previousSibling;d;)w=d.data+w,d=d.previousSibling;for(w+=this.data,l=this.nextSibling;l;)w=w+l.data,l=l.nextSibling;return w}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(l){return this.options.writer.text(this,this.options.writer.filterOptions(l))},s.prototype.splitText=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceWholeText=function(l){throw new Error("This DOM method is not implemented."+this.debugInfo())},s})(o)}).call(Fe)});var Ot=X((qe,Re)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;h=k(),o=ut(),Re.exports=E=(function(g){b(s,g);function s(l,d,w){if(s.__super__.constructor.call(this,l),d==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=h.ProcessingInstruction,this.target=this.stringify.insTarget(d),this.name=this.target,w&&(this.value=this.stringify.insValue(w))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(l){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(l))},s.prototype.isEqualNode=function(l){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(l)||l.target!==this.target)},s})(o)}).call(qe)});var St=X((Be,je)=>{(function(){var h,o,E,b=function(g,s){for(var l in s)c.call(s,l)&&(g[l]=s[l]);function d(){this.constructor=g}return d.prototype=s.prototype,g.prototype=new d,g.__super__=s.prototype,g},c={}.hasOwnProperty;E=$(),h=k(),je.exports=o=(function(g){b(s,g);function s(l){s.__super__.constructor.call(this,l),this.type=h.Dummy}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(l){return""},s})(E)}).call(Be)});var Ve=X((ke,Ue)=>{(function(){var h;Ue.exports=h=(function(){function o(E){this.nodes=E}return Object.defineProperty(o.prototype,"length",{get:function(){return this.nodes.length||0}}),o.prototype.clone=function(){return this.nodes=null},o.prototype.item=function(E){return this.nodes[E]||null},o})()}).call(ke)});var Ye=X((Ge,We)=>{(function(){We.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(Ge)});var $=X((ze,Ke)=>{(function(){var h,o,E,b,c,g,s,l,d,w,O,I,m,f,y,T,v,A,P,a={}.hasOwnProperty;P=Q(),A=P.isObject,v=P.isFunction,T=P.isEmpty,y=P.getValue,l=null,E=null,b=null,c=null,g=null,m=null,f=null,I=null,s=null,o=null,O=null,d=null,h=null,Ke.exports=w=(function(){function r(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,l||(l=dt(),E=mt(),b=yt(),c=gt(),g=Et(),m=Nt(),f=It(),I=Ot(),s=St(),o=k(),O=Ve(),d=pt(),h=Ye())}return Object.defineProperty(r.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(r.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(r.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new O(this.children)),this.childNodeList}}),Object.defineProperty(r.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(r.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(r.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(r.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(r.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(r.prototype,"textContent",{get:function(){var e,u,C,i,_;if(this.nodeType===o.Element||this.nodeType===o.DocumentFragment){for(_="",i=this.children,u=0,C=i.length;u<C;u++)e=i[u],e.textContent&&(_+=e.textContent);return _}else return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),r.prototype.setParent=function(e){var u,C,i,_,p;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),_=this.children,p=[],C=0,i=_.length;C<i;C++)u=_[C],p.push(u.setParent(this));return p},r.prototype.element=function(e,u,C){var i,_,p,N,M,S,q,R,x,U,B;if(S=null,u===null&&C==null&&(x=[{},null],u=x[0],C=x[1]),u==null&&(u={}),u=y(u),A(u)||(U=[u,C],C=U[0],u=U[1]),e!=null&&(e=y(e)),Array.isArray(e))for(p=0,q=e.length;p<q;p++)_=e[p],S=this.element(_);else if(v(e))S=this.element(e.apply());else if(A(e)){for(M in e)if(a.call(e,M))if(B=e[M],v(B)&&(B=B.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&M.indexOf(this.stringify.convertAttKey)===0)S=this.attribute(M.substr(this.stringify.convertAttKey.length),B);else if(!this.options.separateArrayItems&&Array.isArray(B)&&T(B))S=this.dummy();else if(A(B)&&T(B))S=this.element(M);else if(!this.options.keepNullNodes&&B==null)S=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(B))for(N=0,R=B.length;N<R;N++)_=B[N],i={},i[M]=_,S=this.element(i);else A(B)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&M.indexOf(this.stringify.convertTextKey)===0?S=this.element(B):(S=this.element(M),S.element(B)):S=this.element(M,B)}else!this.options.keepNullNodes&&C===null?S=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&e.indexOf(this.stringify.convertTextKey)===0?S=this.text(C):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&e.indexOf(this.stringify.convertCDataKey)===0?S=this.cdata(C):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&e.indexOf(this.stringify.convertCommentKey)===0?S=this.comment(C):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&e.indexOf(this.stringify.convertRawKey)===0?S=this.raw(C):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&e.indexOf(this.stringify.convertPIKey)===0?S=this.instruction(e.substr(this.stringify.convertPIKey.length),C):S=this.node(e,u,C);if(S==null)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return S},r.prototype.insertBefore=function(e,u,C){var i,_,p,N,M;if(e?.type)return p=e,N=u,p.setParent(this),N?(_=children.indexOf(N),M=children.splice(_),children.push(p),Array.prototype.push.apply(children,M)):children.push(p),p;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return _=this.parent.children.indexOf(this),M=this.parent.children.splice(_),i=this.parent.element(e,u,C),Array.prototype.push.apply(this.parent.children,M),i},r.prototype.insertAfter=function(e,u,C){var i,_,p;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return _=this.parent.children.indexOf(this),p=this.parent.children.splice(_+1),i=this.parent.element(e,u,C),Array.prototype.push.apply(this.parent.children,p),i},r.prototype.remove=function(){var e,u;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat(u=[])),this.parent},r.prototype.node=function(e,u,C){var i,_;return e!=null&&(e=y(e)),u||(u={}),u=y(u),A(u)||(_=[u,C],C=_[0],u=_[1]),i=new l(this,e,u),C!=null&&i.text(C),this.children.push(i),i},r.prototype.text=function(e){var u;return A(e)&&this.element(e),u=new f(this,e),this.children.push(u),this},r.prototype.cdata=function(e){var u;return u=new E(this,e),this.children.push(u),this},r.prototype.comment=function(e){var u;return u=new b(this,e),this.children.push(u),this},r.prototype.commentBefore=function(e){var u,C,i;return C=this.parent.children.indexOf(this),i=this.parent.children.splice(C),u=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,i),this},r.prototype.commentAfter=function(e){var u,C,i;return C=this.parent.children.indexOf(this),i=this.parent.children.splice(C+1),u=this.parent.comment(e),Array.prototype.push.apply(this.parent.children,i),this},r.prototype.raw=function(e){var u;return u=new m(this,e),this.children.push(u),this},r.prototype.dummy=function(){var e;return e=new s(this),e},r.prototype.instruction=function(e,u){var C,i,_,p,N;if(e!=null&&(e=y(e)),u!=null&&(u=y(u)),Array.isArray(e))for(p=0,N=e.length;p<N;p++)C=e[p],this.instruction(C);else if(A(e))for(C in e)a.call(e,C)&&(i=e[C],this.instruction(C,i));else v(u)&&(u=u.apply()),_=new I(this,e,u),this.children.push(_);return this},r.prototype.instructionBefore=function(e,u){var C,i,_;return i=this.parent.children.indexOf(this),_=this.parent.children.splice(i),C=this.parent.instruction(e,u),Array.prototype.push.apply(this.parent.children,_),this},r.prototype.instructionAfter=function(e,u){var C,i,_;return i=this.parent.children.indexOf(this),_=this.parent.children.splice(i+1),C=this.parent.instruction(e,u),Array.prototype.push.apply(this.parent.children,_),this},r.prototype.declaration=function(e,u,C){var i,_;return i=this.document(),_=new c(i,e,u,C),i.children.length===0?i.children.unshift(_):i.children[0].type===o.Declaration?i.children[0]=_:i.children.unshift(_),i.root()||i},r.prototype.dtd=function(e,u){var C,i,_,p,N,M,S,q,R,x;for(i=this.document(),_=new g(i,e,u),R=i.children,p=N=0,S=R.length;N<S;p=++N)if(C=R[p],C.type===o.DocType)return i.children[p]=_,_;for(x=i.children,p=M=0,q=x.length;M<q;p=++M)if(C=x[p],C.isRoot)return i.children.splice(p,0,_),_;return i.children.push(_),_},r.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},r.prototype.root=function(){var e;for(e=this;e;){if(e.type===o.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},r.prototype.document=function(){var e;for(e=this;e;){if(e.type===o.Document)return e;e=e.parent}},r.prototype.end=function(e){return this.document().end(e)},r.prototype.prev=function(){var e;if(e=this.parent.children.indexOf(this),e<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},r.prototype.next=function(){var e;if(e=this.parent.children.indexOf(this),e===-1||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},r.prototype.importDocument=function(e){var u;return u=e.root().clone(),u.parent=this,u.isRoot=!1,this.children.push(u),this},r.prototype.debugInfo=function(e){var u,C;return e=e||this.name,e==null&&!((u=this.parent)!=null&&u.name)?"":e==null?"parent: <"+this.parent.name+">":(C=this.parent)!=null&&C.name?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">"},r.prototype.ele=function(e,u,C){return this.element(e,u,C)},r.prototype.nod=function(e,u,C){return this.node(e,u,C)},r.prototype.txt=function(e){return this.text(e)},r.prototype.dat=function(e){return this.cdata(e)},r.prototype.com=function(e){return this.comment(e)},r.prototype.ins=function(e,u){return this.instruction(e,u)},r.prototype.doc=function(){return this.document()},r.prototype.dec=function(e,u,C){return this.declaration(e,u,C)},r.prototype.e=function(e,u,C){return this.element(e,u,C)},r.prototype.n=function(e,u,C){return this.node(e,u,C)},r.prototype.t=function(e){return this.text(e)},r.prototype.d=function(e){return this.cdata(e)},r.prototype.c=function(e){return this.comment(e)},r.prototype.r=function(e){return this.raw(e)},r.prototype.i=function(e,u){return this.instruction(e,u)},r.prototype.u=function(){return this.up()},r.prototype.importXMLBuilder=function(e){return this.importDocument(e)},r.prototype.replaceChild=function(e,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.hasChildNodes=function(){return this.children.length!==0},r.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isSupported=function(e,u){return!0},r.prototype.hasAttributes=function(){return this.attribs.length!==0},r.prototype.compareDocumentPosition=function(e){var u,C;return u=this,u===e?0:this.document()!==e.document()?(C=h.Disconnected|h.ImplementationSpecific,Math.random()<.5?C|=h.Preceding:C|=h.Following,C):u.isAncestor(e)?h.Contains|h.Preceding:u.isDescendant(e)?h.Contains|h.Following:u.isPreceding(e)?h.Preceding:h.Following},r.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(e){var u,C,i;if(e.nodeType!==this.nodeType||e.children.length!==this.children.length)return!1;for(u=C=0,i=this.children.length-1;0<=i?C<=i:C>=i;u=0<=i?++C:--C)if(!this.children[u].isEqualNode(e.children[u]))return!1;return!0},r.prototype.getFeature=function(e,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.setUserData=function(e,u,C){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.contains=function(e){return e?e===this||this.isDescendant(e):!1},r.prototype.isDescendant=function(e){var u,C,i,_,p;for(p=this.children,i=0,_=p.length;i<_;i++)if(u=p[i],e===u||(C=u.isDescendant(e),C))return!0;return!1},r.prototype.isAncestor=function(e){return e.isDescendant(this)},r.prototype.isPreceding=function(e){var u,C;return u=this.treePosition(e),C=this.treePosition(this),u===-1||C===-1?!1:u<C},r.prototype.isFollowing=function(e){var u,C;return u=this.treePosition(e),C=this.treePosition(this),u===-1||C===-1?!1:u>C},r.prototype.treePosition=function(e){var u,C;return C=0,u=!1,this.foreachTreeNode(this.document(),function(i){if(C++,!u&&i===e)return u=!0}),u?C:-1},r.prototype.foreachTreeNode=function(e,u){var C,i,_,p,N;for(e||(e=this.document()),p=e.children,i=0,_=p.length;i<_;i++){if(C=p[i],N=u(C))return N;if(N=this.foreachTreeNode(C,u),N)return N}},r})()}).call(ze)});var xt=X(($e,He)=>{(function(){var h,o=function(b,c){return function(){return b.apply(c,arguments)}},E={}.hasOwnProperty;He.exports=h=(function(){function b(c){this.assertLegalName=o(this.assertLegalName,this),this.assertLegalChar=o(this.assertLegalChar,this);var g,s,l;c||(c={}),this.options=c,this.options.version||(this.options.version="1.0"),s=c.stringify||{};for(g in s)E.call(s,g)&&(l=s[g],this[g]=l)}return b.prototype.name=function(c){return this.options.noValidation?c:this.assertLegalName(""+c||"")},b.prototype.text=function(c){return this.options.noValidation?c:this.assertLegalChar(this.textEscape(""+c||""))},b.prototype.cdata=function(c){return this.options.noValidation?c:(c=""+c||"",c=c.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(c))},b.prototype.comment=function(c){if(this.options.noValidation)return c;if(c=""+c||"",c.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+c);return this.assertLegalChar(c)},b.prototype.raw=function(c){return this.options.noValidation?c:""+c||""},b.prototype.attValue=function(c){return this.options.noValidation?c:this.assertLegalChar(this.attEscape(c=""+c||""))},b.prototype.insTarget=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.insValue=function(c){if(this.options.noValidation)return c;if(c=""+c||"",c.match(/\?>/))throw new Error("Invalid processing instruction value: "+c);return this.assertLegalChar(c)},b.prototype.xmlVersion=function(c){if(this.options.noValidation)return c;if(c=""+c||"",!c.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+c);return c},b.prototype.xmlEncoding=function(c){if(this.options.noValidation)return c;if(c=""+c||"",!c.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+c);return this.assertLegalChar(c)},b.prototype.xmlStandalone=function(c){return this.options.noValidation?c:c?"yes":"no"},b.prototype.dtdPubID=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.dtdSysID=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.dtdElementValue=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.dtdAttType=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.dtdAttDefault=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.dtdEntityValue=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.dtdNData=function(c){return this.options.noValidation?c:this.assertLegalChar(""+c||"")},b.prototype.convertAttKey="@",b.prototype.convertPIKey="?",b.prototype.convertTextKey="#text",b.prototype.convertCDataKey="#cdata",b.prototype.convertCommentKey="#comment",b.prototype.convertRawKey="#raw",b.prototype.assertLegalChar=function(c){var g,s;if(this.options.noValidation)return c;if(g="",this.options.version==="1.0"){if(g=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=c.match(g))throw new Error("Invalid character in string: "+c+" at index "+s.index)}else if(this.options.version==="1.1"&&(g=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=c.match(g)))throw new Error("Invalid character in string: "+c+" at index "+s.index);return c},b.prototype.assertLegalName=function(c){var g;if(this.options.noValidation)return c;if(this.assertLegalChar(c),g=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!c.match(g))throw new Error("Invalid character in name");return c},b.prototype.textEscape=function(c){var g;return this.options.noValidation?c:(g=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,c.replace(g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},b.prototype.attEscape=function(c){var g;return this.options.noValidation?c:(g=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,c.replace(g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},b})()}).call($e)});var at=X((Qe,Ze)=>{(function(){Ze.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(Qe)});var Ft=X((Je,tr)=>{(function(){var h,o,E,b,c,g,s,l,d,w,O,I,m,f,y,T,v,A={}.hasOwnProperty;v=Q().assign,h=k(),d=gt(),w=Et(),E=mt(),b=yt(),I=dt(),f=Nt(),y=It(),m=Ot(),O=St(),c=wt(),g=Dt(),s=Tt(),l=bt(),o=at(),tr.exports=T=(function(){function P(a){var r,e,u;a||(a={}),this.options=a,e=a.writer||{};for(r in e)A.call(e,r)&&(u=e[r],this["_"+r]=this[r],this[r]=u)}return P.prototype.filterOptions=function(a){var r,e,u,C,i,_,p,N;return a||(a={}),a=v({},this.options,a),r={writer:this},r.pretty=a.pretty||!1,r.allowEmpty=a.allowEmpty||!1,r.indent=(e=a.indent)!=null?e:"  ",r.newline=(u=a.newline)!=null?u:`
`,r.offset=(C=a.offset)!=null?C:0,r.dontPrettyTextNodes=(i=(_=a.dontPrettyTextNodes)!=null?_:a.dontprettytextnodes)!=null?i:0,r.spaceBeforeSlash=(p=(N=a.spaceBeforeSlash)!=null?N:a.spacebeforeslash)!=null?p:"",r.spaceBeforeSlash===!0&&(r.spaceBeforeSlash=" "),r.suppressPrettyCount=0,r.user={},r.state=o.None,r},P.prototype.indent=function(a,r,e){var u;return!r.pretty||r.suppressPrettyCount?"":r.pretty&&(u=(e||0)+r.offset+1,u>0)?new Array(u).join(r.indent):""},P.prototype.endline=function(a,r,e){return!r.pretty||r.suppressPrettyCount?"":r.newline},P.prototype.attribute=function(a,r,e){var u;return this.openAttribute(a,r,e),u=" "+a.name+'="'+a.value+'"',this.closeAttribute(a,r,e),u},P.prototype.cdata=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<![CDATA[",r.state=o.InsideTag,u+=a.value,r.state=o.CloseTag,u+="]]>"+this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.comment=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<!-- ",r.state=o.InsideTag,u+=a.value,r.state=o.CloseTag,u+=" -->"+this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.declaration=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<?xml",r.state=o.InsideTag,u+=' version="'+a.version+'"',a.encoding!=null&&(u+=' encoding="'+a.encoding+'"'),a.standalone!=null&&(u+=' standalone="'+a.standalone+'"'),r.state=o.CloseTag,u+=r.spaceBeforeSlash+"?>",u+=this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.docType=function(a,r,e){var u,C,i,_,p;if(e||(e=0),this.openNode(a,r,e),r.state=o.OpenTag,_=this.indent(a,r,e),_+="<!DOCTYPE "+a.root().name,a.pubID&&a.sysID?_+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(_+=' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(_+=" [",_+=this.endline(a,r,e),r.state=o.InsideTag,p=a.children,C=0,i=p.length;C<i;C++)u=p[C],_+=this.writeChildNode(u,r,e+1);r.state=o.CloseTag,_+="]"}return r.state=o.CloseTag,_+=r.spaceBeforeSlash+">",_+=this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),_},P.prototype.element=function(a,r,e){var u,C,i,_,p,N,M,S,q,R,x,U,B,it;e||(e=0),R=!1,x="",this.openNode(a,r,e),r.state=o.OpenTag,x+=this.indent(a,r,e)+"<"+a.name,U=a.attribs;for(q in U)A.call(U,q)&&(u=U[q],x+=this.attribute(u,r,e));if(i=a.children.length,_=i===0?null:a.children[0],i===0||a.children.every(function(H){return(H.type===h.Text||H.type===h.Raw)&&H.value===""}))r.allowEmpty?(x+=">",r.state=o.CloseTag,x+="</"+a.name+">"+this.endline(a,r,e)):(r.state=o.CloseTag,x+=r.spaceBeforeSlash+"/>"+this.endline(a,r,e));else if(r.pretty&&i===1&&(_.type===h.Text||_.type===h.Raw)&&_.value!=null)x+=">",r.state=o.InsideTag,r.suppressPrettyCount++,R=!0,x+=this.writeChildNode(_,r,e+1),r.suppressPrettyCount--,R=!1,r.state=o.CloseTag,x+="</"+a.name+">"+this.endline(a,r,e);else{if(r.dontPrettyTextNodes){for(B=a.children,p=0,M=B.length;p<M;p++)if(C=B[p],(C.type===h.Text||C.type===h.Raw)&&C.value!=null){r.suppressPrettyCount++,R=!0;break}}for(x+=">"+this.endline(a,r,e),r.state=o.InsideTag,it=a.children,N=0,S=it.length;N<S;N++)C=it[N],x+=this.writeChildNode(C,r,e+1);r.state=o.CloseTag,x+=this.indent(a,r,e)+"</"+a.name+">",R&&r.suppressPrettyCount--,x+=this.endline(a,r,e),r.state=o.None}return this.closeNode(a,r,e),x},P.prototype.writeChildNode=function(a,r,e){switch(a.type){case h.CData:return this.cdata(a,r,e);case h.Comment:return this.comment(a,r,e);case h.Element:return this.element(a,r,e);case h.Raw:return this.raw(a,r,e);case h.Text:return this.text(a,r,e);case h.ProcessingInstruction:return this.processingInstruction(a,r,e);case h.Dummy:return"";case h.Declaration:return this.declaration(a,r,e);case h.DocType:return this.docType(a,r,e);case h.AttributeDeclaration:return this.dtdAttList(a,r,e);case h.ElementDeclaration:return this.dtdElement(a,r,e);case h.EntityDeclaration:return this.dtdEntity(a,r,e);case h.NotationDeclaration:return this.dtdNotation(a,r,e);default:throw new Error("Unknown XML node type: "+a.constructor.name)}},P.prototype.processingInstruction=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<?",r.state=o.InsideTag,u+=a.target,a.value&&(u+=" "+a.value),r.state=o.CloseTag,u+=r.spaceBeforeSlash+"?>",u+=this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.raw=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e),r.state=o.InsideTag,u+=a.value,r.state=o.CloseTag,u+=this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.text=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e),r.state=o.InsideTag,u+=a.value,r.state=o.CloseTag,u+=this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.dtdAttList=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<!ATTLIST",r.state=o.InsideTag,u+=" "+a.elementName+" "+a.attributeName+" "+a.attributeType,a.defaultValueType!=="#DEFAULT"&&(u+=" "+a.defaultValueType),a.defaultValue&&(u+=' "'+a.defaultValue+'"'),r.state=o.CloseTag,u+=r.spaceBeforeSlash+">"+this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.dtdElement=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<!ELEMENT",r.state=o.InsideTag,u+=" "+a.name+" "+a.value,r.state=o.CloseTag,u+=r.spaceBeforeSlash+">"+this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.dtdEntity=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<!ENTITY",r.state=o.InsideTag,a.pe&&(u+=" %"),u+=" "+a.name,a.value?u+=' "'+a.value+'"':(a.pubID&&a.sysID?u+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(u+=' SYSTEM "'+a.sysID+'"'),a.nData&&(u+=" NDATA "+a.nData)),r.state=o.CloseTag,u+=r.spaceBeforeSlash+">"+this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.dtdNotation=function(a,r,e){var u;return this.openNode(a,r,e),r.state=o.OpenTag,u=this.indent(a,r,e)+"<!NOTATION",r.state=o.InsideTag,u+=" "+a.name,a.pubID&&a.sysID?u+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.pubID?u+=' PUBLIC "'+a.pubID+'"':a.sysID&&(u+=' SYSTEM "'+a.sysID+'"'),r.state=o.CloseTag,u+=r.spaceBeforeSlash+">"+this.endline(a,r,e),r.state=o.None,this.closeNode(a,r,e),u},P.prototype.openNode=function(a,r,e){},P.prototype.closeNode=function(a,r,e){},P.prototype.openAttribute=function(a,r,e){},P.prototype.closeAttribute=function(a,r,e){},P})()}).call(Je)});var Pt=X((er,rr)=>{(function(){var h,o,E=function(c,g){for(var s in g)b.call(g,s)&&(c[s]=g[s]);function l(){this.constructor=c}return l.prototype=g.prototype,c.prototype=new l,c.__super__=g.prototype,c},b={}.hasOwnProperty;o=Ft(),rr.exports=h=(function(c){E(g,c);function g(s){g.__super__.constructor.call(this,s)}return g.prototype.document=function(s,l){var d,w,O,I,m;for(l=this.filterOptions(l),I="",m=s.children,w=0,O=m.length;w<O;w++)d=m[w],I+=this.writeChildNode(d,l,0);return l.pretty&&I.slice(-l.newline.length)===l.newline&&(I=I.slice(0,-l.newline.length)),I},g})(o)}).call(er)});var Xt=X((ir,nr)=>{(function(){var h,o,E,b,c,g,s,l,d=function(O,I){for(var m in I)w.call(I,m)&&(O[m]=I[m]);function f(){this.constructor=O}return f.prototype=I.prototype,O.prototype=new f,O.__super__=I.prototype,O},w={}.hasOwnProperty;l=Q().isPlainObject,E=Mt(),o=se(),c=$(),h=k(),s=xt(),g=Pt(),nr.exports=b=(function(O){d(I,O);function I(m){I.__super__.constructor.call(this,null),this.name="#document",this.type=h.Document,this.documentURI=null,this.domConfig=new o,m||(m={}),m.writer||(m.writer=new g),this.options=m,this.stringify=new s(m)}return Object.defineProperty(I.prototype,"implementation",{value:new E}),Object.defineProperty(I.prototype,"doctype",{get:function(){var m,f,y,T;for(T=this.children,f=0,y=T.length;f<y;f++)if(m=T[f],m.type===h.DocType)return m;return null}}),Object.defineProperty(I.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(I.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(I.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(I.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===h.Declaration?this.children[0].encoding:null}}),Object.defineProperty(I.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===h.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(I.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===h.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(I.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(I.prototype,"origin",{get:function(){return null}}),Object.defineProperty(I.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(I.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(I.prototype,"contentType",{get:function(){return null}}),I.prototype.end=function(m){var f;return f={},m?l(m)&&(f=m,m=this.options.writer):m=this.options.writer,m.document(this,m.filterOptions(f))},I.prototype.toString=function(m){return this.options.writer.document(this,this.options.writer.filterOptions(m))},I.prototype.createElement=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createTextNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createComment=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createCDATASection=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createProcessingInstruction=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createAttribute=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createEntityReference=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.importNode=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createElementNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createAttributeNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementsByTagNameNS=function(m,f){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementById=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.adoptNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.renameNode=function(m,f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.getElementsByClassName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createEvent=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createNodeIterator=function(m,f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},I.prototype.createTreeWalker=function(m,f,y){throw new Error("This DOM method is not implemented."+this.debugInfo())},I})(c)}).call(ir)});var ur=X((or,sr)=>{(function(){var h,o,E,b,c,g,s,l,d,w,O,I,m,f,y,T,v,A,P,a,r,e,u,C,i={}.hasOwnProperty;C=Q(),e=C.isObject,r=C.isFunction,u=C.isPlainObject,a=C.getValue,h=k(),I=Xt(),f=dt(),b=mt(),c=yt(),T=Nt(),P=It(),y=Ot(),w=gt(),O=Et(),g=wt(),l=Tt(),s=Dt(),d=bt(),E=vt(),A=xt(),v=Pt(),o=at(),sr.exports=m=(function(){function _(p,N,M){var S;this.name="?xml",this.type=h.Document,p||(p={}),S={},p.writer?u(p.writer)&&(S=p.writer,p.writer=new v):p.writer=new v,this.options=p,this.writer=p.writer,this.writerOptions=this.writer.filterOptions(S),this.stringify=new A(p),this.onDataCallback=N||function(){},this.onEndCallback=M||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return _.prototype.createChildNode=function(p){var N,M,S,q,R,x,U,B;switch(p.type){case h.CData:this.cdata(p.value);break;case h.Comment:this.comment(p.value);break;case h.Element:S={},U=p.attribs;for(M in U)i.call(U,M)&&(N=U[M],S[M]=N.value);this.node(p.name,S);break;case h.Dummy:this.dummy();break;case h.Raw:this.raw(p.value);break;case h.Text:this.text(p.value);break;case h.ProcessingInstruction:this.instruction(p.target,p.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+p.constructor.name)}for(B=p.children,R=0,x=B.length;R<x;R++)q=B[R],this.createChildNode(q),q.type===h.Element&&this.up();return this},_.prototype.dummy=function(){return this},_.prototype.node=function(p,N,M){var S;if(p==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(p));return this.openCurrent(),p=a(p),N==null&&(N={}),N=a(N),e(N)||(S=[N,M],M=S[0],N=S[1]),this.currentNode=new f(this,p,N),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,M!=null&&this.text(M),this},_.prototype.element=function(p,N,M){var S,q,R,x,U,B;if(this.currentNode&&this.currentNode.type===h.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(p)||e(p)||r(p))for(x=this.options.noValidation,this.options.noValidation=!0,B=new I(this.options).element("TEMP_ROOT"),B.element(p),this.options.noValidation=x,U=B.children,q=0,R=U.length;q<R;q++)S=U[q],this.createChildNode(S),S.type===h.Element&&this.up();else this.node(p,N,M);return this},_.prototype.attribute=function(p,N){var M,S;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(p));if(p!=null&&(p=a(p)),e(p))for(M in p)i.call(p,M)&&(S=p[M],this.attribute(M,S));else r(N)&&(N=N.apply()),this.options.keepNullAttributes&&N==null?this.currentNode.attribs[p]=new E(this,p,""):N!=null&&(this.currentNode.attribs[p]=new E(this,p,N));return this},_.prototype.text=function(p){var N;return this.openCurrent(),N=new P(this,p),this.onData(this.writer.text(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.cdata=function(p){var N;return this.openCurrent(),N=new b(this,p),this.onData(this.writer.cdata(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.comment=function(p){var N;return this.openCurrent(),N=new c(this,p),this.onData(this.writer.comment(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.raw=function(p){var N;return this.openCurrent(),N=new T(this,p),this.onData(this.writer.raw(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.instruction=function(p,N){var M,S,q,R,x;if(this.openCurrent(),p!=null&&(p=a(p)),N!=null&&(N=a(N)),Array.isArray(p))for(M=0,R=p.length;M<R;M++)S=p[M],this.instruction(S);else if(e(p))for(S in p)i.call(p,S)&&(q=p[S],this.instruction(S,q));else r(N)&&(N=N.apply()),x=new y(this,p,N),this.onData(this.writer.processingInstruction(x,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},_.prototype.declaration=function(p,N,M){var S;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return S=new w(this,p,N,M),this.onData(this.writer.declaration(S,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.doctype=function(p,N,M){if(this.openCurrent(),p==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new O(this,N,M),this.currentNode.rootNodeName=p,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},_.prototype.dtdElement=function(p,N){var M;return this.openCurrent(),M=new s(this,p,N),this.onData(this.writer.dtdElement(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.attList=function(p,N,M,S,q){var R;return this.openCurrent(),R=new g(this,p,N,M,S,q),this.onData(this.writer.dtdAttList(R,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.entity=function(p,N){var M;return this.openCurrent(),M=new l(this,!1,p,N),this.onData(this.writer.dtdEntity(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.pEntity=function(p,N){var M;return this.openCurrent(),M=new l(this,!0,p,N),this.onData(this.writer.dtdEntity(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.notation=function(p,N){var M;return this.openCurrent(),M=new d(this,p,N),this.onData(this.writer.dtdNotation(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},_.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},_.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},_.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},_.prototype.openNode=function(p){var N,M,S,q;if(!p.isOpen){if(!this.root&&this.currentLevel===0&&p.type===h.Element&&(this.root=p),M="",p.type===h.Element){this.writerOptions.state=o.OpenTag,M=this.writer.indent(p,this.writerOptions,this.currentLevel)+"<"+p.name,q=p.attribs;for(S in q)i.call(q,S)&&(N=q[S],M+=this.writer.attribute(N,this.writerOptions,this.currentLevel));M+=(p.children?">":"/>")+this.writer.endline(p,this.writerOptions,this.currentLevel),this.writerOptions.state=o.InsideTag}else this.writerOptions.state=o.OpenTag,M=this.writer.indent(p,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+p.rootNodeName,p.pubID&&p.sysID?M+=' PUBLIC "'+p.pubID+'" "'+p.sysID+'"':p.sysID&&(M+=' SYSTEM "'+p.sysID+'"'),p.children?(M+=" [",this.writerOptions.state=o.InsideTag):(this.writerOptions.state=o.CloseTag,M+=">"),M+=this.writer.endline(p,this.writerOptions,this.currentLevel);return this.onData(M,this.currentLevel),p.isOpen=!0}},_.prototype.closeNode=function(p){var N;if(!p.isClosed)return N="",this.writerOptions.state=o.CloseTag,p.type===h.Element?N=this.writer.indent(p,this.writerOptions,this.currentLevel)+"</"+p.name+">"+this.writer.endline(p,this.writerOptions,this.currentLevel):N=this.writer.indent(p,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(p,this.writerOptions,this.currentLevel),this.writerOptions.state=o.None,this.onData(N,this.currentLevel),p.isClosed=!0},_.prototype.onData=function(p,N){return this.documentStarted=!0,this.onDataCallback(p,N+1)},_.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},_.prototype.debugInfo=function(p){return p==null?"":"node: <"+p+">"},_.prototype.ele=function(){return this.element.apply(this,arguments)},_.prototype.nod=function(p,N,M){return this.node(p,N,M)},_.prototype.txt=function(p){return this.text(p)},_.prototype.dat=function(p){return this.cdata(p)},_.prototype.com=function(p){return this.comment(p)},_.prototype.ins=function(p,N){return this.instruction(p,N)},_.prototype.dec=function(p,N,M){return this.declaration(p,N,M)},_.prototype.dtd=function(p,N,M){return this.doctype(p,N,M)},_.prototype.e=function(p,N,M){return this.element(p,N,M)},_.prototype.n=function(p,N,M){return this.node(p,N,M)},_.prototype.t=function(p){return this.text(p)},_.prototype.d=function(p){return this.cdata(p)},_.prototype.c=function(p){return this.comment(p)},_.prototype.r=function(p){return this.raw(p)},_.prototype.i=function(p,N){return this.instruction(p,N)},_.prototype.att=function(){return this.currentNode&&this.currentNode.type===h.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},_.prototype.a=function(){return this.currentNode&&this.currentNode.type===h.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},_.prototype.ent=function(p,N){return this.entity(p,N)},_.prototype.pent=function(p,N){return this.pEntity(p,N)},_.prototype.not=function(p,N){return this.notation(p,N)},_})()}).call(or)});var lr=X((ar,cr)=>{(function(){var h,o,E,b,c=function(s,l){for(var d in l)g.call(l,d)&&(s[d]=l[d]);function w(){this.constructor=s}return w.prototype=l.prototype,s.prototype=new w,s.__super__=l.prototype,s},g={}.hasOwnProperty;h=k(),b=Ft(),o=at(),cr.exports=E=(function(s){c(l,s);function l(d,w){this.stream=d,l.__super__.constructor.call(this,w)}return l.prototype.endline=function(d,w,O){return d.isLastRootNode&&w.state===o.CloseTag?"":l.__super__.endline.call(this,d,w,O)},l.prototype.document=function(d,w){var O,I,m,f,y,T,v,A,P;for(v=d.children,I=m=0,y=v.length;m<y;I=++m)O=v[I],O.isLastRootNode=I===d.children.length-1;for(w=this.filterOptions(w),A=d.children,P=[],f=0,T=A.length;f<T;f++)O=A[f],P.push(this.writeChildNode(O,w,0));return P},l.prototype.attribute=function(d,w,O){return this.stream.write(l.__super__.attribute.call(this,d,w,O))},l.prototype.cdata=function(d,w,O){return this.stream.write(l.__super__.cdata.call(this,d,w,O))},l.prototype.comment=function(d,w,O){return this.stream.write(l.__super__.comment.call(this,d,w,O))},l.prototype.declaration=function(d,w,O){return this.stream.write(l.__super__.declaration.call(this,d,w,O))},l.prototype.docType=function(d,w,O){var I,m,f,y;if(O||(O=0),this.openNode(d,w,O),w.state=o.OpenTag,this.stream.write(this.indent(d,w,O)),this.stream.write("<!DOCTYPE "+d.root().name),d.pubID&&d.sysID?this.stream.write(' PUBLIC "'+d.pubID+'" "'+d.sysID+'"'):d.sysID&&this.stream.write(' SYSTEM "'+d.sysID+'"'),d.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(d,w,O)),w.state=o.InsideTag,y=d.children,m=0,f=y.length;m<f;m++)I=y[m],this.writeChildNode(I,w,O+1);w.state=o.CloseTag,this.stream.write("]")}return w.state=o.CloseTag,this.stream.write(w.spaceBeforeSlash+">"),this.stream.write(this.endline(d,w,O)),w.state=o.None,this.closeNode(d,w,O)},l.prototype.element=function(d,w,O){var I,m,f,y,T,v,A,P,a,r;O||(O=0),this.openNode(d,w,O),w.state=o.OpenTag,this.stream.write(this.indent(d,w,O)+"<"+d.name),a=d.attribs;for(A in a)g.call(a,A)&&(I=a[A],this.attribute(I,w,O));if(f=d.children.length,y=f===0?null:d.children[0],f===0||d.children.every(function(e){return(e.type===h.Text||e.type===h.Raw)&&e.value===""}))w.allowEmpty?(this.stream.write(">"),w.state=o.CloseTag,this.stream.write("</"+d.name+">")):(w.state=o.CloseTag,this.stream.write(w.spaceBeforeSlash+"/>"));else if(w.pretty&&f===1&&(y.type===h.Text||y.type===h.Raw)&&y.value!=null)this.stream.write(">"),w.state=o.InsideTag,w.suppressPrettyCount++,P=!0,this.writeChildNode(y,w,O+1),w.suppressPrettyCount--,P=!1,w.state=o.CloseTag,this.stream.write("</"+d.name+">");else{for(this.stream.write(">"+this.endline(d,w,O)),w.state=o.InsideTag,r=d.children,T=0,v=r.length;T<v;T++)m=r[T],this.writeChildNode(m,w,O+1);w.state=o.CloseTag,this.stream.write(this.indent(d,w,O)+"</"+d.name+">")}return this.stream.write(this.endline(d,w,O)),w.state=o.None,this.closeNode(d,w,O)},l.prototype.processingInstruction=function(d,w,O){return this.stream.write(l.__super__.processingInstruction.call(this,d,w,O))},l.prototype.raw=function(d,w,O){return this.stream.write(l.__super__.raw.call(this,d,w,O))},l.prototype.text=function(d,w,O){return this.stream.write(l.__super__.text.call(this,d,w,O))},l.prototype.dtdAttList=function(d,w,O){return this.stream.write(l.__super__.dtdAttList.call(this,d,w,O))},l.prototype.dtdElement=function(d,w,O){return this.stream.write(l.__super__.dtdElement.call(this,d,w,O))},l.prototype.dtdEntity=function(d,w,O){return this.stream.write(l.__super__.dtdEntity.call(this,d,w,O))},l.prototype.dtdNotation=function(d,w,O){return this.stream.write(l.__super__.dtdNotation.call(this,d,w,O))},l})(b)}).call(ar)});var fr=X((hr,rt)=>{(function(){var h,o,E,b,c,g,s,l,d,w;w=Q(),l=w.assign,d=w.isFunction,E=Mt(),b=Xt(),c=ur(),s=Pt(),g=lr(),h=k(),o=at(),rt.exports.create=function(O,I,m,f){var y,T;if(O==null)throw new Error("Root element needs a name.");return f=l({},I,m,f),y=new b(f),T=y.element(O),f.headless||(y.declaration(f),(f.pubID!=null||f.sysID!=null)&&y.dtd(f)),T},rt.exports.begin=function(O,I,m){var f;return d(O)&&(f=[O,I],I=f[0],m=f[1],O={}),I?new c(O,I,m):new b(O)},rt.exports.stringWriter=function(O){return new s(O)},rt.exports.streamWriter=function(O,I){return new g(O,I)},rt.exports.implementation=new E,rt.exports.nodeType=h,rt.exports.writerState=o}).call(hr)});var pr=X(qt=>{(function(){"use strict";var h,o,E,b,c,g={}.hasOwnProperty;h=fr(),o=ft().defaults,b=function(s){return typeof s=="string"&&(s.indexOf("&")>=0||s.indexOf(">")>=0||s.indexOf("<")>=0)},c=function(s){return"<![CDATA["+E(s)+"]]>"},E=function(s){return s.replace("]]>","]]]]><![CDATA[>")},qt.Builder=(function(){function s(l){var d,w,O;this.options={},w=o["0.2"];for(d in w)g.call(w,d)&&(O=w[d],this.options[d]=O);for(d in l)g.call(l,d)&&(O=l[d],this.options[d]=O)}return s.prototype.buildObject=function(l){var d,w,O,I,m;return d=this.options.attrkey,w=this.options.charkey,Object.keys(l).length===1&&this.options.rootName===o["0.2"].rootName?(m=Object.keys(l)[0],l=l[m]):m=this.options.rootName,O=(function(f){return function(y,T){var v,A,P,a,r,e;if(typeof T!="object")f.options.cdata&&b(T)?y.raw(c(T)):y.txt(T);else if(Array.isArray(T)){for(a in T)if(g.call(T,a)){A=T[a];for(r in A)P=A[r],y=O(y.ele(r),P).up()}}else for(r in T)if(g.call(T,r))if(A=T[r],r===d){if(typeof A=="object")for(v in A)e=A[v],y=y.att(v,e)}else if(r===w)f.options.cdata&&b(A)?y=y.raw(c(A)):y=y.txt(A);else if(Array.isArray(A))for(a in A)g.call(A,a)&&(P=A[a],typeof P=="string"?f.options.cdata&&b(P)?y=y.ele(r).raw(c(P)).up():y=y.ele(r,P).up():y=O(y.ele(r),P).up());else typeof A=="object"?y=O(y.ele(r),A).up():typeof A=="string"&&f.options.cdata&&b(A)?y=y.ele(r).raw(c(A)).up():(A==null&&(A=""),y=y.ele(r,A.toString()).up());return y}})(this),I=h.create(m,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),O(I,l).end(this.options.renderOpts)},s})()}).call(qt)});var dr=X(Ct=>{(function(h){h.parser=function(n,t){return new E(n,t)},h.SAXParser=E,h.SAXStream=w,h.createStream=d,h.MAX_BUFFER_LENGTH=64*1024;var o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];h.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function E(n,t){if(!(this instanceof E))return new E(n,t);var L=this;c(L),L.q=L.c="",L.bufferCheckPosition=h.MAX_BUFFER_LENGTH,L.opt=t||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!n,L.noscript=!!(n||L.opt.noscript),L.state=i.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=L.strictEntities?Object.create(h.XML_ENTITIES):Object.create(h.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(y)),L.opt.unquotedAttributeValues===void 0&&(L.opt.unquotedAttributeValues=!n),L.trackPosition=L.opt.position!==!1,L.trackPosition&&(L.position=L.line=L.column=0),p(L,"onready")}Object.create||(Object.create=function(n){function t(){}t.prototype=n;var L=new t;return L}),Object.keys||(Object.keys=function(n){var t=[];for(var L in n)n.hasOwnProperty(L)&&t.push(L);return t});function b(n){for(var t=Math.max(h.MAX_BUFFER_LENGTH,10),L=0,D=0,j=o.length;D<j;D++){var V=n[o[D]].length;if(V>t)switch(o[D]){case"textNode":M(n);break;case"cdata":N(n,"oncdata",n.cdata),n.cdata="";break;case"script":N(n,"onscript",n.script),n.script="";break;default:q(n,"Max buffer length exceeded: "+o[D])}L=Math.max(L,V)}var G=h.MAX_BUFFER_LENGTH-L;n.bufferCheckPosition=G+n.position}function c(n){for(var t=0,L=o.length;t<L;t++)n[o[t]]=""}function g(n){M(n),n.cdata!==""&&(N(n,"oncdata",n.cdata),n.cdata=""),n.script!==""&&(N(n,"onscript",n.script),n.script="")}E.prototype={end:function(){R(this)},write:Pr,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){g(this)}};var s;try{s=require("stream").Stream}catch{s=function(){}}s||(s=function(){});var l=h.EVENTS.filter(function(n){return n!=="error"&&n!=="end"});function d(n,t){return new w(n,t)}function w(n,t){if(!(this instanceof w))return new w(n,t);s.apply(this),this._parser=new E(n,t),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(D){L.emit("error",D),L._parser.error=null},this._decoder=null,l.forEach(function(D){Object.defineProperty(L,"on"+D,{get:function(){return L._parser["on"+D]},set:function(j){if(!j)return L.removeAllListeners(D),L._parser["on"+D]=j,j;L.on(D,j)},enumerable:!0,configurable:!1})})}w.prototype=Object.create(s.prototype,{constructor:{value:w}}),w.prototype.write=function(n){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(n)){if(!this._decoder){var t=require("string_decoder").StringDecoder;this._decoder=new t("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},w.prototype.end=function(n){return n&&n.length&&this.write(n),this._parser.end(),!0},w.prototype.on=function(n,t){var L=this;return!L._parser["on"+n]&&l.indexOf(n)!==-1&&(L._parser["on"+n]=function(){var D=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);D.splice(0,0,n),L.emit.apply(L,D)}),s.prototype.on.call(L,n,t)};var O="[CDATA[",I="DOCTYPE",m="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",y={xml:m,xmlns:f},T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function a(n){return n===" "||n===`
`||n==="\r"||n==="	"}function r(n){return n==='"'||n==="'"}function e(n){return n===">"||a(n)}function u(n,t){return n.test(t)}function C(n,t){return!u(n,t)}var i=0;h.STATE={BEGIN:i++,BEGIN_WHITESPACE:i++,TEXT:i++,TEXT_ENTITY:i++,OPEN_WAKA:i++,SGML_DECL:i++,SGML_DECL_QUOTED:i++,DOCTYPE:i++,DOCTYPE_QUOTED:i++,DOCTYPE_DTD:i++,DOCTYPE_DTD_QUOTED:i++,COMMENT_STARTING:i++,COMMENT:i++,COMMENT_ENDING:i++,COMMENT_ENDED:i++,CDATA:i++,CDATA_ENDING:i++,CDATA_ENDING_2:i++,PROC_INST:i++,PROC_INST_BODY:i++,PROC_INST_ENDING:i++,OPEN_TAG:i++,OPEN_TAG_SLASH:i++,ATTRIB:i++,ATTRIB_NAME:i++,ATTRIB_NAME_SAW_WHITE:i++,ATTRIB_VALUE:i++,ATTRIB_VALUE_QUOTED:i++,ATTRIB_VALUE_CLOSED:i++,ATTRIB_VALUE_UNQUOTED:i++,ATTRIB_VALUE_ENTITY_Q:i++,ATTRIB_VALUE_ENTITY_U:i++,CLOSE_TAG:i++,CLOSE_TAG_SAW_WHITE:i++,SCRIPT:i++,SCRIPT_ENDING:i++},h.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},h.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(h.ENTITIES).forEach(function(n){var t=h.ENTITIES[n],L=typeof t=="number"?String.fromCharCode(t):t;h.ENTITIES[n]=L});for(var _ in h.STATE)h.STATE[h.STATE[_]]=_;i=h.STATE;function p(n,t,L){n[t]&&n[t](L)}function N(n,t,L){n.textNode&&M(n),p(n,t,L)}function M(n){n.textNode=S(n.opt,n.textNode),n.textNode&&p(n,"ontext",n.textNode),n.textNode=""}function S(n,t){return n.trim&&(t=t.trim()),n.normalize&&(t=t.replace(/\s+/g," ")),t}function q(n,t){return M(n),n.trackPosition&&(t+=`
Line: `+n.line+`
Column: `+n.column+`
Char: `+n.c),t=new Error(t),n.error=t,p(n,"onerror",t),n}function R(n){return n.sawRoot&&!n.closedRoot&&x(n,"Unclosed root tag"),n.state!==i.BEGIN&&n.state!==i.BEGIN_WHITESPACE&&n.state!==i.TEXT&&q(n,"Unexpected end"),M(n),n.c="",n.closed=!0,p(n,"onend"),E.call(n,n.strict,n.opt),n}function x(n,t){if(typeof n!="object"||!(n instanceof E))throw new Error("bad call to strictFail");n.strict&&q(n,t)}function U(n){n.strict||(n.tagName=n.tagName[n.looseCase]());var t=n.tags[n.tags.length-1]||n,L=n.tag={name:n.tagName,attributes:{}};n.opt.xmlns&&(L.ns=t.ns),n.attribList.length=0,N(n,"onopentagstart",L)}function B(n,t){var L=n.indexOf(":"),D=L<0?["",n]:n.split(":"),j=D[0],V=D[1];return t&&n==="xmlns"&&(j="xmlns",V=""),{prefix:j,local:V}}function it(n){if(n.strict||(n.attribName=n.attribName[n.looseCase]()),n.attribList.indexOf(n.attribName)!==-1||n.tag.attributes.hasOwnProperty(n.attribName)){n.attribName=n.attribValue="";return}if(n.opt.xmlns){var t=B(n.attribName,!0),L=t.prefix,D=t.local;if(L==="xmlns")if(D==="xml"&&n.attribValue!==m)x(n,"xml: prefix must be bound to "+m+`
Actual: `+n.attribValue);else if(D==="xmlns"&&n.attribValue!==f)x(n,"xmlns: prefix must be bound to "+f+`
Actual: `+n.attribValue);else{var j=n.tag,V=n.tags[n.tags.length-1]||n;j.ns===V.ns&&(j.ns=Object.create(V.ns)),j.ns[D]=n.attribValue}n.attribList.push([n.attribName,n.attribValue])}else n.tag.attributes[n.attribName]=n.attribValue,N(n,"onattribute",{name:n.attribName,value:n.attribValue});n.attribName=n.attribValue=""}function H(n,t){if(n.opt.xmlns){var L=n.tag,D=B(n.tagName);L.prefix=D.prefix,L.local=D.local,L.uri=L.ns[D.prefix]||"",L.prefix&&!L.uri&&(x(n,"Unbound namespace prefix: "+JSON.stringify(n.tagName)),L.uri=D.prefix);var j=n.tags[n.tags.length-1]||n;L.ns&&j.ns!==L.ns&&Object.keys(L.ns).forEach(function(Yt){N(n,"onopennamespace",{prefix:Yt,uri:L.ns[Yt]})});for(var V=0,G=n.attribList.length;V<G;V++){var z=n.attribList[V],K=z[0],ot=z[1],Y=B(K,!0),Z=Y.prefix,Cr=Y.local,Wt=Z===""?"":L.ns[Z]||"",Lt={name:K,value:ot,prefix:Z,local:Cr,uri:Wt};Z&&Z!=="xmlns"&&!Wt&&(x(n,"Unbound namespace prefix: "+JSON.stringify(Z)),Lt.uri=Z),n.tag.attributes[K]=Lt,N(n,"onattribute",Lt)}n.attribList.length=0}n.tag.isSelfClosing=!!t,n.sawRoot=!0,n.tags.push(n.tag),N(n,"onopentag",n.tag),t||(!n.noscript&&n.tagName.toLowerCase()==="script"?n.state=i.SCRIPT:n.state=i.TEXT,n.tag=null,n.tagName=""),n.attribName=n.attribValue="",n.attribList.length=0}function _t(n){if(!n.tagName){x(n,"Weird empty close tag."),n.textNode+="</>",n.state=i.TEXT;return}if(n.script){if(n.tagName!=="script"){n.script+="</"+n.tagName+">",n.tagName="",n.state=i.SCRIPT;return}N(n,"onscript",n.script),n.script=""}var t=n.tags.length,L=n.tagName;n.strict||(L=L[n.looseCase]());for(var D=L;t--;){var j=n.tags[t];if(j.name!==D)x(n,"Unexpected close tag");else break}if(t<0){x(n,"Unmatched closing tag: "+n.tagName),n.textNode+="</"+n.tagName+">",n.state=i.TEXT;return}n.tagName=L;for(var V=n.tags.length;V-- >t;){var G=n.tag=n.tags.pop();n.tagName=n.tag.name,N(n,"onclosetag",n.tagName);var z={};for(var K in G.ns)z[K]=G.ns[K];var ot=n.tags[n.tags.length-1]||n;n.opt.xmlns&&G.ns!==ot.ns&&Object.keys(G.ns).forEach(function(Y){var Z=G.ns[Y];N(n,"onclosenamespace",{prefix:Y,uri:Z})})}t===0&&(n.closedRoot=!0),n.tagName=n.attribValue=n.attribName="",n.attribList.length=0,n.state=i.TEXT}function Or(n){var t=n.entity,L=t.toLowerCase(),D,j="";return n.ENTITIES[t]?n.ENTITIES[t]:n.ENTITIES[L]?n.ENTITIES[L]:(t=L,t.charAt(0)==="#"&&(t.charAt(1)==="x"?(t=t.slice(2),D=parseInt(t,16),j=D.toString(16)):(t=t.slice(1),D=parseInt(t,10),j=D.toString(10))),t=t.replace(/^0+/,""),isNaN(D)||j.toLowerCase()!==t?(x(n,"Invalid character entity"),"&"+n.entity+";"):String.fromCodePoint(D))}function Vt(n,t){t==="<"?(n.state=i.OPEN_WAKA,n.startTagPosition=n.position):a(t)||(x(n,"Non-whitespace before first tag."),n.textNode=t,n.state=i.TEXT)}function Gt(n,t){var L="";return t<n.length&&(L=n.charAt(t)),L}function Pr(n){var t=this;if(this.error)throw this.error;if(t.closed)return q(t,"Cannot write after close. Assign an onready handler.");if(n===null)return R(t);typeof n=="object"&&(n=n.toString());for(var L=0,D="";D=Gt(n,L++),t.c=D,!!D;)switch(t.trackPosition&&(t.position++,D===`
`?(t.line++,t.column=0):t.column++),t.state){case i.BEGIN:if(t.state=i.BEGIN_WHITESPACE,D==="\uFEFF")continue;Vt(t,D);continue;case i.BEGIN_WHITESPACE:Vt(t,D);continue;case i.TEXT:if(t.sawRoot&&!t.closedRoot){for(var j=L-1;D&&D!=="<"&&D!=="&";)D=Gt(n,L++),D&&t.trackPosition&&(t.position++,D===`
`?(t.line++,t.column=0):t.column++);t.textNode+=n.substring(j,L-1)}D==="<"&&!(t.sawRoot&&t.closedRoot&&!t.strict)?(t.state=i.OPEN_WAKA,t.startTagPosition=t.position):(!a(D)&&(!t.sawRoot||t.closedRoot)&&x(t,"Text data outside of root node."),D==="&"?t.state=i.TEXT_ENTITY:t.textNode+=D);continue;case i.SCRIPT:D==="<"?t.state=i.SCRIPT_ENDING:t.script+=D;continue;case i.SCRIPT_ENDING:D==="/"?t.state=i.CLOSE_TAG:(t.script+="<"+D,t.state=i.SCRIPT);continue;case i.OPEN_WAKA:if(D==="!")t.state=i.SGML_DECL,t.sgmlDecl="";else if(!a(D))if(u(T,D))t.state=i.OPEN_TAG,t.tagName=D;else if(D==="/")t.state=i.CLOSE_TAG,t.tagName="";else if(D==="?")t.state=i.PROC_INST,t.procInstName=t.procInstBody="";else{if(x(t,"Unencoded <"),t.startTagPosition+1<t.position){var V=t.position-t.startTagPosition;D=new Array(V).join(" ")+D}t.textNode+="<"+D,t.state=i.TEXT}continue;case i.SGML_DECL:if(t.sgmlDecl+D==="--"){t.state=i.COMMENT,t.comment="",t.sgmlDecl="";continue}t.doctype&&t.doctype!==!0&&t.sgmlDecl?(t.state=i.DOCTYPE_DTD,t.doctype+="<!"+t.sgmlDecl+D,t.sgmlDecl=""):(t.sgmlDecl+D).toUpperCase()===O?(N(t,"onopencdata"),t.state=i.CDATA,t.sgmlDecl="",t.cdata=""):(t.sgmlDecl+D).toUpperCase()===I?(t.state=i.DOCTYPE,(t.doctype||t.sawRoot)&&x(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):D===">"?(N(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=i.TEXT):(r(D)&&(t.state=i.SGML_DECL_QUOTED),t.sgmlDecl+=D);continue;case i.SGML_DECL_QUOTED:D===t.q&&(t.state=i.SGML_DECL,t.q=""),t.sgmlDecl+=D;continue;case i.DOCTYPE:D===">"?(t.state=i.TEXT,N(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=D,D==="["?t.state=i.DOCTYPE_DTD:r(D)&&(t.state=i.DOCTYPE_QUOTED,t.q=D));continue;case i.DOCTYPE_QUOTED:t.doctype+=D,D===t.q&&(t.q="",t.state=i.DOCTYPE);continue;case i.DOCTYPE_DTD:D==="]"?(t.doctype+=D,t.state=i.DOCTYPE):D==="<"?(t.state=i.OPEN_WAKA,t.startTagPosition=t.position):r(D)?(t.doctype+=D,t.state=i.DOCTYPE_DTD_QUOTED,t.q=D):t.doctype+=D;continue;case i.DOCTYPE_DTD_QUOTED:t.doctype+=D,D===t.q&&(t.state=i.DOCTYPE_DTD,t.q="");continue;case i.COMMENT:D==="-"?t.state=i.COMMENT_ENDING:t.comment+=D;continue;case i.COMMENT_ENDING:D==="-"?(t.state=i.COMMENT_ENDED,t.comment=S(t.opt,t.comment),t.comment&&N(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+D,t.state=i.COMMENT);continue;case i.COMMENT_ENDED:D!==">"?(x(t,"Malformed comment"),t.comment+="--"+D,t.state=i.COMMENT):t.doctype&&t.doctype!==!0?t.state=i.DOCTYPE_DTD:t.state=i.TEXT;continue;case i.CDATA:D==="]"?t.state=i.CDATA_ENDING:t.cdata+=D;continue;case i.CDATA_ENDING:D==="]"?t.state=i.CDATA_ENDING_2:(t.cdata+="]"+D,t.state=i.CDATA);continue;case i.CDATA_ENDING_2:D===">"?(t.cdata&&N(t,"oncdata",t.cdata),N(t,"onclosecdata"),t.cdata="",t.state=i.TEXT):D==="]"?t.cdata+="]":(t.cdata+="]]"+D,t.state=i.CDATA);continue;case i.PROC_INST:D==="?"?t.state=i.PROC_INST_ENDING:a(D)?t.state=i.PROC_INST_BODY:t.procInstName+=D;continue;case i.PROC_INST_BODY:if(!t.procInstBody&&a(D))continue;D==="?"?t.state=i.PROC_INST_ENDING:t.procInstBody+=D;continue;case i.PROC_INST_ENDING:D===">"?(N(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=i.TEXT):(t.procInstBody+="?"+D,t.state=i.PROC_INST_BODY);continue;case i.OPEN_TAG:u(v,D)?t.tagName+=D:(U(t),D===">"?H(t):D==="/"?t.state=i.OPEN_TAG_SLASH:(a(D)||x(t,"Invalid character in tag name"),t.state=i.ATTRIB));continue;case i.OPEN_TAG_SLASH:D===">"?(H(t,!0),_t(t)):(x(t,"Forward-slash in opening tag not followed by >"),t.state=i.ATTRIB);continue;case i.ATTRIB:if(a(D))continue;D===">"?H(t):D==="/"?t.state=i.OPEN_TAG_SLASH:u(T,D)?(t.attribName=D,t.attribValue="",t.state=i.ATTRIB_NAME):x(t,"Invalid attribute name");continue;case i.ATTRIB_NAME:D==="="?t.state=i.ATTRIB_VALUE:D===">"?(x(t,"Attribute without value"),t.attribValue=t.attribName,it(t),H(t)):a(D)?t.state=i.ATTRIB_NAME_SAW_WHITE:u(v,D)?t.attribName+=D:x(t,"Invalid attribute name");continue;case i.ATTRIB_NAME_SAW_WHITE:if(D==="=")t.state=i.ATTRIB_VALUE;else{if(a(D))continue;x(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",N(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",D===">"?H(t):u(T,D)?(t.attribName=D,t.state=i.ATTRIB_NAME):(x(t,"Invalid attribute name"),t.state=i.ATTRIB)}continue;case i.ATTRIB_VALUE:if(a(D))continue;r(D)?(t.q=D,t.state=i.ATTRIB_VALUE_QUOTED):(t.opt.unquotedAttributeValues||q(t,"Unquoted attribute value"),t.state=i.ATTRIB_VALUE_UNQUOTED,t.attribValue=D);continue;case i.ATTRIB_VALUE_QUOTED:if(D!==t.q){D==="&"?t.state=i.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=D;continue}it(t),t.q="",t.state=i.ATTRIB_VALUE_CLOSED;continue;case i.ATTRIB_VALUE_CLOSED:a(D)?t.state=i.ATTRIB:D===">"?H(t):D==="/"?t.state=i.OPEN_TAG_SLASH:u(T,D)?(x(t,"No whitespace between attributes"),t.attribName=D,t.attribValue="",t.state=i.ATTRIB_NAME):x(t,"Invalid attribute name");continue;case i.ATTRIB_VALUE_UNQUOTED:if(!e(D)){D==="&"?t.state=i.ATTRIB_VALUE_ENTITY_U:t.attribValue+=D;continue}it(t),D===">"?H(t):t.state=i.ATTRIB;continue;case i.CLOSE_TAG:if(t.tagName)D===">"?_t(t):u(v,D)?t.tagName+=D:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=i.SCRIPT):(a(D)||x(t,"Invalid tagname in closing tag"),t.state=i.CLOSE_TAG_SAW_WHITE);else{if(a(D))continue;C(T,D)?t.script?(t.script+="</"+D,t.state=i.SCRIPT):x(t,"Invalid tagname in closing tag."):t.tagName=D}continue;case i.CLOSE_TAG_SAW_WHITE:if(a(D))continue;D===">"?_t(t):x(t,"Invalid characters in closing tag");continue;case i.TEXT_ENTITY:case i.ATTRIB_VALUE_ENTITY_Q:case i.ATTRIB_VALUE_ENTITY_U:var G,z;switch(t.state){case i.TEXT_ENTITY:G=i.TEXT,z="textNode";break;case i.ATTRIB_VALUE_ENTITY_Q:G=i.ATTRIB_VALUE_QUOTED,z="attribValue";break;case i.ATTRIB_VALUE_ENTITY_U:G=i.ATTRIB_VALUE_UNQUOTED,z="attribValue";break}if(D===";"){var K=Or(t);t.opt.unparsedEntities&&!Object.values(h.XML_ENTITIES).includes(K)?(t.entity="",t.state=G,t.write(K)):(t[z]+=K,t.entity="",t.state=G)}else u(t.entity.length?P:A,D)?t.entity+=D:(x(t,"Invalid character in entity name"),t[z]+="&"+t.entity+D,t.entity="",t.state=G);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&b(t),t}String.fromCodePoint||(function(){var n=String.fromCharCode,t=Math.floor,L=function(){var D=16384,j=[],V,G,z=-1,K=arguments.length;if(!K)return"";for(var ot="";++z<K;){var Y=Number(arguments[z]);if(!isFinite(Y)||Y<0||Y>1114111||t(Y)!==Y)throw RangeError("Invalid code point: "+Y);Y<=65535?j.push(Y):(Y-=65536,V=(Y>>10)+55296,G=Y%1024+56320,j.push(V,G)),(z+1===K||j.length>D)&&(ot+=n.apply(null,j),j.length=0)}return ot};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L})()})(typeof Ct>"u"?Ct.sax={}:Ct)});var mr=X(Rt=>{(function(){"use strict";Rt.stripBOM=function(h){return h[0]==="\uFEFF"?h.substring(1):h}}).call(Rt)});var Bt=X(nt=>{(function(){"use strict";var h;h=new RegExp(/(?!xmlns)^.*:/),nt.normalize=function(o){return o.toLowerCase()},nt.firstCharLowerCase=function(o){return o.charAt(0).toLowerCase()+o.slice(1)},nt.stripPrefix=function(o){return o.replace(h,"")},nt.parseNumbers=function(o){return isNaN(o)||(o=o%1===0?parseInt(o,10):parseFloat(o)),o},nt.parseBooleans=function(o){return/^(?:true|false)$/i.test(o)&&(o=o.toLowerCase()==="true"),o}}).call(nt)});var yr=X(J=>{(function(){"use strict";var h,o,E,b,c,g,s,l,d,w=function(m,f){return function(){return m.apply(f,arguments)}},O=function(m,f){for(var y in f)I.call(f,y)&&(m[y]=f[y]);function T(){this.constructor=m}return T.prototype=f.prototype,m.prototype=new T,m.__super__=f.prototype,m},I={}.hasOwnProperty;l=dr(),b=require("events"),h=mr(),s=Bt(),d=require("timers").setImmediate,o=ft().defaults,c=function(m){return typeof m=="object"&&m!=null&&Object.keys(m).length===0},g=function(m,f,y){var T,v,A;for(T=0,v=m.length;T<v;T++)A=m[T],f=A(f,y);return f},E=function(m,f,y){var T;return T=Object.create(null),T.value=y,T.writable=!0,T.enumerable=!0,T.configurable=!0,Object.defineProperty(m,f,T)},J.Parser=(function(m){O(f,m);function f(y){this.parseStringPromise=w(this.parseStringPromise,this),this.parseString=w(this.parseString,this),this.reset=w(this.reset,this),this.assignOrPush=w(this.assignOrPush,this),this.processAsync=w(this.processAsync,this);var T,v,A;if(!(this instanceof J.Parser))return new J.Parser(y);this.options={},v=o["0.2"];for(T in v)I.call(v,T)&&(A=v[T],this.options[T]=A);for(T in y)I.call(y,T)&&(A=y[T],this.options[T]=A);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return f.prototype.processAsync=function(){var y,T;try{return this.remaining.length<=this.options.chunkSize?(y=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(y),this.saxParser.close()):(y=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(y),d(this.processAsync))}catch(v){if(T=v,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(T)}},f.prototype.assignOrPush=function(y,T,v){return T in y?(y[T]instanceof Array||E(y,T,[y[T]]),y[T].push(v)):this.options.explicitArray?E(y,T,[v]):E(y,T,v)},f.prototype.reset=function(){var y,T,v,A;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(function(P){return function(a){if(P.saxParser.resume(),!P.saxParser.errThrown)return P.saxParser.errThrown=!0,P.emit("error",a)}})(this),this.saxParser.onend=(function(P){return function(){if(!P.saxParser.ended)return P.saxParser.ended=!0,P.emit("end",P.resultObject)}})(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,A=[],y=this.options.attrkey,T=this.options.charkey,this.saxParser.onopentag=(function(P){return function(a){var r,e,u,C,i;if(u={},u[T]="",!P.options.ignoreAttrs){i=a.attributes;for(r in i)I.call(i,r)&&(!(y in u)&&!P.options.mergeAttrs&&(u[y]={}),e=P.options.attrValueProcessors?g(P.options.attrValueProcessors,a.attributes[r],r):a.attributes[r],C=P.options.attrNameProcessors?g(P.options.attrNameProcessors,r):r,P.options.mergeAttrs?P.assignOrPush(u,C,e):E(u[y],C,e))}return u["#name"]=P.options.tagNameProcessors?g(P.options.tagNameProcessors,a.name):a.name,P.options.xmlns&&(u[P.options.xmlnskey]={uri:a.uri,local:a.local}),A.push(u)}})(this),this.saxParser.onclosetag=(function(P){return function(){var a,r,e,u,C,i,_,p,N,M;if(i=A.pop(),C=i["#name"],(!P.options.explicitChildren||!P.options.preserveChildrenOrder)&&delete i["#name"],i.cdata===!0&&(a=i.cdata,delete i.cdata),N=A[A.length-1],i[T].match(/^\s*$/)&&!a?(r=i[T],delete i[T]):(P.options.trim&&(i[T]=i[T].trim()),P.options.normalize&&(i[T]=i[T].replace(/\s{2,}/g," ").trim()),i[T]=P.options.valueProcessors?g(P.options.valueProcessors,i[T],C):i[T],Object.keys(i).length===1&&T in i&&!P.EXPLICIT_CHARKEY&&(i=i[T])),c(i)&&(typeof P.options.emptyTag=="function"?i=P.options.emptyTag():i=P.options.emptyTag!==""?P.options.emptyTag:r),P.options.validator!=null&&(M="/"+(function(){var S,q,R;for(R=[],S=0,q=A.length;S<q;S++)u=A[S],R.push(u["#name"]);return R})().concat(C).join("/"),(function(){var S;try{return i=P.options.validator(M,N&&N[C],i)}catch(q){return S=q,P.emit("error",S)}})()),P.options.explicitChildren&&!P.options.mergeAttrs&&typeof i=="object"){if(!P.options.preserveChildrenOrder)u={},P.options.attrkey in i&&(u[P.options.attrkey]=i[P.options.attrkey],delete i[P.options.attrkey]),!P.options.charsAsChildren&&P.options.charkey in i&&(u[P.options.charkey]=i[P.options.charkey],delete i[P.options.charkey]),Object.getOwnPropertyNames(i).length>0&&(u[P.options.childkey]=i),i=u;else if(N){N[P.options.childkey]=N[P.options.childkey]||[],_={};for(e in i)I.call(i,e)&&E(_,e,i[e]);N[P.options.childkey].push(_),delete i["#name"],Object.keys(i).length===1&&T in i&&!P.EXPLICIT_CHARKEY&&(i=i[T])}}return A.length>0?P.assignOrPush(N,C,i):(P.options.explicitRoot&&(p=i,i={},E(i,C,p)),P.resultObject=i,P.saxParser.ended=!0,P.emit("end",P.resultObject))}})(this),v=(function(P){return function(a){var r,e;if(e=A[A.length-1],e)return e[T]+=a,P.options.explicitChildren&&P.options.preserveChildrenOrder&&P.options.charsAsChildren&&(P.options.includeWhiteChars||a.replace(/\\n/g,"").trim()!=="")&&(e[P.options.childkey]=e[P.options.childkey]||[],r={"#name":"__text__"},r[T]=a,P.options.normalize&&(r[T]=r[T].replace(/\s{2,}/g," ").trim()),e[P.options.childkey].push(r)),e}})(this),this.saxParser.ontext=v,this.saxParser.oncdata=(function(P){return function(a){var r;if(r=v(a),r)return r.cdata=!0}})(this)},f.prototype.parseString=function(y,T){var v;T!=null&&typeof T=="function"&&(this.on("end",function(A){return this.reset(),T(null,A)}),this.on("error",function(A){return this.reset(),T(A)}));try{return y=y.toString(),y.trim()===""?(this.emit("end",null),!0):(y=h.stripBOM(y),this.options.async?(this.remaining=y,d(this.processAsync),this.saxParser):this.saxParser.write(y).close())}catch(A){if(v=A,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw v}else return this.emit("error",v),this.saxParser.errThrown=!0}},f.prototype.parseStringPromise=function(y){return new Promise((function(T){return function(v,A){return T.parseString(y,function(P,a){return P?A(P):v(a)})}})(this))},f})(b),J.parseString=function(m,f,y){var T,v,A;return y!=null?(typeof y=="function"&&(T=y),typeof f=="object"&&(v=f)):(typeof f=="function"&&(T=f),v={}),A=new J.Parser(v),A.parseString(m,T)},J.parseStringPromise=function(m,f){var y,T;return typeof f=="object"&&(y=f),T=new J.Parser(y),T.parseStringPromise(m)}}).call(J)});var gr=X(tt=>{(function(){"use strict";var h,o,E,b,c=function(s,l){for(var d in l)g.call(l,d)&&(s[d]=l[d]);function w(){this.constructor=s}return w.prototype=l.prototype,s.prototype=new w,s.__super__=l.prototype,s},g={}.hasOwnProperty;o=ft(),h=pr(),E=yr(),b=Bt(),tt.defaults=o.defaults,tt.processors=b,tt.ValidationError=(function(s){c(l,s);function l(d){this.message=d}return l})(Error),tt.Builder=h.Builder,tt.Parser=E.Parser,tt.parseString=E.parseString,tt.parseStringPromise=E.parseStringPromise}).call(tt)});var Er=X((lt,Ut)=>{(function(h,o){var E=E||{};typeof E=="function"&&E.amd?E([],o):typeof lt=="object"&&typeof Ut=="object"?Ut.exports=o():typeof lt=="object"?lt.RelativeTime=o():h.RelativeTime=o()})(lt,function(){let h={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},o="en",E={numeric:"auto"};function b(c){c={locale:(c=c||{}).locale||o,options:{...E,...c.options}},this.rtf=new Intl.RelativeTimeFormat(c.locale,c.options)}return b.prototype={from(c,g){let s=c-(g||new Date);for(let l in h)if(Math.abs(s)>h[l]||l=="second")return this.rtf.format(Math.round(s/h[l]),l)}},b.from=function(c,g,s){return new b(s?{locale:s}:{}).from(c,g)},b})});var qr={};Sr(qr,{default:()=>Ir});module.exports=xr(qr);var F=require("@raycast/api"),st=require("react");var wr=require("@raycast/api"),ct=require("child_process"),jt=Kt(gr());function Tr(h){let o="";return h!=null?o=`/usr/bin/tmutil startbackup -d '${h.ID}'`:o="/usr/bin/tmutil startbackup --auto",new Promise((E,b)=>{(0,ct.exec)(o,(c,g,s)=>{c&&(b(""),console.error(s)),E("")})})}function Dr(){let h="/usr/bin/tmutil stopbackup";return new Promise((o,E)=>{(0,ct.exec)(h,(b,c,g)=>{b&&(E(""),console.error(g)),o("")})})}function br(){let h="/usr/bin/tmutil status -X",o='/usr/libexec/PlistBuddy -x -c "Print Destinations" /Library/Preferences/com.apple.TimeMachine.plist';return new Promise((E,b)=>{(0,ct.exec)(h,(c,g,s)=>{c&&(b({}),console.error(s)),Fr(g).then(l=>{(0,ct.exec)(o,(d,w,O)=>{d&&(console.error(O),E(l)),Xr(w).then(I=>{l.LastBackup=I,E(l)}).catch(()=>{E(l)})})}).catch(()=>{b({})})})})}var kt=(d=>(d.Starting="Starting",d.PreparingSourceVolumes="Preparing source volumes",d.MountingBackupVolume="Mounting backup volume",d.FindingChanges="Finding changes",d.Copying="Copying files",d.ThinningPostBackup="Cleaning up",d.Finishing="Finishing",d.Stopping="Stopping",d))(kt||{}),Fr=async h=>{let b=(await new jt.Parser({explicitArray:!1}).parseStringPromise(h)).plist.dict;return{BackupPhase:b.string[0]||"Unknown",DestinationMountPoint:b.string[3]||"",Running:b.true!==void 0,Progress:b?.dict?.real[0]?parseFloat(b?.dict?.real[0]):0,LastBackup:void 0}},Xr=async h=>{let b=(await new jt.Parser({explicitArray:!0}).parseStringPromise(h)).plist.array[0].dict[0],c=b.string[b.string.length-1],g=b.array[2].date;return{Date:new Date(g[g.length-1])||void 0,Location:c||""}};var Nr=Kt(Er()),W=require("react/jsx-runtime");function Ir(){let[h,o]=(0,st.useState)(null),[E,b]=(0,st.useState)(!0),[c,g]=(0,st.useState)(null);(0,st.useEffect)(()=>{s();let m=setInterval(s,5e3);return()=>clearInterval(m)},[]);let s=async()=>{try{let m=await br();o(m),g(null)}catch{g("Failed to fetch backup status"),o(null)}finally{b(!1)}},l=async()=>{await Tr(),await(0,F.showToast)({style:F.Toast.Style.Success,title:"Starting Backup..."})},d=async()=>{await Dr(),await(0,F.showToast)({style:F.Toast.Style.Success,title:"Stopping Backup..."})},w=(m,f)=>{if(m==="Stopping")return{source:F.Icon.Stop,tintColor:F.Color.Orange};if(!f)return{source:F.Icon.CheckCircle,tintColor:F.Color.Green};switch(m){case"Starting":case"Preparing source volumes":case"Mounting backup volume":return{source:F.Icon.Clock,tintColor:F.Color.Orange};case"Finding changes":case"Copying files":return{source:F.Icon.ArrowClockwise,tintColor:F.Color.Blue};case"Cleaning up":case"Finishing":return{source:F.Icon.Clock,tintColor:F.Color.Orange};default:return{source:F.Icon.Circle,tintColor:F.Color.SecondaryText}}},O=(m,f)=>f?F.Color.Orange:m?F.Color.Blue:F.Color.Green,I=m=>m?.LastBackup&&!m.Running?`Last Backup: ${new Nr.default().from(m.LastBackup.Date)} to ${m.LastBackup.Location}`:"";return c?(0,W.jsx)(F.List,{children:(0,W.jsx)(F.List.Item,{title:"Error",subtitle:c,icon:{source:F.Icon.ExclamationMark,tintColor:F.Color.Red},actions:(0,W.jsx)(F.ActionPanel,{children:(0,W.jsx)(F.Action,{title:"Retry",onAction:s,icon:F.Icon.ArrowClockwise})})})}):(0,W.jsx)(F.List,{isLoading:E,navigationTitle:"Time Machine Status",children:h&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(F.List.Item,{title:"Backup Status",subtitle:h.BackupPhase==="Stopping"?"Stopping":h.Running?"Running":"Idle",icon:w(h.BackupPhase,h.Running),accessories:[{tag:{value:I(h),color:O(h.Running,h.BackupPhase==="Stopping")}}],actions:(0,W.jsxs)(F.ActionPanel,{children:[!h.Running&&(0,W.jsx)(F.Action,{title:"Start Backup",onAction:l,icon:F.Icon.Play}),h.Running&&h.BackupPhase!=="Stopping"&&(0,W.jsx)(F.Action,{title:"Stop Backup",onAction:d,icon:F.Icon.Stop})]})}),h.Running&&(0,W.jsx)(F.List.Item,{title:"Current Phase",subtitle:kt[h.BackupPhase],icon:{source:F.Icon.Info,tintColor:F.Color.SecondaryText}}),h.Running&&(0,W.jsx)(F.List.Item,{title:"Progress",icon:{source:F.Icon.BarChart,tintColor:F.Color.Blue},accessories:[{tag:{value:`${Math.floor(h.Progress*100)}%`,color:F.Color.Blue}}]}),h.DestinationMountPoint!=="."&&(0,W.jsx)(F.List.Item,{title:"Destination",subtitle:h.DestinationMountPoint,icon:{source:F.Icon.HardDrive,tintColor:F.Color.SecondaryText},actions:(0,W.jsx)(F.ActionPanel,{children:(0,W.jsx)(F.Action.Open,{title:"Open Destination",target:h.DestinationMountPoint,icon:F.Icon.Finder})})})]})})}
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
