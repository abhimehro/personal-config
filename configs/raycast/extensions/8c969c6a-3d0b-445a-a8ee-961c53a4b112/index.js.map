{
  "version": 3,
  "sources": ["../src/index.ts", "../src/utils.ts"],
  "sourcesContent": ["import { showHUD, getSelectedFinderItems, confirmAlert, Alert, Icon, Color } from \"@raycast/api\";\nimport { deleteDotUnderscoreFiles, isFile } from \"./utils\";\n\nexport default async function main() {\n  try {\n    const files = await getSelectedFinderItems();\n    const paths = files.map((item) => item.path);\n    const directoryPaths = paths.filter((path) => !isFile(path));\n\n    if (!directoryPaths.length) {\n      await showHUD(\"No folders selected\");\n      return;\n    }\n\n    const folderNamesString = directoryPaths\n      .map((path) => {\n        if (path.length === 1) return `\"${path}\"`;\n        const folderName = path.split(\"/\").at(-2);\n        return `\"${folderName}\"`;\n      })\n      .join(\", \");\n\n    const options: Alert.Options = {\n      title: \"Are you sure you want to delete ._ files in the following directories?\",\n      message: folderNamesString,\n      icon: { source: Icon.Trash, tintColor: Color.Red },\n      primaryAction: {\n        title: \"Delete\",\n        style: Alert.ActionStyle.Destructive,\n      },\n    };\n\n    if (await confirmAlert(options)) {\n      directoryPaths.forEach(deleteDotUnderscoreFiles);\n      await showHUD(\"._ files deleted\");\n    }\n  } catch (error) {\n    console.error(error);\n    await showHUD(\"No folders selected\");\n  }\n}\n", "import { execSync } from \"child_process\";\n\nexport function isFile(path: string) {\n  const result = execSync(\n    `\n      if [ -f \"${path}\" ]; then\n        echo true\n      else\n        echo false\n      fi\n    `,\n    { encoding: \"utf-8\" }\n  ).replace(/\\n/g, \"\");\n\n  return result === \"true\";\n}\n\nexport function deleteDotUnderscoreFiles(path: string) {\n  execSync(`/usr/sbin/dot_clean \"${path}\"`);\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAkF,wBCAlF,IAAAC,EAAyB,yBAElB,SAASC,EAAOC,EAAc,CAYnC,SAXe,YACb;AAAA,iBACaA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMb,CAAE,SAAU,OAAQ,CACtB,EAAE,QAAQ,MAAO,EAAE,IAED,MACpB,CAEO,SAASC,EAAyBD,EAAc,IACrD,YAAS,wBAAwBA,IAAO,CAC1C,CDhBA,eAAOE,GAA8B,CACnC,GAAI,CAGF,IAAMC,GAFQ,QAAM,0BAAuB,GACvB,IAAKC,GAASA,EAAK,IAAI,EACd,OAAQC,GAAS,CAACC,EAAOD,CAAI,CAAC,EAE3D,GAAI,CAACF,EAAe,OAAQ,CAC1B,QAAM,WAAQ,qBAAqB,EACnC,OAWF,IAAMI,EAAyB,CAC7B,MAAO,yEACP,QAVwBJ,EACvB,IAAKE,GACAA,EAAK,SAAW,EAAU,IAAIA,KAE3B,IADYA,EAAK,MAAM,GAAG,EAAE,GAAG,EAAE,IAEzC,EACA,KAAK,IAAI,EAKV,KAAM,CAAE,OAAQ,OAAK,MAAO,UAAW,QAAM,GAAI,EACjD,cAAe,CACb,MAAO,SACP,MAAO,QAAM,YAAY,WAC3B,CACF,EAEI,QAAM,gBAAaE,CAAO,IAC5BJ,EAAe,QAAQK,CAAwB,EAC/C,QAAM,WAAQ,kBAAkB,EAEpC,OAASC,EAAP,CACA,QAAQ,MAAMA,CAAK,EACnB,QAAM,WAAQ,qBAAqB,CACrC,CACF",
  "names": ["src_exports", "__export", "main", "__toCommonJS", "import_api", "import_child_process", "isFile", "path", "deleteDotUnderscoreFiles", "main", "directoryPaths", "item", "path", "isFile", "options", "deleteDotUnderscoreFiles", "error"]
}
