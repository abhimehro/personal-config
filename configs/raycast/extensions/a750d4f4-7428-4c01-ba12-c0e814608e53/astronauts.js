"use strict";var pt=Object.create;var H=Object.defineProperty;var mt=Object.getOwnPropertyDescriptor;var bt=Object.getOwnPropertyNames;var gt=Object.getPrototypeOf,yt=Object.prototype.hasOwnProperty;var T=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),$t=(e,r)=>{for(var t in r)H(e,t,{get:r[t],enumerable:!0})},Ae=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of bt(r))!yt.call(e,n)&&n!==t&&H(e,n,{get:()=>r[n],enumerable:!(a=mt(r,n))||a.enumerable});return e};var F=(e,r,t)=>(t=e!=null?pt(gt(e)):{},Ae(r||!e||!e.__esModule?H(t,"default",{value:e,enumerable:!0}):t,e)),wt=e=>Ae(H({},"__esModule",{value:!0}),e);var Oe=T((wr,zt)=>{zt.exports={AD:["Andorra","Andorran"],AE:["United Arab Emirates","UAE","Emirati"],AF:["Afghanistan","Afghan"],AG:["Antigua and Barbuda","Antiguan, Barbudan"],AI:["Anguilla","Anguillian"],AL:["Albania","Albanian"],AM:["Armenia","Armenian"],AN:"Netherlands Antilles",AO:["Angola","Angolan"],AQ:["Antarctica","Antarctican"],AR:["Argentina","Argentine"],AS:["American Samoa","American Samoan"],AT:["Austria","Austrian"],AU:["Australia","Australian"],AW:["Aruba","Aruban"],AX:["\xC5land Islands","\xC5landish"],AZ:["Azerbaijan","Azerbaijani"],BA:["Bosnia and Herzegovina","Bosnian, Herzegovinian"],BB:["Barbados","Barbadian"],BD:["Bangladesh","Bangladeshi"],BE:["Belgium","Belgian"],BF:["Burkina Faso","Burkinabe"],BG:["Bulgaria","Bulgarian"],BH:["Bahrain","Bahraini"],BI:["Burundi","Burundian"],BJ:["Benin","Beninese"],BM:["Bermuda","Bermudian"],BN:["Brunei Darussalam","Bruneian"],BO:["Bolivia","Bolivian"],BR:["Brazil","Brazilian"],BS:["Bahamas","Bahamian"],BT:["Bhutan","Bhutanese"],BV:"Bouvet Island",BW:["Botswana","Motswana"],BY:["Belarus","Belarusian"],BZ:["Belize","Belizean"],CA:["Canada","Canadian"],CC:["Cocos (Keeling) Islands","Cocos Islander"],CD:["Congo, The Democratic Republic of the"],CF:["Central African Republic","Central African"],CG:["Congo"],CH:["Switzerland","Swiss"],CI:["Cote D'Ivoire","Ivorian"],CK:["Cook Islands","Cook Islander"],CL:["Chile","Chilean"],CM:["Cameroon","Cameroonian"],CN:["China","Chinese"],CO:["Colombia","Colombian"],CR:["Costa Rica","Costa Rican"],CU:["Cuba","Cuban"],CV:["Cape Verde","Cape Verdian"],CX:["Christmas Island","Christmas Islander"],CY:["Cyprus","Cypriot"],CZ:["Czechia","Czech Republic","Czech"],DE:["Germany","German"],DJ:["Djibouti"],DK:["Denmark","Danish"],DM:["Dominica"],DO:["Dominican Republic"],DZ:["Algeria","Algerian"],EC:["Ecuador","Ecuadorean"],EE:["Estonia","Estonian"],EG:["Egypt","Egyptian"],EH:["Western Sahara","Sahrawi"],ER:["Eritrea","Eritrean"],ES:["Spain","Spanish"],ET:["Ethiopia","Ethiopian"],EU:"European Union",FI:["Finland","Finnish"],FJ:["Fiji","Fijian"],FK:["Falkland Islands (Malvinas)","Falkland Islander"],FM:["Micronesia, Federated States of","Micronesian"],FO:["Faroe Islands","Faroese"],FR:["France","French"],GA:["Gabon","Gabonese"],GB:["United Kingdom","UK","British"],GD:["Grenada","Grenadian"],GE:["Georgia","Georgian"],GF:["French Guiana","Guianan"],GG:["Guernsey"],GH:["Ghana","Ghanaian"],GI:["Gibraltar"],GL:["Greenland","Greenlandic"],GM:["Gambia","Gambian"],GN:["Guinea","Guinean"],GP:["Guadeloupe","Guadeloupian"],GQ:["Equatorial Guinea","Equatorial Guinean"],GR:["Greece","Greek"],GS:["South Georgia and the South Sandwich Islands","South Georgian South Sandwich Islander"],GT:["Guatemala","Guatemalan"],GU:["Guam","Guamanian"],GW:["Guinea-Bissau","Guinea-Bissauan"],GY:["Guyana","Guyanese"],HK:["Hong Kong","Hong Konger"],HM:["Heard Island and Mcdonald Islands","Heard and McDonald Islander"],HN:["Honduras","Honduran"],HR:["Croatia","Croatian"],HT:["Haiti","Haitian"],HU:["Hungary","Hungarian"],ID:["Indonesia","Indonesian"],IE:["Ireland","Irish"],IL:["Israel","Israeli"],IM:["Isle of Man","Manx"],IN:["India","Indian"],IO:["British Indian Ocean Territory"],IQ:["Iraq","Iraqi"],IR:["Iran, Islamic Republic Of","Iranian"],IS:["Iceland","Icelander"],IT:["Italy","Italian"],JE:["Jersey"],JM:["Jamaica","Jamaican"],JO:["Jordan","Jordanian"],JP:["Japan","Japanese"],KE:["Kenya","Kenyan"],KG:["Kyrgyzstan","Kirghiz"],KH:["Cambodia","Cambodian"],KI:["Kiribati","I-Kiribati"],KM:["Comoros","Comoran"],KN:["Saint Kitts and Nevis","Kittitian or Nevisian"],KP:["Korea, Democratic People's Republic of","North Korea","North Korean","DPRK"],KR:["Korea, Republic of","South Korea","South Korean"],KW:["Kuwait","Kuwaiti"],KY:["Cayman Islands","Caymanian"],KZ:["Kazakhstan","Kazakhstani"],LA:["Lao People's Democratic Republic","Laotian"],LB:["Lebanon","Lebanese"],LC:["Saint Lucia","Saint Lucian"],LI:["Liechtenstein","Liechtensteiner"],LK:["Sri Lanka","Sri Lankan"],LR:["Liberia","Liberian"],LS:["Lesotho","Mosotho"],LT:["Lithuania","Lithuanian"],LU:["Luxembourg","Luxembourger"],LV:["Latvia","Latvian"],LY:["Libyan Arab Jamahiriya","Libyan"],MA:["Morocco","Moroccan"],MC:["Monaco","Monegasque"],MD:["Moldova, Republic of","Moldovan"],ME:["Montenegro","Montenegrin"],MG:["Madagascar","Malagasy"],MH:["Marshall Islands","Marshallese"],MK:["Republic of North Macedonia","North Macedonia","Macedonia, The Former Yugoslav Republic of","Macedonian"],ML:["Mali","Malian"],MM:["Myanmar","Burma","Burmese"],MN:["Mongolia","Mongolian"],MO:["Macao","Macau","Macanese"],MP:["Northern Mariana Islands"],MQ:["Martinique"],MR:["Mauritania","Mauritanian"],MS:["Montserrat","Montserratian"],MT:["Malta","Maltese"],MU:["Mauritius","Mauritian"],MV:["Maldives","Maldivan"],MW:["Malawi","Malawian"],MX:["Mexico","Mexican"],MY:["Malaysia","Malaysian"],MZ:["Mozambique","Mozambican"],NA:["Namibia","Namibian"],NC:["New Caledonia","New Caledonian"],NE:["Niger","Nigerien"],NF:["Norfolk Island","Norfolk Islander"],NG:["Nigeria","Nigerian"],NI:["Nicaragua","Nicaraguan"],NL:["Netherlands","Dutch"],NO:["Norway","Norwegian"],NP:["Nepal","Nepalese"],NR:["Nauru","Nauruan"],NU:["Niue","Niuean"],NZ:["New Zealand","New Zealander"],OM:["Oman","Omani"],PA:["Panama","Panamanian"],PE:["Peru","Peruvian"],PF:["French Polynesia","French Polynesian"],PG:["Papua New Guinea","Papua New Guinean"],PH:["Philippines","Filipino"],PK:["Pakistan","Pakistani"],PL:["Poland","Polish"],PM:["Saint Pierre and Miquelon"],PN:["Pitcairn","Pitcairn Islander"],PR:["Puerto Rico","Puerto Rican"],PS:["Palestinian Territory, Occupied","Palestine","Palestinian"],PT:["Portugal","Portuguese"],PW:["Palau","Palauan"],PY:["Paraguay","Paraguayan"],QA:["Qatar","Qatari"],RE:["Reunion"],RO:["Romania","Romanian"],RS:["Serbia","Serbian"],RU:["Russian Federation","Russian"],RW:["Rwanda","Rwandan"],SA:["Saudi Arabia","Saudi Arabian"],SB:["Solomon Islands","Solomon Islander"],SC:["Seychelles","Seychellois"],SD:["Sudan","Sudanese"],SE:["Sweden","Swedish"],SG:["Singapore","Singaporean"],SH:["Saint Helena","Saint Helenian"],SI:["Slovenia","Slovene"],SJ:["Svalbard and Jan Mayen"],SK:["Slovakia","Slovak"],SL:["Sierra Leone","Sierra Leonean"],SM:["San Marino","Sammarinese"],SN:["Senegal","Senegalese"],SO:["Somalia","Somali"],SR:["Suriname","Surinamer"],ST:["Sao Tome and Principe","Sao Tomean"],SV:["El Salvador","Salvadoran"],SY:["Syrian Arab Republic","Syrian"],SZ:["Swaziland","Swazi"],TC:["Turks and Caicos Islands","Turks and Caicos Islander"],TD:["Chad","Chadian"],TF:["French Southern Territories"],TG:["Togo","Togolese"],TH:["Thailand","Thai"],TJ:["Tajikistan","Tadzhik"],TK:["Tokelau","Tokelauan"],TL:["Timor-Leste","East Timorese"],TM:["Turkmenistan","Turkmen"],TN:["Tunisia","Tunisian"],TO:["Tonga","Tongan"],TR:["Turkey","Turkish"],TT:["Trinidad and Tobago","Trinidadian"],TV:["Tuvalu","Tuvaluan"],TW:["Taiwan","Taiwanese"],TZ:["Tanzania, United Republic of","Tanzanian"],UA:["Ukraine","Ukrainian"],UG:["Uganda","Ugandan"],UM:["United States Minor Outlying Islands"],US:["United States","USA","American"],UY:["Uruguay","Uruguayan"],UZ:["Uzbekistan","Uzbekistani"],VA:["Holy See (Vatican City State)","Vatican"],VC:["Saint Vincent and the Grenadines","Saint Vincentian"],VE:["Venezuela","Venezuelan"],VG:["Virgin Islands, British"],VI:["Virgin Islands, U.S."],VN:["Vietnam","Viet Nam","Vietnamese"],VU:["Vanuatu","Ni-Vanuatu"],WF:["Wallis and Futuna","Wallis and Futuna Islander"],WS:["Samoa","Samoan"],XK:["Kosovo","Kosovar"],YE:["Yemen","Yemeni"],YT:["Mayotte","Mahoran"],ZA:["South Africa","South African"],ZM:["Zambia","Zambian"],ZW:["Zimbabwe","Zimbabwean"]}});var je=T((kr,Ge)=>{"use strict";function ie(e){return Wt(e)||Vt(e)||ze(e)||Ft()}function Ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Wt(e){if(Array.isArray(e))return se(e)}function Ne(e,r){var t;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(t=ze(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,i=!1,c;return{s:function(){t=e[Symbol.iterator]()},n:function(){var u=t.next();return o=u.done,u},e:function(u){i=!0,c=u},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}}}function ze(e,r){if(e){if(typeof e=="string")return se(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return se(e,r)}}function se(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var M=Oe(),oe=127397,Y=/^[a-z]{2}$/i,Fe=/^.{2,}$/,ce=/\uD83C[\uDDE6-\uDDFF]/;function Ve(e,r){if(r=r.toLowerCase(),r.includes(e)||e.includes(r))return!0;if(r.includes(",")){var t=r.split(", ").reverse().join(" ");if(t.includes(e)||e.includes(t))return!0}return!1}function le(e){return e=e.toUpperCase(),M[e]?e:void 0}function ue(e){if(!(!e||!Fe.test(e))){e=e.trim().toLowerCase();for(var r in M)if({}.hasOwnProperty.call(M,r)){var t=M[r];Array.isArray(t)||(t=[t]);var a=Ne(t),n;try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.toLowerCase()===e)return r}}catch(c){a.e(c)}finally{a.f()}}var i=Object.keys(M).filter(function(c){var s=M[c];Array.isArray(s)||(s=[s]);var u=Ne(s),h;try{for(u.s();!(h=u.n()).done;){var b=h.value;if(Ve(e,b))return!0}}catch(k){u.e(k)}finally{u.f()}return!1});if(i.length===1)return i[0]}}function We(e){if(!(!e||!Y.test(e))){var r=M[e.toUpperCase()];return Array.isArray(r)?r[0]:r}}function Be(e){if(!(!e||!Y.test(e))&&(e=le(e),!!e&&String&&String.fromCodePoint))return String.fromCodePoint.apply(String,ie(ie(e).map(function(r){return oe+r.charCodeAt(0)})))}function fe(e){if(!(!e||!ce.test(e)))return le(ie(e).map(function(r){return r.codePointAt(0)-oe}).map(function(r){return String.fromCharCode(r)}).join(""))}function Bt(e){return fe(e)||ue(e)}function Gt(e){return(!Y.test(e)||e==="UK")&&(e=ue(e)),Be(e)}function jt(e){return ce.test(e)&&(e=fe(e)),We(e)}Ge.exports={MAGIC_NUMBER:oe,CODE_RE:Y,NAME_RE:Fe,FLAG_RE:ce,code:Bt,flag:Gt,name:jt,countries:M,isCode:le,fuzzyCompare:Ve,codeToName:We,codeToFlag:Be,nameToCode:ue,flagToCode:fe}});var He=T((vr,Ke)=>{"use strict";var Q=je(),Kt=Q.flag,Ht=Q.name,Zt=Q.code,Jt=Q.countries;Ke.exports={flag:Kt,name:Ht,code:Zt,countries:Jt}});var Ze=T(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});var qt=["second","minute","hour","day","week","month","year"];function Yt(e,r){if(r===0)return["just now","right now"];var t=qt[Math.floor(r/2)];return e>1&&(t+="s"),[e+" "+t+" ago","in "+e+" "+t]}de.default=Yt});var Je=T(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});var Qt=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function Xt(e,r){if(r===0)return["\u521A\u521A","\u7247\u523B\u540E"];var t=Qt[~~(r/2)];return[e+" "+t+"\u524D",e+" "+t+"\u540E"]}he.default=Xt});var ee=T(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});var pe={};X.register=function(e,r){pe[e]=r};X.getLocale=function(e){return pe[e]||pe.en_US}});var be=T(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var O=[60,60,24,7,365/7/12,12];function me(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}W.toDate=me;function er(e,r){var t=e<0?1:0;e=Math.abs(e);for(var a=e,n=0;e>=O[n]&&n<O.length;n++)e/=O[n];return e=Math.floor(e),n*=2,e>(n===0?9:1)&&(n+=1),r(e,n,a)[t].replace("%s",e.toString())}W.formatDiff=er;function tr(e,r){var t=r?me(r):new Date;return(+t-+me(e))/1e3}W.diffSec=tr;function rr(e){for(var r=1,t=0,a=Math.abs(e);e>=O[t]&&t<O.length;t++)e/=O[t],r*=O[t];return a=a%r,a=a?r-a:r,Math.ceil(a)}W.nextInterval=rr});var Ye=T(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});var qe=be(),ar=ee();ge.format=function(e,r,t){var a=qe.diffSec(e,t&&t.relativeDate);return qe.formatDiff(a,ar.getLocale(r))}});var Xe=T(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var Qe="timeago-id";function nr(e){return e.getAttribute("datetime")}j.getDateAttribute=nr;function ir(e,r){e.setAttribute(Qe,r)}j.setTimerId=ir;function sr(e){return parseInt(e.getAttribute(Qe))}j.getTimerId=sr});var tt=T(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});var te=Xe(),ye=be(),or=ee(),we={},$e=function(e){clearTimeout(e),delete we[e]};function et(e,r,t,a){$e(te.getTimerId(e));var n=a.relativeDate,o=a.minInterval,i=ye.diffSec(r,n);e.innerText=ye.formatDiff(i,t);var c=setTimeout(function(){et(e,r,t,a)},Math.min(Math.max(ye.nextInterval(i),o||1)*1e3,2147483647));we[c]=0,te.setTimerId(e,c)}function cr(e){e?$e(te.getTimerId(e)):Object.keys(we).forEach($e)}re.cancel=cr;function lr(e,r,t){var a=e.length?e:[e];return a.forEach(function(n){et(n,te.getDateAttribute(n),or.getLocale(r),t||{})}),a}re.render=lr});var nt=T(U=>{"use strict";var rt=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U,"__esModule",{value:!0});var ur=rt(Ze()),fr=rt(Je()),ke=ee();U.register=ke.register;ke.register("en_US",ur.default);ke.register("zh_CN",fr.default);var dr=Ye();U.format=dr.format;var at=tt();U.render=at.render;U.cancel=at.cancel});var hr={};$t(hr,{default:()=>ft});module.exports=wt(hr);var ut=require("@raycast/api");var l=F(require("react")),d=require("@raycast/api");var Ee=Object.prototype.hasOwnProperty;function Z(e,r){var t,a;if(e===r)return!0;if(e&&r&&(t=e.constructor)===r.constructor){if(t===Date)return e.getTime()===r.getTime();if(t===RegExp)return e.toString()===r.toString();if(t===Array){if((a=e.length)===r.length)for(;a--&&Z(e[a],r[a]););return a===-1}if(!t||typeof e=="object"){a=0;for(t in e)if(Ee.call(e,t)&&++a&&!Ee.call(r,t)||!(t in r)||!Z(e[t],r[t]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}var L=F(require("node:fs")),q=F(require("node:path")),Re=F(require("node:crypto"));var _e=require("react/jsx-runtime");function kt(e){let r=(0,l.useRef)(e),t=(0,l.useRef)(0);return Z(e,r.current)||(r.current=e,t.current+=1),(0,l.useMemo)(()=>r.current,[t.current])}function v(e){let r=(0,l.useRef)(e);return r.current=e,r}function vt(e,r){let t=e instanceof Error?e.message:String(e);return(0,d.showToast)({style:d.Toast.Style.Failure,title:r?.title??"Something went wrong",message:r?.message??t,primaryAction:r?.primaryAction??Te(e),secondaryAction:r?.primaryAction?Te(e):void 0})}var Te=e=>{let r=!0,t="[Extension Name]...",a="";try{let i=JSON.parse((0,L.readFileSync)((0,q.join)(d.environment.assetsPath,"..","package.json"),"utf8"));t=`[${i.title}]...`,a=`https://raycast.com/${i.owner||i.author}/${i.name}`,(!i.owner||i.access==="public")&&(r=!1)}catch{}let n=d.environment.isDevelopment||r,o=e instanceof Error?e?.stack||e?.message||"":String(e);return{title:n?"Copy Logs":"Report Error",onAction(i){i.hide(),n?d.Clipboard.copy(o):(0,d.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(t)}&extension-url=${encodeURI(a)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${o}
\`\`\`
`)}`)}}};function St(e,r,t){let a=(0,l.useRef)(0),[n,o]=(0,l.useState)({isLoading:!0}),i=v(e),c=v(t?.abortable),s=v(r||[]),u=v(t?.onError),h=v(t?.onData),b=v(t?.onWillExecute),k=v(t?.failureToastOptions),A=v(n.data),$=(0,l.useRef)(null),p=(0,l.useRef)({page:0}),g=(0,l.useRef)(!1),E=(0,l.useRef)(!0),R=(0,l.useRef)(50),y=(0,l.useCallback)(()=>(c.current&&(c.current.current?.abort(),c.current.current=new AbortController),++a.current),[c]),m=(0,l.useCallback)((...P)=>{let x=y();b.current?.(P),o(f=>({...f,isLoading:!0}));let N=xt(i.current)(...P);function z(f){return f.name=="AbortError"||x===a.current&&(u.current?u.current(f):d.environment.launchType!==d.LaunchType.Background&&vt(f,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(D){D.hide(),$.current?.(...s.current||[])}},...k.current}),o({error:f,isLoading:!1})),f}return typeof N=="function"?(g.current=!0,N(p.current).then(({data:f,hasMore:D,cursor:dt})=>(x===a.current&&(p.current&&(p.current.cursor=dt,p.current.lastItem=f?.[f.length-1]),h.current&&h.current(f,p.current),D&&(R.current=f.length),E.current=D,o(ht=>p.current.page===0?{data:f,isLoading:!1}:{data:(ht.data||[])?.concat(f),isLoading:!1})),f),f=>(E.current=!1,z(f)))):(g.current=!1,N.then(f=>(x===a.current&&(h.current&&h.current(f),o({data:f,isLoading:!1})),f),z))},[h,u,s,i,o,$,b,p,k,y]);$.current=m;let I=(0,l.useCallback)(()=>{p.current={page:0};let P=s.current||[];return m(...P)},[m,s]),C=(0,l.useCallback)(async(P,x)=>{let N;try{if(x?.optimisticUpdate){y(),typeof x?.rollbackOnError!="function"&&x?.rollbackOnError!==!1&&(N=structuredClone(A.current?.value));let z=x.optimisticUpdate;o(f=>({...f,data:z(f.data)}))}return await P}catch(z){if(typeof x?.rollbackOnError=="function"){let f=x.rollbackOnError;o(D=>({...D,data:f(D.data)}))}else x?.optimisticUpdate&&x?.rollbackOnError!==!1&&o(f=>({...f,data:N}));throw z}finally{x?.shouldRevalidateAfter!==!1&&(d.environment.launchType===d.LaunchType.Background||d.environment.commandMode==="menu-bar"?await I():I())}},[I,A,o,y]),_=(0,l.useCallback)(()=>{p.current.page+=1;let P=s.current||[];m(...P)},[p,s,m]);(0,l.useEffect)(()=>{p.current={page:0},t?.execute!==!1?m(...r||[]):y()},[kt([r,t?.execute,m]),c,p]),(0,l.useEffect)(()=>()=>{y()},[y]);let B=t?.execute!==!1?n.isLoading:!1,G={...n,isLoading:B},K=g.current?{pageSize:R.current,hasMore:E.current,onLoadMore:_}:void 0;return{...G,revalidate:I,mutate:C,pagination:K}}function xt(e){return e===Promise.all||e===Promise.race||e===Promise.resolve||e===Promise.reject?e.bind(Promise):e}function Ie(e){return typeof e!="function"?!1:/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))!==null}function At(e){return e instanceof URLSearchParams?e.toString():e}function Pe(e,r=[]){function t(a){return"update"in e?e.update(a,"utf8"):e.write(a)}return{dispatch:function(a){a=At(a),a===null?this._null():this["_"+typeof a](a)},_object:function(a){let n=/\[object (.*)\]/i,o=Object.prototype.toString.call(a),i=n.exec(o)?.[1]??"unknown:["+o+"]";i=i.toLowerCase();let c=null;if((c=r.indexOf(a))>=0){this.dispatch("[CIRCULAR:"+c+"]");return}else r.push(a);if(Buffer.isBuffer(a))return t("buffer:"),t(a.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")if(this["_"+i])this["_"+i](a);else throw new Error('Unknown object type "'+i+'"');else{let s=Object.keys(a);s=s.sort(),Ie(a)||s.splice(0,0,"prototype","__proto__","constructor"),t("object:"+s.length+":");let u=this;return s.forEach(function(h){u.dispatch(h),t(":"),u.dispatch(a[h]),t(",")})}},_array:function(a,n){n=typeof n<"u"?n:!1;let o=this;if(t("array:"+a.length+":"),!n||a.length<=1){a.forEach(function(s){o.dispatch(s)});return}let i=[],c=a.map(function(s){let u=Et(),h=r.slice();return Pe(u,h).dispatch(s),i=i.concat(h.slice(r.length)),u.read().toString()});r=r.concat(i),c.sort(),this._array(c,!1)},_date:function(a){t("date:"+a.toJSON())},_symbol:function(a){t("symbol:"+a.toString())},_error:function(a){t("error:"+a.toString())},_boolean:function(a){t("bool:"+a.toString())},_string:function(a){t("string:"+a.length+":"),t(a.toString())},_function:function(a){t("fn:"),Ie(a)?this.dispatch("[native]"):this.dispatch(a.toString()),this.dispatch("function-name:"+String(a.name)),this._object(a)},_number:function(a){t("number:"+a.toString())},_xml:function(a){t("xml:"+a.toString())},_null:function(){t("Null")},_undefined:function(){t("Undefined")},_regexp:function(a){t("regex:"+a.toString())},_uint8array:function(a){t("uint8array:"),this.dispatch(Array.prototype.slice.call(a))},_uint8clampedarray:function(a){t("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(a))},_int8array:function(a){t("int8array:"),this.dispatch(Array.prototype.slice.call(a))},_uint16array:function(a){t("uint16array:"),this.dispatch(Array.prototype.slice.call(a))},_int16array:function(a){t("int16array:"),this.dispatch(Array.prototype.slice.call(a))},_uint32array:function(a){t("uint32array:"),this.dispatch(Array.prototype.slice.call(a))},_int32array:function(a){t("int32array:"),this.dispatch(Array.prototype.slice.call(a))},_float32array:function(a){t("float32array:"),this.dispatch(Array.prototype.slice.call(a))},_float64array:function(a){t("float64array:"),this.dispatch(Array.prototype.slice.call(a))},_arraybuffer:function(a){t("arraybuffer:"),this.dispatch(new Uint8Array(a))},_url:function(a){t("url:"+a.toString())},_map:function(a){t("map:");let n=Array.from(a);this._array(n,!0)},_set:function(a){t("set:");let n=Array.from(a);this._array(n,!0)},_file:function(a){t("file:"),this.dispatch([a.name,a.size,a.type,a.lastModified])},_blob:function(){throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){t("domwindow")},_bigint:function(a){t("bigint:"+a.toString())},_process:function(){t("process")},_timer:function(){t("timer")},_pipe:function(){t("pipe")},_tcp:function(){t("tcp")},_udp:function(){t("udp")},_tty:function(){t("tty")},_statwatcher:function(){t("statwatcher")},_securecontext:function(){t("securecontext")},_connection:function(){t("connection")},_zlib:function(){t("zlib")},_context:function(){t("context")},_nodescript:function(){t("nodescript")},_httpparser:function(){t("httpparser")},_dataview:function(){t("dataview")},_signal:function(){t("signal")},_fsevent:function(){t("fsevent")},_tlswrap:function(){t("tlswrap")}}}function Et(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}function Tt(e,r){let t=this[e];return t instanceof Date?`__raycast_cached_date__${t.toISOString()}`:Buffer.isBuffer(t)?`__raycast_cached_buffer__${t.toString("base64")}`:r}function It(e,r){return typeof r=="string"&&r.startsWith("__raycast_cached_date__")?new Date(r.replace("__raycast_cached_date__","")):typeof r=="string"&&r.startsWith("__raycast_cached_buffer__")?Buffer.from(r.replace("__raycast_cached_buffer__",""),"base64"):r}function J(e){let r=Re.default.createHash("sha1");return Pe(r).dispatch(e),r.digest("hex")}var Ct=Symbol("cache without namespace"),Ce=new Map;function Rt(e,r,t){let a=t?.cacheNamespace||Ct,n=Ce.get(a)||Ce.set(a,new d.Cache({namespace:t?.cacheNamespace})).get(a);if(!n)throw new Error("Missing cache");let o=v(e),i=v(r),c=(0,l.useSyncExternalStore)(n.subscribe,()=>{try{return n.get(o.current)}catch(b){console.error("Could not get Cache data:",b);return}}),s=(0,l.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,It)}catch(b){return console.warn("The cached data is corrupted",b),i.current}}else return i.current},[c,i]),u=v(s),h=(0,l.useCallback)(b=>{let k=typeof b=="function"?b(u.current):b;if(typeof k>"u")n.set(o.current,"undefined");else{let A=JSON.stringify(k,Tt);n.set(o.current,A)}return k},[n,o,u]);return[s,h]}var V=Symbol();function _t(e,r,t){let{initialData:a,keepPreviousData:n,internal_cacheKeySuffix:o,...i}=t||{},c=(0,l.useRef)(null),[s,u]=Rt(J(r||[])+o,V,{cacheNamespace:J(e)}),h=(0,l.useRef)(s!==V?s:a),b=(0,l.useRef)(void 0),{mutate:k,revalidate:A,...$}=St(e,r||[],{...i,onData(y,m){b.current=m,i.onData&&i.onData(y,m),!(m&&m.page>0)&&(c.current="promise",h.current=y,u(y))}}),p,g=$.pagination;b.current&&b.current.page>0&&$.data?p=$.data:c.current==="promise"?p=h.current:n&&s!==V?(p=s,g&&(g.hasMore=!0,g.pageSize=s.length)):n&&s===V?p=h.current:s!==V?(p=s,g&&(g.hasMore=!0,g.pageSize=s.length)):p=a;let E=v(p),R=(0,l.useCallback)(async(y,m)=>{let I;try{if(m?.optimisticUpdate){typeof m?.rollbackOnError!="function"&&m?.rollbackOnError!==!1&&(I=structuredClone(E.current));let C=m.optimisticUpdate(E.current);c.current="cache",h.current=C,u(C)}return await k(y,{shouldRevalidateAfter:m?.shouldRevalidateAfter})}catch(C){if(typeof m?.rollbackOnError=="function"){let _=m.rollbackOnError(E.current);c.current="cache",h.current=_,u(_)}else m?.optimisticUpdate&&m?.rollbackOnError!==!1&&(c.current="cache",h.current=I,u(I));throw C}},[u,k,E,h,c]);return(0,l.useEffect)(()=>{s!==V&&(c.current="cache",h.current=s)},[s]),{data:p,isLoading:$.isLoading,error:$.error,mutate:b.current&&b.current.page>0?k:R,pagination:g,revalidate:A}}function Pt(e){if(e){let r=Ut(e);if(!r)return!1;if(r.subtype==="json"||r.suffix==="json"||r.suffix&&/\bjson\b/i.test(r.suffix)||r.subtype&&/\bjson\b/i.test(r.subtype))return!0}return!1}var Mt=/^([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126});?$/;function Ut(e){let r=e.indexOf(";"),t=r!==-1?e.slice(0,r).trim():e.trim(),a=Mt.exec(t.toLowerCase().toLowerCase());if(!a)return;let n=a[1],o=a[2],i,c=o.lastIndexOf("+");return c!==-1&&(i=o.substring(c+1),o=o.substring(0,c)),{type:n,subtype:o,suffix:i}}async function Dt(e){if(!e.ok)throw new Error(e.statusText);let r=e.headers.get("content-type");return r&&Pt(r)?await e.json():await e.text()}function Lt(e){return{data:e,hasMore:!1}}function Me(e,r){let{parseResponse:t,mapResult:a,initialData:n,execute:o,keepPreviousData:i,onError:c,onData:s,onWillExecute:u,failureToastOptions:h,...b}=r||{},k={initialData:n,execute:o,keepPreviousData:i,onError:c,onData:s,onWillExecute:u,failureToastOptions:h},A=v(t||Dt),$=v(a||Lt),p=(0,l.useRef)(null),g=(0,l.useRef)(null),E=typeof e=="function"?e({page:0}):void 0;(!p.current||typeof g.current>"u"||g.current!==E)&&(p.current=e),g.current=E;let R=(0,l.useRef)(null),y=(0,l.useCallback)((C,_)=>async B=>{let G=await fetch(C(B),{signal:R.current?.signal,..._}),K=await A.current(G);return $.current?.(K)},[A,$]),m=(0,l.useCallback)(async(C,_)=>{let B=await fetch(C,{signal:R.current?.signal,..._}),G=await A.current(B);return $.current(G)?.data},[A,$]),I=(0,l.useMemo)(()=>g.current?y:m,[g,m,y]);return _t(I,[p.current,b],{...k,internal_cacheKeySuffix:g.current+J($.current)+J(A.current),abortable:R})}var Ue=require("@raycast/api"),Ot=(0,Ue.getPreferenceValues)(),yr=Ot.apiKey,Nt="https://api.nasa.gov",ne="https://ll.thespacedevs.com/2.2.0",De={APOD:`${Nt}/planetary/apod?api_key=APIKEY`,RSS:"https://www.nasa.gov/news-release/feed/",ASTRONAUTS:`${ne}/astronaut/?in_space=true&limit=100`,SPACECRAFTS:`${ne}/spacecraft/?in_space=true&limit=100`,LAUNCHES:`${ne}/launch/upcoming/?limit=100`},Le={accept:"application/json"};var S=require("@raycast/api"),ot=F(He());var it=F(nt());function ve(e){let r=new Date(e);return(0,it.format)(r)}function st(e){let r=/P(?:(\d+)D)?T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/,t=e.match(r);if(!t)throw new Error("Invalid duration format");let a=parseInt(t[1]||"0",10),n=parseInt(t[2]||"0",10),o=parseInt(t[3]||"0",10),i=parseInt(t[4]||"0",10);return a+" days, "+n+" hours, "+o+" minutes, "+i+" seconds"}var w=require("react/jsx-runtime");function Se({astronaut:e}){let r=`
  ![${e.name}](${e.profile_image_thumbnail})
  
  ${e.bio}
  `;return(0,w.jsx)(S.List.Item,{title:e.name+" "+((0,ot.flag)(e.nationality)||"\u{1F30D}"),detail:(0,w.jsx)(S.List.Item.Detail,{markdown:r,metadata:(0,w.jsxs)(S.List.Item.Detail.Metadata,{children:[(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Name \u{1F471}",text:e.name}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Time in space \u{1F30C}",text:st(e.time_in_space)}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Age \u{1F468}\u200D\u{1F9B3}",text:e.age+" years old - "+e.date_of_birth}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Nationality \u{1F30D}",text:e.nationality}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Agency \u{1F91D}",text:e.agency.name}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Flights \u{1F680}",text:e.flights_count.toString()}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Landings \u{1F6EC}",text:e.landings_count.toString()}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Spacewalks \u{1F6B6}\u200D\u2642\uFE0F",text:e.spacewalks_count.toString()}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"First Flight \u{1F680}",text:ve(e.first_flight)}),(0,w.jsx)(S.List.Item.Detail.Metadata.Label,{title:"Last Flight \u{1F680}",text:ve(e.last_flight)})]})})})}var ct=require("@raycast/api"),lt=require("react/jsx-runtime");function xe({error:e}){let r=`  
  # An error occurred
  ${e.message}
  `;return(0,lt.jsx)(ct.Detail,{markdown:r})}var ae=require("react/jsx-runtime");function ft(){let{isLoading:e,data:r,error:t}=Me(De.ASTRONAUTS,{headers:Le,mapResult(a){return{data:a}},initialData:[]});return t?(0,ae.jsx)(xe,{error:t}):(0,ae.jsx)(ut.List,{isShowingDetail:!0,isLoading:e,children:!e&&r.results.map(a=>(0,ae.jsx)(Se,{astronaut:a},a.id))})}
