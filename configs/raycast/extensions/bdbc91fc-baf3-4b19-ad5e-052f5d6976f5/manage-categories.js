"use strict";var Z=Object.create;var R=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var Q=Object.getOwnPropertyNames;var Y=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var ee=(t,a)=>{for(var i in a)R(t,i,{get:a[i],enumerable:!0})},M=(t,a,i,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let c of Q(a))!X.call(t,c)&&c!==i&&R(t,c,{get:()=>a[c],enumerable:!(d=q(a,c))||d.enumerable});return t};var O=(t,a,i)=>(i=t!=null?Z(Y(t)):{},M(a||!t||!t.__esModule?R(i,"default",{value:t,enumerable:!0}):i,t)),te=t=>M(R({},"__esModule",{value:!0}),t);var ne={};ee(ne,{default:()=>J});module.exports=te(ne);var r=require("@raycast/api");var k=O(require("react")),o=require("@raycast/api");var w=O(require("node:fs")),T=O(require("node:path"));var F=require("react/jsx-runtime");function W(t,a){let i=t instanceof Error?t.message:String(t);return(0,o.showToast)({style:o.Toast.Style.Failure,title:a?.title??"Something went wrong",message:a?.message??i,primaryAction:a?.primaryAction??N(t),secondaryAction:a?.primaryAction?N(t):void 0})}var N=t=>{let a=!0,i="[Extension Name]...",d="";try{let s=JSON.parse((0,w.readFileSync)((0,T.join)(o.environment.assetsPath,"..","package.json"),"utf8"));i=`[${s.title}]...`,d=`https://raycast.com/${s.owner||s.author}/${s.name}`,(!s.owner||s.access==="public")&&(a=!1)}catch{}let c=o.environment.isDevelopment||a,e=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:c?"Copy Logs":"Report Error",onAction(s){s.hide(),c?o.Clipboard.copy(e):(0,o.open)(`https://github.com/raycast/extensions/issues/new?&labels=extension%2Cbug&template=extension_bug_report.yml&title=${encodeURIComponent(i)}&extension-url=${encodeURI(d)}&description=${encodeURIComponent(`#### Error:
\`\`\`
${e}
\`\`\`
`)}`)}}};var S=require("react");var A={"AI Assistants":[{bundleId:"com.openai.chat",name:"ChatGPT"},{bundleId:"com.anthropic.claudefordesktop",name:"Claude"}],"Developer Tools":[{bundleId:"com.github.GitHubClient",name:"GitHub Desktop"},{bundleId:"com.docker.docker",name:"Docker Desktop"},{bundleId:"com.googlecode.iterm2",name:"iTerm"},{bundleId:"com.postmanlabs.mac",name:"Postman"}],"Task Managers":[{bundleId:"com.TickTick.task.mac",name:"TickTick"},{bundleId:"com.todoist.mac.Todoist",name:"Todoist"}]};function z(t){let a=new Set(t.map(d=>d.bundleId)),i={};for(let d in A){let e=A[d].filter(s=>a.has(s.bundleId));e.length>0&&(i[d]=e)}return i}var n=require("@raycast/api"),h=require("react"),V=require("crypto"),b=require("react/jsx-runtime"),re={"\u{1F9D1}\u200D\u{1F4BB}":"Developer","\u{1F680}":"Rocket","\u{1F4A1}":"Idea","\u{1F4BC}":"Briefcase","\u{1F4DA}":"Books","\u{1F3AE}":"Gaming","\u{1F4AC}":"Chat","\u{1F4DD}":"Notes","\u{1F3A8}":"Art","\u{1F3B5}":"Music","\u{1F4B0}":"Money","\u{1F512}":"Security","\u2699\uFE0F":"Settings","\u{1F916}":"Bot","\u{1F4BB}":"Laptop","\u{1F5A5}\uFE0F":"Desktop","\u{1F5B1}\uFE0F":"Mouse","\u2328\uFE0F":"Keyboard","\u{1F4BE}":"Save","\u{1F4BF}":"Disc","\u{1F50C}":"Plugin","\u{1F50B}":"Battery","\u{1F4E1}":"Network","\u{1F9E0}":"Brain","\u{1F4B3}":"Card","\u{1F4B5}":"Dollar","\u{1F4C8}":"Chart","\u{1F3E6}":"Bank","\u{1F6E1}\uFE0F":"Shield","\u{1F9FE}":"Receipt","\u2705":"Done","\u274C":"Remove","\u2753":"Question","\u2757":"Alert","\u{1F4CC}":"Pin","\u{1F4CD}":"Location","\u23F0":"Alarm","\u23F3":"Hourglass","\u{1F3C1}":"Finish","\u{1F3F3}\uFE0F":"Flag","\u2728":"Magic","\u{1F30D}":"Web"};function j({categoryId:t,onCategoryUpdated:a}){let{pop:i}=(0,n.useNavigation)(),[d,c]=(0,h.useState)(!0),e=(0,h.useRef)(!1),[s,m]=(0,h.useState)([]),[$,C]=(0,h.useState)(""),[x,P]=(0,h.useState)([]),[U,L]=(0,h.useState)("\u{1F9D1}\u200D\u{1F4BB}"),_=(0,h.useRef)([]);(0,h.useEffect)(()=>{async function l(){try{let u=await(0,n.getApplications)();m(u)}catch(u){await(0,n.showToast)({style:n.Toast.Style.Failure,title:"Failed to load applications",message:u instanceof Error?u.message:"An unknown error occurred"}),c(!1)}}l()},[]),(0,h.useEffect)(()=>{if(s.length===0&&t)return;if(!t){c(!1),e.current=!0;return}async function l(){try{let u=await n.LocalStorage.getItem("categories");if(u){let g=JSON.parse(u).find(E=>E.id===t);if(g){let E=new Set(s.map(I=>I.bundleId)),D=g.bundleIds.filter(I=>I&&E.has(I));C(g.name),P(D),_.current=D,L(g.icon),e.current=!0}}}catch(u){await(0,n.showToast)({style:n.Toast.Style.Failure,title:"Failed to load category details",message:u instanceof Error?u.message:"An unknown error occurred"})}finally{c(!1)}}l()},[t,s]);async function H(){if(!$){await(0,n.showToast)({style:n.Toast.Style.Failure,title:"Category name is required"});return}if(x.length===0){await(0,n.showToast)({style:n.Toast.Style.Failure,title:"Please select at least one application"});return}let l=await(0,n.showToast)({style:n.Toast.Style.Animated,title:t?"Saving...":"Creating..."});try{let u=await n.LocalStorage.getItem("categories"),v=u?JSON.parse(u):[];if(t){let g=v.findIndex(E=>E.id===t);g!==-1&&(v[g]={...v[g],name:$,icon:U,bundleIds:x})}else{let g={id:(0,V.randomUUID)(),name:$,bundleIds:x,icon:U};v.push(g)}await n.LocalStorage.setItem("categories",JSON.stringify(v)),l.style=n.Toast.Style.Success,l.title=t?"Category Updated":"Category Created",a(),i()}catch(u){l.style=n.Toast.Style.Failure,l.title="Failed to save category",l.message=u instanceof Error?u.message:"An unknown error occurred"}}return(0,h.useEffect)(()=>{e.current&&_.current.length>0&&x.length===0&&P(_.current)},[x]),(0,b.jsxs)(n.Form,{isLoading:d,actions:(0,b.jsx)(n.ActionPanel,{children:(0,b.jsx)(n.Action.SubmitForm,{title:t?"Save Changes":"Create Category",onSubmit:H,icon:n.Icon.CheckCircle})}),children:[(0,b.jsx)(n.Form.TextField,{id:"name",title:"Category Name",placeholder:"e.g., Work Apps",value:$,onChange:C}),(0,b.jsx)(n.Form.Dropdown,{id:"icon",title:"Icon",value:U,onChange:L,children:Object.entries(re).map(([l,u])=>(0,b.jsx)(n.Form.Dropdown.Item,{value:l,title:`${l} ${u}`},l))}),(0,b.jsx)(n.Form.TagPicker,{id:"apps",title:"Applications",placeholder:"Type to search for applications",value:x,onChange:P,children:s.filter(l=>!!l.bundleId).map(l=>(0,b.jsx)(n.Form.TagPicker.Item,{value:l.bundleId,title:l.name},l.bundleId))})]})}var p=require("@raycast/api"),B=require("react"),y=require("react/jsx-runtime");function G({categoryName:t,apps:a,allApps:i}){let{installed:d,notInstalled:c}=(0,B.useMemo)(()=>{let e=[],s=[];return a.forEach(m=>{let $=i.find(C=>C.bundleId===m.bundleId);$?e.push($):s.push(m)}),{installed:e,notInstalled:s}},[a,i]);return(0,y.jsxs)(p.List,{navigationTitle:`${t} Apps`,children:[d.length>0&&(0,y.jsx)(p.List.Section,{title:"Installed",children:d.map(e=>(0,y.jsx)(p.List.Item,{title:e.name,icon:{fileIcon:e.path},actions:(0,y.jsxs)(p.ActionPanel,{children:[(0,y.jsx)(p.Action.Open,{title:"Open Application",target:e.path}),(0,y.jsx)(p.Action.ShowInFinder,{path:e.path})]})},e.path))}),c.length>0&&(0,y.jsx)(p.List.Section,{title:"Not Installed",children:c.map(e=>(0,y.jsx)(p.List.Item,{title:e.name,icon:p.Icon.QuestionMark},e.bundleId))})]})}var K=require("@raycast/api"),f=require("react/jsx-runtime");function J(){let[t,a]=(0,S.useState)({isLoading:!0}),i=(0,S.useCallback)(async()=>{a(e=>({...e,isLoading:!0}));try{let e=await r.LocalStorage.getItem("categories"),s=e?JSON.parse(e):[],m=await(0,r.getApplications)(),$=z(m);a({data:{customCategories:s,relevantPrebuilt:$,installedApps:m},isLoading:!1})}catch(e){await W(e,{title:"Failed to load categories"}),a({isLoading:!1})}},[]);(0,S.useEffect)(()=>{i()},[i]);async function d(e){if(await(0,r.confirmAlert)({title:"Delete Category?",message:"Are you sure you want to delete this category?",primaryAction:{title:"Delete",style:r.Alert.ActionStyle.Destructive}})){let s=t.data?.customCategories.filter(m=>m.id!==e)??[];await r.LocalStorage.setItem("categories",JSON.stringify(s)),await(0,r.showToast)({style:r.Toast.Style.Success,title:"Category Deleted"}),i()}}function c(e){return`raycast://extensions/sriramHQ/quick-quit/execute-quit?context=${encodeURIComponent(JSON.stringify({categoryId:e}))}`}return(0,f.jsxs)(r.List,{isLoading:t.isLoading,children:[(0,f.jsx)(r.List.Section,{title:"Your Categories",children:t.data?.customCategories.map(e=>(0,f.jsx)(r.List.Item,{icon:e.icon,title:e.name,subtitle:`${e.bundleIds.length} app${e.bundleIds.length===1?"":"s"}`,actions:(0,f.jsxs)(r.ActionPanel,{children:[(0,f.jsx)(r.Action.Push,{title:"Edit Category",icon:r.Icon.Pencil,target:(0,f.jsx)(j,{categoryId:e.id,onCategoryUpdated:i})}),(0,f.jsx)(r.Action.CreateQuicklink,{title:"Create Quicklink",icon:r.Icon.Link,quicklink:{link:c(e.id),name:`Quick Quit - ${e.name}`}}),(0,f.jsx)(r.Action,{title:"Manage Quicklinks",icon:r.Icon.Cog,onAction:()=>(0,r.open)("raycast://extensions/raycast/raycast/search-quicklinks"),shortcut:{modifiers:["cmd","shift"],key:"q"}}),(0,f.jsx)(r.ActionPanel.Section,{children:(0,f.jsx)(r.Action,{title:"Delete",style:r.Action.Style.Destructive,icon:r.Icon.Trash,shortcut:K.Keyboard.Shortcut.Common.Remove,onAction:()=>d(e.id)})})]})},e.id))}),(0,f.jsx)(r.List.Section,{title:"Default Categories",children:Object.entries(t.data?.relevantPrebuilt??{}).map(([e,s])=>(0,f.jsx)(r.List.Item,{icon:r.Icon.HardDrive,title:e,subtitle:`${s.length} app${s.length===1?"":"s"}`,actions:(0,f.jsxs)(r.ActionPanel,{children:[(0,f.jsx)(r.Action.Push,{title:"View Apps",icon:r.Icon.List,target:(0,f.jsx)(G,{categoryName:e,apps:A[e],allApps:t.data?.installedApps??[]})}),(0,f.jsx)(r.Action.CreateQuicklink,{title:"Create Quicklink",icon:r.Icon.Link,quicklink:{link:c(e),name:`Quick Quit - ${e}`}})]})},e))})]})}
