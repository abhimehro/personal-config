"use strict";var C=Object.defineProperty;var $=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var W=Object.prototype.hasOwnProperty;var z=(t,e)=>{for(var i in e)C(t,i,{get:e[i],enumerable:!0})},B=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of H(e))!W.call(t,a)&&a!==i&&C(t,a,{get:()=>e[a],enumerable:!(r=$(e,a))||r.enumerable});return t};var G=t=>B(C({},"__esModule",{value:!0}),t);var rt={};z(rt,{default:()=>X});module.exports=G(rt);var s=require("@raycast/api");var A=require("@raycast/api"),P=require("react");var l=require("@raycast/api");var c=require("@raycast/api");var Q=c.Toast.Style,Y=c.Alert.ActionStyle;async function k(t,e){let i=await T(t);if(i==null)return!1;for(let r of i)if(r==e)return!0;return!1}async function T(t){let e=p(t),i=await c.LocalStorage.getItem(e);return i==null?void 0:JSON.parse(i)}async function D(t,e,i){let r=p(t),a=await c.LocalStorage.getItem(r),n=[];a!=null&&(n=JSON.parse(a)),console.log("arg value before update: ",n);let g=[];if(e=="")g=n,g.push(i);else for(let d of n)d==e?g.push(i):g.push(d);let h=JSON.stringify(g);return console.log("arg value before update: ",g),await c.LocalStorage.setItem(r,h),(0,c.showToast)(Q.Success,"success")}async function R(t,e){return await(0,c.confirmAlert)({title:"Delete Arg Value: "+e+"?",message:"",primaryAction:{title:"Delete",style:Y.Destructive,onAction:()=>{Z(t,e)}}})}async function Z(t,e){let i=p(t),r=await c.LocalStorage.getItem(i),a=[];r!=null&&(a=JSON.parse(r));let n=[];for(let h of a)h!=e&&n.push(h);let g=JSON.stringify(n);await c.LocalStorage.setItem(i,g)}var S="$arg_name_list",K="arg_name:";var j=l.Alert.ActionStyle;function p(t){return K+t}async function w(){let t=await l.LocalStorage.getItem(S);return t==null?[]:JSON.parse(t)}async function q(t){if(await L(t))return(0,l.showToast)(l.Toast.Style.Failure,"arg name exists!","consider chang a arg name");await l.LocalStorage.setItem(p(t),"[]");let e=await w();return console.log("arg list before add: "+JSON.stringify(e)),e.push(t),console.log("arg list after add: "+JSON.stringify(e)),await l.LocalStorage.setItem(S,JSON.stringify(e)),(0,l.showToast)(l.Toast.Style.Success,"Success")}async function L(t){if(t==null)return!1;let e=await w();for(let i of e)if(t==i)return!0;return!1}async function _(t,e){let i=await w(),r=[];for(let n of i)n==e?r.push(t):r.push(n);await l.LocalStorage.setItem(S,JSON.stringify(r));let a=await l.LocalStorage.getItem(p(e))||"[]";await l.LocalStorage.removeItem(p(e)),await l.LocalStorage.setItem(p(t),a)}async function M(t){let e=await w(),i=[];for(let r of e)r!=t&&i.push(r);return await(0,l.confirmAlert)({title:"Delete Arg: "+t+"?",message:"",primaryAction:{title:"Delete",style:j.Destructive,onAction:async()=>{await l.LocalStorage.setItem(S,JSON.stringify(i)),await l.LocalStorage.removeItem(p(t))}}})}var x=require("react/jsx-runtime");function b(){let[t,e]=(0,P.useState)(""),[i,r]=(0,P.useState)();function a(){i&&i.trim().length>0&&r(void 0)}return(0,x.jsx)(A.Form,{actions:(0,x.jsx)(A.ActionPanel,{children:(0,x.jsx)(A.Action.SubmitForm,{onSubmit:n=>{console.log("onSubmit",n),q(n.configName).then(()=>{(0,A.popToRoot)().finally()})}})}),children:(0,x.jsx)(A.Form.TextField,{id:"configName",title:"Arg Name",placeholder:"Pick a name for your arg",error:i,onChange:async n=>{e(n),n.length==0?r("The field shouldn't be empty!"):a(),await L(n)?r("this name already exists!"):a()},value:t})})}var o=require("@raycast/api");var y=require("@raycast/api");var v=require("react"),N=require("react/jsx-runtime");function E({argName:t,oldArgValue:e}){let[i,r]=(0,v.useState)(e),[a,n]=(0,v.useState)("");return(0,N.jsx)(y.Form,{actions:(0,N.jsx)(y.ActionPanel,{children:(0,N.jsx)(y.Action.SubmitForm,{onSubmit:()=>{console.log("edit arg val: ",i),D(t,e,i).finally(),(0,y.popToRoot)().finally()}})}),children:(0,N.jsx)(y.Form.TextField,{id:"newArgValue",title:"Arg Value",value:i,error:a,onChange:async g=>{if(r(g),g.length==0){n("The field shouldn't be empty!");return}else n(void 0);if(await k(t,g)){n("This value already exists!");return}else n(void 0)}})})}var u=require("react/jsx-runtime"),tt=o.Toast.Style;function F({argName:t,argValueList:e}){let i=[(0,u.jsx)(o.List.Item,{title:"Add New Arg Value",icon:"add.png",actions:(0,u.jsx)(o.ActionPanel,{children:(0,u.jsx)(o.Action.Push,{icon:o.Icon.List,title:"Add Arg Value",target:(0,u.jsx)(E,{argName:t,oldArgValue:""})})})},"addNewArg")];if(e==null)return(0,u.jsx)(o.List,{children:i});for(let r of e)i.push((0,u.jsx)(o.List.Item,{title:r,icon:"list-item.png",actions:(0,u.jsxs)(o.ActionPanel,{children:[(0,u.jsx)(o.Action.Push,{icon:o.Icon.Pencil,title:"Edit Arg Value",target:(0,u.jsx)(E,{argName:t,oldArgValue:r})}),(0,u.jsx)(o.Action,{icon:o.Icon.CopyClipboard,title:"Copy Arg Value",onAction:()=>o.Clipboard.copy(r).then(()=>(0,o.showHUD)("copied to clipboard"))}),(0,u.jsx)(o.Action,{icon:o.Icon.XMarkCircle,title:"Delete Arg Value",onAction:async()=>{await R(t,r)&&(await(0,o.popToRoot)(),await(0,o.showToast)(tt.Success,"deleted successfully"))}})]})},r));return(0,u.jsx)(o.List,{children:i})}var I=require("react");var m=require("@raycast/api"),J=require("react");var V=require("react/jsx-runtime"),et=m.Toast.Style;function O({oldArgName:t}){let[e,i]=(0,J.useState)(t),[r,a]=(0,J.useState)("");return(0,V.jsx)(m.Form,{actions:(0,V.jsx)(m.ActionPanel,{children:(0,V.jsx)(m.Action.SubmitForm,{onSubmit:()=>{console.log("edit arg val: ",e),_(e,t).then(()=>{(0,m.showToast)(et.Success,"Success").then(()=>{(0,m.popToRoot)().finally()})})}})}),children:(0,V.jsx)(m.Form.TextField,{id:"newArgName",value:e,error:r,placeholder:"set new arg name",onChange:async n=>{if(i(n),n.length==0){a("The field shouldn't be empty!");return}else a(void 0);if(await L(n)){a("This arg already exists!");return}else a(void 0)}})})}var f=require("react/jsx-runtime"),it=s.Toast.Style;function X(){let t=(0,f.jsx)(s.List.Item,{title:"Add New Arg",icon:"add.png",actions:(0,f.jsx)(s.ActionPanel,{children:(0,f.jsx)(s.Action.Push,{icon:s.Icon.List,title:"Add New Arg",target:(0,f.jsx)(b,{})})})},"addNewArg"),[e,i]=(0,I.useState)([]),[r,a]=(0,I.useState)(!0);return(0,I.useEffect)(()=>{async function n(){let g=await w(),h=[t];for(let d of g){let U=await T(d);h.push((0,f.jsx)(s.List.Item,{title:d,icon:"list-item.png",actions:(0,f.jsxs)(s.ActionPanel,{children:[(0,f.jsx)(s.Action.Push,{icon:s.Icon.ChevronRight,title:"Edit Arg",target:(0,f.jsx)(F,{argName:d,argValueList:U})}),(0,f.jsx)(s.Action.Push,{icon:s.Icon.Pencil,title:"Rename Arg",target:(0,f.jsx)(O,{oldArgName:d})}),(0,f.jsx)(s.Action,{icon:s.Icon.XMarkCircle,title:"Delete Arg",onAction:async()=>{await M(d)&&(await(0,s.popToRoot)(),await(0,s.showToast)(it.Success,"deleted successfully"))}})]})},d))}i(h)}n().finally(()=>a(!1))},[]),(0,f.jsx)(s.List,{isLoading:r,children:e})}
