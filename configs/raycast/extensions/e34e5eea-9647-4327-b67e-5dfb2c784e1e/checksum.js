"use strict";"use client";var v=Object.create;var m=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var b=(i,r)=>{for(var l in r)m(i,l,{get:r[l],enumerable:!0})},u=(i,r,l,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of E(r))!C.call(i,a)&&a!==l&&m(i,a,{get:()=>r[a],enumerable:!(n=x(r,a))||n.enumerable});return i};var S=(i,r,l)=>(l=i!=null?v(k(i)):{},u(r||!i||!i.__esModule?m(l,"default",{value:i,enumerable:!0}):l,i)),L=i=>u(m({},"__esModule",{value:!0}),i);var P={};b(P,{default:()=>A});module.exports=L(P);var t=require("@raycast/api"),D=require("crypto"),p=S(require("fs")),y=S(require("path")),F=require("react");var o=require("@raycast/api"),e=require("react/jsx-runtime");function w(){return(0,e.jsxs)(o.Form.Dropdown,{id:"dropdown",title:"Hash Algorithm",defaultValue:"sha256",children:[(0,e.jsx)(o.Form.Dropdown.Section,{title:"MD5",children:(0,e.jsx)(o.Form.Dropdown.Item,{value:"md5",title:"MD5"})}),(0,e.jsx)(o.Form.Dropdown.Section,{title:"SHA-1",children:(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha1",title:"SHA-1"})}),(0,e.jsxs)(o.Form.Dropdown.Section,{title:"SHA-2 Family",children:[(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha224",title:"SHA-224"}),(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha256",title:"SHA-256"}),(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha384",title:"SHA-384"}),(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha512",title:"SHA-512"})]}),(0,e.jsxs)(o.Form.Dropdown.Section,{title:"SHA-3 Family",children:[(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha3-224",title:"SHA3-224"}),(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha3-256",title:"SHA3-256"}),(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha3-384",title:"SHA3-384"}),(0,e.jsx)(o.Form.Dropdown.Item,{value:"sha3-512",title:"SHA3-512"})]}),(0,e.jsxs)(o.Form.Dropdown.Section,{title:"BLAKE2",children:[(0,e.jsx)(o.Form.Dropdown.Item,{value:"blake2b512",title:"BLAKE2b-512"}),(0,e.jsx)(o.Form.Dropdown.Item,{value:"blake2s256",title:"BLAKE2s-256"})]}),(0,e.jsx)(o.Form.Dropdown.Section,{title:"Other",children:(0,e.jsx)(o.Form.Dropdown.Item,{value:"ripemd160",title:"RIPEMD-160"})})]})}var s=require("react/jsx-runtime");function A(){let[i,r]=(0,F.useState)(!1);async function l(n){if(!n.textfield.trim()){(0,t.showToast)({title:"Error",message:"Please enter the expected checksum",style:t.Toast.Style.Failure});return}if(!n.file||n.file.length===0){(0,t.showToast)({title:"Error",message:"Please select a file",style:t.Toast.Style.Failure});return}r(!0);let a=n.textfield.trim().toLowerCase(),c=n.file[0];try{let H=(p.default.statSync(c).size/1024/1024).toFixed(2),I=y.default.basename(c),g=p.default.readFileSync(c),f=(0,D.createHash)(n.dropdown);f.update(g);let h=f.digest("hex").toLowerCase();a===h?(0,t.showToast)({title:"\u2705 Checksums Match!",message:`${I} (${H} MB) is verified`,style:t.Toast.Style.Success}):(0,t.showToast)({title:"\u274C Checksums Don't Match!",message:`Expected: ${a}
Actual: ${h}`,style:t.Toast.Style.Failure})}catch(d){d instanceof Error&&(0,t.showToast)({title:"Error",message:d.message,style:t.Toast.Style.Failure})}finally{r(!1)}}return(0,s.jsxs)(t.Form,{isLoading:i,actions:(0,s.jsx)(t.ActionPanel,{children:(0,s.jsx)(t.Action.SubmitForm,{icon:t.Icon.CheckCircle,onSubmit:l,title:"Verify Checksum"})}),children:[(0,s.jsx)(t.Form.TextField,{id:"textfield",title:"Expected Checksum",placeholder:"Enter the expected hash value",info:"Paste the checksum you want to verify against"}),(0,s.jsx)(t.Form.FilePicker,{id:"file",title:"Select File",allowMultipleSelection:!1,info:"Choose the file you want to verify"}),(0,s.jsx)(w,{})]})}
