"use strict";"use client";var R=Object.create;var f=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var z=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var U=(i,a)=>{for(var s in a)f(i,s,{get:a[s],enumerable:!0})},P=(i,a,s,p)=>{if(a&&typeof a=="object"||typeof a=="function")for(let l of x(a))!K.call(i,l)&&l!==s&&f(i,l,{get:()=>a[l],enumerable:!(p=k(a,l))||p.enumerable});return i};var E=(i,a,s)=>(s=i!=null?R(z(i)):{},P(a||!i||!i.__esModule?f(s,"default",{value:i,enumerable:!0}):s,i)),V=i=>P(f({},"__esModule",{value:!0}),i);var T={};U(T,{default:()=>$});module.exports=V(T);var o=require("@raycast/api"),g=require("crypto"),A=E(require("fs")),v=E(require("path")),w=require("react");var e=require("@raycast/api"),t=require("react/jsx-runtime");function L(){return(0,t.jsxs)(e.Form.Dropdown,{id:"dropdown",title:"Hash Algorithm",defaultValue:"sha256",children:[(0,t.jsx)(e.Form.Dropdown.Section,{title:"MD5",children:(0,t.jsx)(e.Form.Dropdown.Item,{value:"md5",title:"MD5"})}),(0,t.jsx)(e.Form.Dropdown.Section,{title:"SHA-1",children:(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha1",title:"SHA-1"})}),(0,t.jsxs)(e.Form.Dropdown.Section,{title:"SHA-2 Family",children:[(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha224",title:"SHA-224"}),(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha256",title:"SHA-256"}),(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha384",title:"SHA-384"}),(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha512",title:"SHA-512"})]}),(0,t.jsxs)(e.Form.Dropdown.Section,{title:"SHA-3 Family",children:[(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha3-224",title:"SHA3-224"}),(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha3-256",title:"SHA3-256"}),(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha3-384",title:"SHA3-384"}),(0,t.jsx)(e.Form.Dropdown.Item,{value:"sha3-512",title:"SHA3-512"})]}),(0,t.jsxs)(e.Form.Dropdown.Section,{title:"BLAKE2",children:[(0,t.jsx)(e.Form.Dropdown.Item,{value:"blake2b512",title:"BLAKE2b-512"}),(0,t.jsx)(e.Form.Dropdown.Item,{value:"blake2s256",title:"BLAKE2s-256"})]}),(0,t.jsx)(e.Form.Dropdown.Section,{title:"Other",children:(0,t.jsx)(e.Form.Dropdown.Item,{value:"ripemd160",title:"RIPEMD-160"})})]})}var r=require("react/jsx-runtime");function $(){let i=(0,o.getPreferenceValues)(),[a,s]=(0,w.useState)(!1),[p,l]=(0,w.useState)([]),[h,H]=(0,w.useState)(null);async function B(n){if(!n.file||n.file.length===0){(0,o.showToast)({title:"Error",message:"Please select a file"});return}s(!0);let m=n.file[0];try{let I=(A.default.statSync(m).size/1024/1024).toFixed(2),F=v.default.basename(m);H({name:F,size:I});let y=A.default.readFileSync(m),b=(0,g.createHash)(n.dropdown);b.update(y);let S=b.digest("hex"),C=["md5","sha1","sha256","sha512"],d=[];for(let c of C)if(c===n.dropdown)d.push({algorithm:c.toUpperCase(),hash:S});else try{let D=(0,g.createHash)(c);D.update(y),d.push({algorithm:c.toUpperCase(),hash:D.digest("hex")})}catch{console.warn(`Algorithm ${c} not available`)}C.includes(n.dropdown)||d.unshift({algorithm:n.dropdown.toUpperCase(),hash:S}),l(d),await o.Clipboard.copy(S),await(0,o.showToast)({title:`${n.dropdown.toUpperCase()} hash copied!`,message:`${F} (${I} MB)`}),i.popRootAfterSubmit&&await(0,o.popToRoot)()}catch(u){u instanceof Error&&await(0,o.showToast)({title:"Error",message:u.message})}finally{s(!1)}}async function M(n,m){await o.Clipboard.copy(n),await(0,o.showToast)({title:`${m} hash copied to clipboard`})}return p.length>0&&h?(0,r.jsxs)(o.List,{navigationTitle:`Hashes for ${h.name}`,children:[(0,r.jsx)(o.List.Item,{title:"File Information",subtitle:`${h.name} \u2022 ${h.size} MB`,icon:o.Icon.Document}),p.map(n=>(0,r.jsx)(o.List.Item,{title:n.algorithm,subtitle:n.hash,icon:o.Icon.Key,actions:(0,r.jsxs)(o.ActionPanel,{children:[(0,r.jsx)(o.Action,{title:"Copy Hash",icon:o.Icon.Clipboard,onAction:()=>M(n.hash,n.algorithm)}),(0,r.jsx)(o.Action,{title:"Back to Form",icon:o.Icon.ArrowLeft,onAction:()=>{l([]),H(null)}})]})},n.algorithm))]}):(0,r.jsxs)(o.Form,{isLoading:a,actions:(0,r.jsx)(o.ActionPanel,{children:(0,r.jsx)(o.Action.SubmitForm,{icon:o.Icon.Key,onSubmit:B,title:"Calculate Hash"})}),children:[(0,r.jsx)(o.Form.FilePicker,{id:"file",title:"Select File",allowMultipleSelection:!1,info:"Choose the file to calculate hash for"}),(0,r.jsx)(L,{})]})}
