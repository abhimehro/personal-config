{
  "version": 3,
  "sources": ["../src/hashfile.tsx", "../src/components/dropdown.tsx"],
  "sourcesContent": ["\"use client\";\n\nimport {\n  Form,\n  ActionPanel,\n  Action,\n  showToast,\n  Clipboard,\n  getPreferenceValues,\n  popToRoot,\n  Icon,\n  List,\n} from \"@raycast/api\";\nimport { createHash } from \"crypto\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { useState } from \"react\";\nimport { HashDropdown } from \"./components/dropdown\";\nimport type { Values } from \"./types\";\n\ninterface ExtensionPreferences {\n  popRootAfterSubmit: boolean;\n}\n\nexport default function Command() {\n  const preferences = getPreferenceValues<ExtensionPreferences>();\n  const [isLoading, setIsLoading] = useState(false);\n  const [results, setResults] = useState<Array<{ algorithm: string; hash: string }>>([]);\n  const [fileInfo, setFileInfo] = useState<{ name: string; size: string } | null>(null);\n\n  async function handleSubmit(values: Values) {\n    if (!values.file || values.file.length === 0) {\n      showToast({\n        title: \"Error\",\n        message: \"Please select a file\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    const filePath = values.file[0];\n\n    try {\n      // Get file info\n      const stats = fs.statSync(filePath);\n      const fileSize = (stats.size / 1024 / 1024).toFixed(2);\n      const fileName = path.basename(filePath);\n\n      setFileInfo({ name: fileName, size: fileSize });\n\n      const buff = fs.readFileSync(filePath);\n      const hash = createHash(values.dropdown);\n      hash.update(buff);\n      const result = hash.digest(\"hex\");\n\n      const commonHashes = [\"md5\", \"sha1\", \"sha256\", \"sha512\"];\n      const allResults = [];\n\n      for (const algorithm of commonHashes) {\n        if (algorithm === values.dropdown) {\n          allResults.push({ algorithm: algorithm.toUpperCase(), hash: result });\n        } else {\n          try {\n            const h = createHash(algorithm);\n            h.update(buff);\n            allResults.push({ algorithm: algorithm.toUpperCase(), hash: h.digest(\"hex\") });\n          } catch (error) {\n            console.warn(`Algorithm ${algorithm} not available`);\n          }\n        }\n      }\n\n      if (!commonHashes.includes(values.dropdown)) {\n        allResults.unshift({ algorithm: values.dropdown.toUpperCase(), hash: result });\n      }\n\n      setResults(allResults);\n\n      await Clipboard.copy(result);\n      await showToast({\n        title: `${values.dropdown.toUpperCase()} hash copied!`,\n        message: `${fileName} (${fileSize} MB)`,\n      });\n\n      if (preferences.popRootAfterSubmit) {\n        await popToRoot();\n      }\n    } catch (err) {\n      if (err instanceof Error) {\n        await showToast({\n          title: \"Error\",\n          message: err.message,\n        });\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  async function copyHash(hash: string, algorithm: string) {\n    await Clipboard.copy(hash);\n    await showToast({ title: `${algorithm} hash copied to clipboard` });\n  }\n\n  if (results.length > 0 && fileInfo) {\n    return (\n      <List navigationTitle={`Hashes for ${fileInfo.name}`}>\n        <List.Item title=\"File Information\" subtitle={`${fileInfo.name} \u2022 ${fileInfo.size} MB`} icon={Icon.Document} />\n        {results.map((result) => (\n          <List.Item\n            key={result.algorithm}\n            title={result.algorithm}\n            subtitle={result.hash}\n            icon={Icon.Key}\n            actions={\n              <ActionPanel>\n                <Action\n                  title=\"Copy Hash\"\n                  icon={Icon.Clipboard}\n                  onAction={() => copyHash(result.hash, result.algorithm)}\n                />\n                <Action\n                  title=\"Back to Form\"\n                  icon={Icon.ArrowLeft}\n                  onAction={() => {\n                    setResults([]);\n                    setFileInfo(null);\n                  }}\n                />\n              </ActionPanel>\n            }\n          />\n        ))}\n      </List>\n    );\n  }\n\n  return (\n    <Form\n      isLoading={isLoading}\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm icon={Icon.Key} onSubmit={handleSubmit} title=\"Calculate Hash\" />\n        </ActionPanel>\n      }\n    >\n      <Form.FilePicker\n        id=\"file\"\n        title=\"Select File\"\n        allowMultipleSelection={false}\n        info=\"Choose the file to calculate hash for\"\n      />\n      <HashDropdown />\n    </Form>\n  );\n}\n", "import { Form } from \"@raycast/api\";\n\nexport function HashDropdown() {\n  return (\n    <Form.Dropdown id=\"dropdown\" title=\"Hash Algorithm\" defaultValue=\"sha256\">\n      <Form.Dropdown.Section title=\"MD5\">\n        <Form.Dropdown.Item value=\"md5\" title=\"MD5\" />\n      </Form.Dropdown.Section>\n\n      <Form.Dropdown.Section title=\"SHA-1\">\n        <Form.Dropdown.Item value=\"sha1\" title=\"SHA-1\" />\n      </Form.Dropdown.Section>\n\n      <Form.Dropdown.Section title=\"SHA-2 Family\">\n        <Form.Dropdown.Item value=\"sha224\" title=\"SHA-224\" />\n        <Form.Dropdown.Item value=\"sha256\" title=\"SHA-256\" />\n        <Form.Dropdown.Item value=\"sha384\" title=\"SHA-384\" />\n        <Form.Dropdown.Item value=\"sha512\" title=\"SHA-512\" />\n      </Form.Dropdown.Section>\n\n      <Form.Dropdown.Section title=\"SHA-3 Family\">\n        <Form.Dropdown.Item value=\"sha3-224\" title=\"SHA3-224\" />\n        <Form.Dropdown.Item value=\"sha3-256\" title=\"SHA3-256\" />\n        <Form.Dropdown.Item value=\"sha3-384\" title=\"SHA3-384\" />\n        <Form.Dropdown.Item value=\"sha3-512\" title=\"SHA3-512\" />\n      </Form.Dropdown.Section>\n\n      <Form.Dropdown.Section title=\"BLAKE2\">\n        <Form.Dropdown.Item value=\"blake2b512\" title=\"BLAKE2b-512\" />\n        <Form.Dropdown.Item value=\"blake2s256\" title=\"BLAKE2s-256\" />\n      </Form.Dropdown.Section>\n\n      <Form.Dropdown.Section title=\"Other\">\n        <Form.Dropdown.Item value=\"ripemd160\" title=\"RIPEMD-160\" />\n      </Form.Dropdown.Section>\n    </Form.Dropdown>\n  );\n}\n"],
  "mappings": "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",
  "names": ["hashfile_exports", "__export", "Command", "__toCommonJS", "import_api", "import_crypto", "import_fs", "import_path", "import_react", "import_api", "import_jsx_runtime", "HashDropdown", "import_jsx_runtime", "Command", "preferences", "isLoading", "setIsLoading", "results", "setResults", "fileInfo", "setFileInfo", "handleSubmit", "values", "filePath", "fileSize", "fs", "fileName", "path", "buff", "hash", "result", "commonHashes", "allResults", "algorithm", "h", "err", "copyHash", "HashDropdown"]
}
