"use strict";"use client";var g=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var L=(a,n)=>{for(var h in n)g(a,h,{get:n[h],enumerable:!0})},v=(a,n,h,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of T(n))!E.call(a,l)&&l!==h&&g(a,l,{get:()=>n[l],enumerable:!(c=F(n,l))||c.enumerable});return a};var C=a=>v(g({},"__esModule",{value:!0}),a);var P={};L(P,{default:()=>b});module.exports=C(P);var t=require("@raycast/api"),D=require("crypto"),f=require("react");var e=require("@raycast/api"),o=require("react/jsx-runtime");function x(){return(0,o.jsxs)(e.Form.Dropdown,{id:"dropdown",title:"Hash Algorithm",defaultValue:"sha256",children:[(0,o.jsx)(e.Form.Dropdown.Section,{title:"MD5",children:(0,o.jsx)(e.Form.Dropdown.Item,{value:"md5",title:"MD5"})}),(0,o.jsx)(e.Form.Dropdown.Section,{title:"SHA-1",children:(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha1",title:"SHA-1"})}),(0,o.jsxs)(e.Form.Dropdown.Section,{title:"SHA-2 Family",children:[(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha224",title:"SHA-224"}),(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha256",title:"SHA-256"}),(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha384",title:"SHA-384"}),(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha512",title:"SHA-512"})]}),(0,o.jsxs)(e.Form.Dropdown.Section,{title:"SHA-3 Family",children:[(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha3-224",title:"SHA3-224"}),(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha3-256",title:"SHA3-256"}),(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha3-384",title:"SHA3-384"}),(0,o.jsx)(e.Form.Dropdown.Item,{value:"sha3-512",title:"SHA3-512"})]}),(0,o.jsxs)(e.Form.Dropdown.Section,{title:"BLAKE2",children:[(0,o.jsx)(e.Form.Dropdown.Item,{value:"blake2b512",title:"BLAKE2b-512"}),(0,o.jsx)(e.Form.Dropdown.Item,{value:"blake2s256",title:"BLAKE2s-256"})]}),(0,o.jsx)(e.Form.Dropdown.Section,{title:"Other",children:(0,o.jsx)(e.Form.Dropdown.Item,{value:"ripemd160",title:"RIPEMD-160"})})]})}var r=require("react/jsx-runtime");function b(){let a=(0,t.getPreferenceValues)(),[n,h]=(0,f.useState)(!1),[c,l]=(0,f.useState)([]),[m,S]=(0,f.useState)("");async function y(i){if(!i.textfield.trim()){(0,t.showToast)({title:"Error",message:"Please enter some text to hash"});return}h(!0);let p=i.textfield;S(p);try{let d=Buffer.from(p,"utf8"),A=["md5","sha1","sha256","sha512"],w=[];for(let s of A)try{let u=(0,D.createHash)(s);u.update(d),w.push({algorithm:s.toUpperCase(),hash:u.digest("hex")})}catch{console.warn(`Algorithm ${s} not available`)}if(!A.includes(i.dropdown))try{let s=(0,D.createHash)(i.dropdown);s.update(d),w.unshift({algorithm:i.dropdown.toUpperCase(),hash:s.digest("hex")})}catch{console.warn(`Selected algorithm ${i.dropdown} not available`)}l(w);let H=w.find(s=>s.algorithm.toLowerCase()===i.dropdown)?.hash;H&&(await t.Clipboard.copy(H),await(0,t.showToast)({title:`${i.dropdown.toUpperCase()} hash copied!`,message:`Text length: ${p.length} characters`})),a.popRootAfterSubmit&&await(0,t.popToRoot)()}catch(d){d instanceof Error&&await(0,t.showToast)({title:"Error",message:d.message})}finally{h(!1)}}async function I(i,p){await t.Clipboard.copy(i),await(0,t.showToast)({title:`${p} hash copied to clipboard`})}return c.length>0?(0,r.jsxs)(t.List,{navigationTitle:"Text Hashes",children:[(0,r.jsx)(t.List.Item,{title:"Original Text",subtitle:m.length>50?`${m.substring(0,50)}...`:m,accessories:[{text:`${m.length} chars`}],icon:t.Icon.Text}),c.map(i=>(0,r.jsx)(t.List.Item,{title:i.algorithm,subtitle:i.hash,icon:t.Icon.Key,actions:(0,r.jsxs)(t.ActionPanel,{children:[(0,r.jsx)(t.Action,{title:"Copy Hash",icon:t.Icon.Clipboard,onAction:()=>I(i.hash,i.algorithm)}),(0,r.jsx)(t.Action,{title:"Back to Form",icon:t.Icon.ArrowLeft,onAction:()=>{l([]),S("")}})]})},i.algorithm))]}):(0,r.jsxs)(t.Form,{isLoading:n,actions:(0,r.jsx)(t.ActionPanel,{children:(0,r.jsx)(t.Action.SubmitForm,{icon:t.Icon.Key,onSubmit:y,title:"Calculate Hash"})}),children:[(0,r.jsx)(t.Form.TextArea,{id:"textfield",title:"Text to Hash",placeholder:"Enter the text you want to hash...",info:"The hash will be calculated for the exact text you enter"}),(0,r.jsx)(x,{})]})}
