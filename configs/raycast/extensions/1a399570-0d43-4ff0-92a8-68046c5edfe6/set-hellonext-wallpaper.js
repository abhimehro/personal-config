"use strict";var _u=Object.create;var Er=Object.defineProperty;var wu=Object.getOwnPropertyDescriptor;var Ru=Object.getOwnPropertyNames;var Tu=Object.getPrototypeOf,Eu=Object.prototype.hasOwnProperty;var It=(n,r)=>()=>(n&&(r=n(n=0)),r);var A=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Ei=(n,r)=>{for(var o in r)Er(n,o,{get:r[o],enumerable:!0})},Ci=(n,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Ru(r))!Eu.call(n,s)&&s!==o&&Er(n,s,{get:()=>r[s],enumerable:!(i=wu(r,s))||i.enumerable});return n};var K=(n,r,o)=>(o=n!=null?_u(Tu(n)):{},Ci(r||!n||!n.__esModule?Er(o,"default",{value:n,enumerable:!0}):o,n)),Cu=n=>Ci(Er({},"__esModule",{value:!0}),n);var xi=A((Cr,vi)=>{(function(n,r){typeof Cr=="object"&&typeof vi<"u"?r(Cr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(Cr,(function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=i();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,p=Promise,b=Promise.prototype.then,m=Promise.resolve.bind(p),R=Promise.reject.bind(p);function T(e){return new p(e)}function S(e){return m(e)}function g(e){return R(e)}function y(e,t,a){return b.call(e,t,a)}function C(e,t,a){y(y(e,t,a),void 0,f)}function P(e,t){C(e,t)}function v(e,t){C(e,void 0,t)}function D(e,t,a){return y(e,t,a)}function U(e){y(e,void 0,f)}let k=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return a=>y(t,a)})();function z(e,t,a){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,a)}function I(e,t,a){try{return S(z(e,t,a))}catch(l){return g(l)}}let oe=16384;class Q{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let a=this._back,l=a;a._elements.length===oe-1&&(l={_elements:[],_next:void 0}),a._elements.push(t),l!==a&&(this._back=l,a._next=l),++this._size}shift(){let t=this._front,a=t,l=this._cursor,c=l+1,d=t._elements,h=d[l];return c===oe&&(a=t._next,c=0),--this._size,this._cursor=c,t!==a&&(this._front=a),d[l]=void 0,h}forEach(t){let a=this._cursor,l=this._front,c=l._elements;for(;(a!==c.length||l._next!==void 0)&&!(a===c.length&&(l=l._next,c=l._elements,a=0,c.length===0));)t(c[a]),++a}peek(){let t=this._front,a=this._cursor;return t._elements[a]}}function lo(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Xr(e):t._state==="closed"?Qs(e):uo(e,t._storedError)}function Qr(e,t){let a=e._ownerReadableStream;return se(a,t)}function be(e){e._ownerReadableStream._state==="readable"?Kr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Xs(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Ge(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Xr(e){e._closedPromise=T((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a})}function uo(e,t){Xr(e),Kr(e,t)}function Qs(e){Xr(e),co(e)}function Kr(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Xs(e,t){uo(e,t)}function co(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let fo=r("[[AbortSteps]]"),ho=r("[[ErrorSteps]]"),Zr=r("[[CancelSteps]]"),Jr=r("[[PullSteps]]"),mo=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Ks=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Zs(e){return typeof e=="object"||typeof e=="function"}function ye(e,t){if(e!==void 0&&!Zs(e))throw new TypeError(`${t} is not an object.`)}function ie(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function Js(e){return typeof e=="object"&&e!==null||typeof e=="function"}function po(e,t){if(!Js(e))throw new TypeError(`${t} is not an object.`)}function ge(e,t,a){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${a}'.`)}function en(e,t,a){if(e===void 0)throw new TypeError(`${t} is required in '${a}'.`)}function tn(e){return Number(e)}function bo(e){return e===0?0:e}function el(e){return bo(Ks(e))}function yo(e,t){let l=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=bo(c),!mo(c))throw new TypeError(`${t} is not a finite number`);if(c=el(c),c<0||c>l)throw new TypeError(`${t} is outside the accepted range of 0 to ${l}, inclusive`);return!mo(c)||c===0?0:c}function rn(e,t){if(!ve(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ve(e){return new gt(e)}function go(e,t){e._reader._readRequests.push(t)}function nn(e,t,a){let c=e._reader._readRequests.shift();a?c._closeSteps():c._chunkSteps(t)}function Gt(e){return e._reader._readRequests.length}function So(e){let t=e._reader;return!(t===void 0||!Ee(t))}class gt{constructor(t){if(ge(t,1,"ReadableStreamDefaultReader"),rn(t,"First parameter"),xe(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");lo(this,t),this._readRequests=new Q}get closed(){return Ee(this)?this._closedPromise:g(Vt("closed"))}cancel(t=void 0){return Ee(this)?this._ownerReadableStream===void 0?g(Ge("cancel")):Qr(this,t):g(Vt("cancel"))}read(){if(!Ee(this))return g(Vt("read"));if(this._ownerReadableStream===void 0)return g(Ge("read from"));let t,a,l=T((d,h)=>{t=d,a=h});return St(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>a(d)}),l}releaseLock(){if(!Ee(this))throw Vt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");be(this)}}}Object.defineProperties(gt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(gt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ee(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof gt}function St(e,t){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="closed"?t._closeSteps():a._state==="errored"?t._errorSteps(a._storedError):a._readableStreamController[Jr](t)}function Vt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let _o=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class wo{constructor(t,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=a}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?D(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let a=()=>this._returnSteps(t);return this._ongoingPromise?D(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return g(Ge("iterate"));let a,l,c=T((h,_)=>{a=h,l=_});return St(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,k(()=>a({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,be(t),a({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,be(t),l(h)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return g(Ge("finish iterating"));if(!this._preventCancel){let l=Qr(a,t);return be(a),D(l,()=>({value:t,done:!0}))}return be(a),S({value:t,done:!0})}}let Ro={next(){return To(this)?this._asyncIteratorImpl.next():g(Eo("next"))},return(e){return To(this)?this._asyncIteratorImpl.return(e):g(Eo("return"))}};_o!==void 0&&Object.setPrototypeOf(Ro,_o);function tl(e,t){let a=Ve(e),l=new wo(a,t),c=Object.create(Ro);return c._asyncIteratorImpl=l,c}function To(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof wo}catch{return!1}}function Eo(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Co=Number.isNaN||function(e){return e!==e};function _t(e){return e.slice()}function Po(e,t,a,l,c){new Uint8Array(e).set(new Uint8Array(a,l,c),t)}function Vf(e){return e}function Yt(e){return!1}function Ao(e,t,a){if(e.slice)return e.slice(t,a);let l=a-t,c=new ArrayBuffer(l);return Po(c,0,e,t,l),c}function rl(e){return!(typeof e!="number"||Co(e)||e<0)}function vo(e){let t=Ao(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function on(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function an(e,t,a){if(!rl(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:a}),e._queueTotalSize+=a}function nl(e){return e._queue.peek().value}function Ce(e){e._queue=new Q,e._queueTotalSize=0}class wt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!sn(this))throw fn("view");return this._view}respond(t){if(!sn(this))throw fn("respond");if(ge(t,1,"respond"),t=yo(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Yt(this._view.buffer),Jt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!sn(this))throw fn("respondWithNewView");if(ge(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Yt(t.buffer),er(this._associatedReadableByteStreamController,t)}}Object.defineProperties(wt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ye{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Oe(this))throw Tt("byobRequest");return cn(this)}get desiredSize(){if(!Oe(this))throw Tt("desiredSize");return Do(this)}close(){if(!Oe(this))throw Tt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Rt(this)}enqueue(t){if(!Oe(this))throw Tt("enqueue");if(ge(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);Zt(this,t)}error(t=void 0){if(!Oe(this))throw Tt("error");ae(this,t)}[Zr](t){xo(this),Ce(this);let a=this._cancelAlgorithm(t);return Kt(this),a}[Jr](t){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,Io(this);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(d);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let c;try{c=new ArrayBuffer(l)}catch(h){t._errorSteps(h);return}let d={buffer:c,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}go(a,t),Ie(this)}}Object.defineProperties(Ye.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ye.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Oe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Ye}function sn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof wt}function Ie(e){if(!sl(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();C(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ie(e))},l=>{ae(e,l)})}function xo(e){un(e),e._pendingPullIntos=new Q}function ln(e,t){let a=!1;e._state==="closed"&&(a=!0);let l=Bo(t);t.readerType==="default"?nn(e,l,a):cl(e,l,a)}function Bo(e){let t=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/a)}function Qt(e,t,a,l){e._queue.push({buffer:t,byteOffset:a,byteLength:l}),e._queueTotalSize+=l}function ko(e,t){let a=t.elementSize,l=t.bytesFilled-t.bytesFilled%a,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+c,h=d-d%a,_=c,E=!1;h>l&&(_=h-t.bytesFilled,E=!0);let O=e._queue;for(;_>0;){let q=O.peek(),W=Math.min(_,q.byteLength),M=t.byteOffset+t.bytesFilled;Po(t.buffer,M,q.buffer,q.byteOffset,W),q.byteLength===W?O.shift():(q.byteOffset+=W,q.byteLength-=W),e._queueTotalSize-=W,Oo(e,W,t),_-=W}return E}function Oo(e,t,a){a.bytesFilled+=t}function Io(e){e._queueTotalSize===0&&e._closeRequested?(Kt(e),kt(e._controlledReadableByteStream)):Ie(e)}function un(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function qo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();ko(e,t)&&(Xt(e),ln(e._controlledReadableByteStream,t))}}function ol(e,t,a){let l=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,h=t.buffer,_={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(_),zo(l,a);return}if(l._state==="closed"){let E=new d(_.buffer,_.byteOffset,0);a._closeSteps(E);return}if(e._queueTotalSize>0){if(ko(e,_)){let E=Bo(_);Io(e),a._chunkSteps(E);return}if(e._closeRequested){let E=new TypeError("Insufficient bytes to fill elements in the given buffer");ae(e,E),a._errorSteps(E);return}}e._pendingPullIntos.push(_),zo(l,a),Ie(e)}function il(e,t){let a=e._controlledReadableByteStream;if(dn(a))for(;$o(a)>0;){let l=Xt(e);ln(a,l)}}function al(e,t,a){if(Oo(e,t,a),a.bytesFilled<a.elementSize)return;Xt(e);let l=a.bytesFilled%a.elementSize;if(l>0){let c=a.byteOffset+a.bytesFilled,d=Ao(a.buffer,c-l,c);Qt(e,d,0,d.byteLength)}a.bytesFilled-=l,ln(e._controlledReadableByteStream,a),qo(e)}function Wo(e,t){let a=e._pendingPullIntos.peek();un(e),e._controlledReadableByteStream._state==="closed"?il(e):al(e,t,a),Ie(e)}function Xt(e){return e._pendingPullIntos.shift()}function sl(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(So(t)&&Gt(t)>0||dn(t)&&$o(t)>0||Do(e)>0)}function Kt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Rt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ae(e,l),l}Kt(e),kt(t)}}function Zt(e,t){let a=e._controlledReadableByteStream;if(e._closeRequested||a._state!=="readable")return;let l=t.buffer,c=t.byteOffset,d=t.byteLength,h=l;if(e._pendingPullIntos.length>0){let _=e._pendingPullIntos.peek();Yt(_.buffer),_.buffer=_.buffer}if(un(e),So(a))if(Gt(a)===0)Qt(e,h,c,d);else{e._pendingPullIntos.length>0&&Xt(e);let _=new Uint8Array(h,c,d);nn(a,_,!1)}else dn(a)?(Qt(e,h,c,d),qo(e)):Qt(e,h,c,d);Ie(e)}function ae(e,t){let a=e._controlledReadableByteStream;a._state==="readable"&&(xo(e),Ce(e),Kt(e),ci(a,t))}function cn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),a=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(wt.prototype);ul(l,e,a),e._byobRequest=l}return e._byobRequest}function Do(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Jt(e,t){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+t>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,Wo(e,t)}function er(e,t){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+t.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;a.buffer=t.buffer,Wo(e,c)}function Fo(e,t,a,l,c,d,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ce(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,t._autoAllocateChunkSize=h,t._pendingPullIntos=new Q,e._readableStreamController=t;let _=a();C(S(_),()=>{t._started=!0,Ie(t)},E=>{ae(t,E)})}function ll(e,t,a){let l=Object.create(Ye.prototype),c=()=>{},d=()=>S(void 0),h=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(l)),t.pull!==void 0&&(d=()=>t.pull(l)),t.cancel!==void 0&&(h=E=>t.cancel(E));let _=t.autoAllocateChunkSize;if(_===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Fo(e,l,c,d,h,a,_)}function ul(e,t,a){e._associatedReadableByteStreamController=t,e._view=a}function fn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Tt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Lo(e){return new Et(e)}function zo(e,t){e._reader._readIntoRequests.push(t)}function cl(e,t,a){let c=e._reader._readIntoRequests.shift();a?c._closeSteps(t):c._chunkSteps(t)}function $o(e){return e._reader._readIntoRequests.length}function dn(e){let t=e._reader;return!(t===void 0||!qe(t))}class Et{constructor(t){if(ge(t,1,"ReadableStreamBYOBReader"),rn(t,"First parameter"),xe(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Oe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");lo(this,t),this._readIntoRequests=new Q}get closed(){return qe(this)?this._closedPromise:g(tr("closed"))}cancel(t=void 0){return qe(this)?this._ownerReadableStream===void 0?g(Ge("cancel")):Qr(this,t):g(tr("cancel"))}read(t){if(!qe(this))return g(tr("read"));if(!ArrayBuffer.isView(t))return g(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Yt(t.buffer),this._ownerReadableStream===void 0)return g(Ge("read from"));let a,l,c=T((h,_)=>{a=h,l=_});return Mo(this,t,{_chunkSteps:h=>a({value:h,done:!1}),_closeSteps:h=>a({value:h,done:!0}),_errorSteps:h=>l(h)}),c}releaseLock(){if(!qe(this))throw tr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");be(this)}}}Object.defineProperties(Et.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function qe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Et}function Mo(e,t,a){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?a._errorSteps(l._storedError):ol(l._readableStreamController,t,a)}function tr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ct(e,t){let{highWaterMark:a}=e;if(a===void 0)return t;if(Co(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function rr(e){let{size:t}=e;return t||(()=>1)}function nr(e,t){ye(e,t);let a=e?.highWaterMark,l=e?.size;return{highWaterMark:a===void 0?void 0:tn(a),size:l===void 0?void 0:fl(l,`${t} has member 'size' that`)}}function fl(e,t){return ie(e,t),a=>tn(e(a))}function dl(e,t){ye(e,t);let a=e?.abort,l=e?.close,c=e?.start,d=e?.type,h=e?.write;return{abort:a===void 0?void 0:hl(a,e,`${t} has member 'abort' that`),close:l===void 0?void 0:ml(l,e,`${t} has member 'close' that`),start:c===void 0?void 0:pl(c,e,`${t} has member 'start' that`),write:h===void 0?void 0:bl(h,e,`${t} has member 'write' that`),type:d}}function hl(e,t,a){return ie(e,a),l=>I(e,t,[l])}function ml(e,t,a){return ie(e,a),()=>I(e,t,[])}function pl(e,t,a){return ie(e,a),l=>z(e,t,[l])}function bl(e,t,a){return ie(e,a),(l,c)=>I(e,t,[l,c])}function jo(e,t){if(!Qe(e))throw new TypeError(`${t} is not a WritableStream.`)}function yl(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let gl=typeof AbortController=="function";function Sl(){if(gl)return new AbortController}class Pt{constructor(t={},a={}){t===void 0?t=null:po(t,"First parameter");let l=nr(a,"Second parameter"),c=dl(t,"First parameter");if(Uo(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let h=rr(l),_=Ct(l,1);Il(this,c,_,h)}get locked(){if(!Qe(this))throw lr("locked");return Xe(this)}abort(t=void 0){return Qe(this)?Xe(this)?g(new TypeError("Cannot abort a stream that already has a writer")):or(this,t):g(lr("abort"))}close(){return Qe(this)?Xe(this)?g(new TypeError("Cannot close a stream that already has a writer")):de(this)?g(new TypeError("Cannot close an already-closing stream")):Ho(this):g(lr("close"))}getWriter(){if(!Qe(this))throw lr("getWriter");return No(this)}}Object.defineProperties(Pt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function No(e){return new At(e)}function _l(e,t,a,l,c=1,d=()=>1){let h=Object.create(Pt.prototype);Uo(h);let _=Object.create(Ke.prototype);return Ko(h,_,e,t,a,l,c,d),h}function Uo(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Q,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Qe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Pt}function Xe(e){return e._writer!==void 0}function or(e,t){var a;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(a=e._writableStreamController._abortController)===null||a===void 0||a.abort();let l=e._state;if(l==="closed"||l==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;l==="erroring"&&(c=!0,t=void 0);let d=T((h,_)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:_,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=d,c||mn(e,t),d}function Ho(e){let t=e._state;if(t==="closed"||t==="errored")return g(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let a=T((c,d)=>{let h={_resolve:c,_reject:d};e._closeRequest=h}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&Tn(l),ql(e._writableStreamController),a}function wl(e){return T((a,l)=>{let c={_resolve:a,_reject:l};e._writeRequests.push(c)})}function hn(e,t){if(e._state==="writable"){mn(e,t);return}pn(e)}function mn(e,t){let a=e._writableStreamController;e._state="erroring",e._storedError=t;let l=e._writer;l!==void 0&&Vo(l,t),!Pl(e)&&a._started&&pn(e)}function pn(e){e._state="errored",e._writableStreamController[ho]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new Q,e._pendingAbortRequest===void 0){ir(e);return}let a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(t),ir(e);return}let l=e._writableStreamController[fo](a._reason);C(l,()=>{a._resolve(),ir(e)},c=>{a._reject(c),ir(e)})}function Rl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Tl(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,hn(e,t)}function El(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let a=e._writer;a!==void 0&&ti(a)}function Cl(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),hn(e,t)}function de(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Pl(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Al(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function vl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function ir(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&wn(t,e._storedError)}function bn(e,t){let a=e._writer;a!==void 0&&t!==e._backpressure&&(t?Ml(a):Tn(a)),e._backpressure=t}class At{constructor(t){if(ge(t,1,"WritableStreamDefaultWriter"),jo(t,"First parameter"),Xe(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let a=t._state;if(a==="writable")!de(t)&&t._backpressure?cr(this):ri(this),ur(this);else if(a==="erroring")Rn(this,t._storedError),ur(this);else if(a==="closed")ri(this),zl(this);else{let l=t._storedError;Rn(this,l),ei(this,l)}}get closed(){return We(this)?this._closedPromise:g(De("closed"))}get desiredSize(){if(!We(this))throw De("desiredSize");if(this._ownerWritableStream===void 0)throw vt("desiredSize");return Ol(this)}get ready(){return We(this)?this._readyPromise:g(De("ready"))}abort(t=void 0){return We(this)?this._ownerWritableStream===void 0?g(vt("abort")):xl(this,t):g(De("abort"))}close(){if(!We(this))return g(De("close"));let t=this._ownerWritableStream;return t===void 0?g(vt("close")):de(t)?g(new TypeError("Cannot close an already-closing stream")):Go(this)}releaseLock(){if(!We(this))throw De("releaseLock");this._ownerWritableStream!==void 0&&Yo(this)}write(t=void 0){return We(this)?this._ownerWritableStream===void 0?g(vt("write to")):Qo(this,t):g(De("write"))}}Object.defineProperties(At.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(At.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function We(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof At}function xl(e,t){let a=e._ownerWritableStream;return or(a,t)}function Go(e){let t=e._ownerWritableStream;return Ho(t)}function Bl(e){let t=e._ownerWritableStream,a=t._state;return de(t)||a==="closed"?S(void 0):a==="errored"?g(t._storedError):Go(e)}function kl(e,t){e._closedPromiseState==="pending"?wn(e,t):$l(e,t)}function Vo(e,t){e._readyPromiseState==="pending"?ni(e,t):jl(e,t)}function Ol(e){let t=e._ownerWritableStream,a=t._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:Zo(t._writableStreamController)}function Yo(e){let t=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Vo(e,a),kl(e,a),t._writer=void 0,e._ownerWritableStream=void 0}function Qo(e,t){let a=e._ownerWritableStream,l=a._writableStreamController,c=Wl(l,t);if(a!==e._ownerWritableStream)return g(vt("write to"));let d=a._state;if(d==="errored")return g(a._storedError);if(de(a)||d==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return g(a._storedError);let h=wl(a);return Dl(l,t,c),h}let Xo={};class Ke{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!yn(this))throw _n("abortReason");return this._abortReason}get signal(){if(!yn(this))throw _n("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!yn(this))throw _n("error");this._controlledWritableStream._state==="writable"&&Jo(this,t)}[fo](t){let a=this._abortAlgorithm(t);return ar(this),a}[ho](){Ce(this)}}Object.defineProperties(Ke.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ke.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function yn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Ke}function Ko(e,t,a,l,c,d,h,_){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ce(t),t._abortReason=void 0,t._abortController=Sl(),t._started=!1,t._strategySizeAlgorithm=_,t._strategyHWM=h,t._writeAlgorithm=l,t._closeAlgorithm=c,t._abortAlgorithm=d;let E=Sn(t);bn(e,E);let O=a(),q=S(O);C(q,()=>{t._started=!0,sr(t)},W=>{t._started=!0,hn(e,W)})}function Il(e,t,a,l){let c=Object.create(Ke.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0),E=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.write!==void 0&&(h=O=>t.write(O,c)),t.close!==void 0&&(_=()=>t.close()),t.abort!==void 0&&(E=O=>t.abort(O)),Ko(e,c,d,h,_,E,a,l)}function ar(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ql(e){an(e,Xo,0),sr(e)}function Wl(e,t){try{return e._strategySizeAlgorithm(t)}catch(a){return gn(e,a),1}}function Zo(e){return e._strategyHWM-e._queueTotalSize}function Dl(e,t,a){try{an(e,t,a)}catch(c){gn(e,c);return}let l=e._controlledWritableStream;if(!de(l)&&l._state==="writable"){let c=Sn(e);bn(l,c)}sr(e)}function sr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){pn(t);return}if(e._queue.length===0)return;let l=nl(e);l===Xo?Fl(e):Ll(e,l)}function gn(e,t){e._controlledWritableStream._state==="writable"&&Jo(e,t)}function Fl(e){let t=e._controlledWritableStream;Al(t),on(e);let a=e._closeAlgorithm();ar(e),C(a,()=>{El(t)},l=>{Cl(t,l)})}function Ll(e,t){let a=e._controlledWritableStream;vl(a);let l=e._writeAlgorithm(t);C(l,()=>{Rl(a);let c=a._state;if(on(e),!de(a)&&c==="writable"){let d=Sn(e);bn(a,d)}sr(e)},c=>{a._state==="writable"&&ar(e),Tl(a,c)})}function Sn(e){return Zo(e)<=0}function Jo(e,t){let a=e._controlledWritableStream;ar(e),mn(a,t)}function lr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function _n(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function De(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function vt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ur(e){e._closedPromise=T((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a,e._closedPromiseState="pending"})}function ei(e,t){ur(e),wn(e,t)}function zl(e){ur(e),ti(e)}function wn(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function $l(e,t){ei(e,t)}function ti(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function cr(e){e._readyPromise=T((t,a)=>{e._readyPromise_resolve=t,e._readyPromise_reject=a}),e._readyPromiseState="pending"}function Rn(e,t){cr(e),ni(e,t)}function ri(e){cr(e),Tn(e)}function ni(e,t){e._readyPromise_reject!==void 0&&(U(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ml(e){cr(e)}function jl(e,t){Rn(e,t)}function Tn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let oi=typeof DOMException<"u"?DOMException:void 0;function Nl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Ul(){let e=function(a,l){this.message=a||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Hl=Nl(oi)?oi:Ul();function ii(e,t,a,l,c,d){let h=Ve(e),_=No(t);e._disturbed=!0;let E=!1,O=S(void 0);return T((q,W)=>{let M;if(d!==void 0){if(M=()=>{let w=new Hl("Aborted","AbortError"),x=[];l||x.push(()=>t._state==="writable"?or(t,w):S(void 0)),c||x.push(()=>e._state==="readable"?se(e,w):S(void 0)),G(()=>Promise.all(x.map(F=>F())),!0,w)},d.aborted){M();return}d.addEventListener("abort",M)}function le(){return T((w,x)=>{function F(X){X?w():y(et(),F,x)}F(!1)})}function et(){return E?S(!0):y(_._readyPromise,()=>T((w,x)=>{St(h,{_chunkSteps:F=>{O=y(Qo(_,F),void 0,o),w(!1)},_closeSteps:()=>w(!0),_errorSteps:x})}))}if(Se(e,h._closedPromise,w=>{l?te(!0,w):G(()=>or(t,w),!0,w)}),Se(t,_._closedPromise,w=>{c?te(!0,w):G(()=>se(e,w),!0,w)}),H(e,h._closedPromise,()=>{a?te():G(()=>Bl(_))}),de(t)||t._state==="closed"){let w=new TypeError("the destination writable stream closed before all data could be piped to it");c?te(!0,w):G(()=>se(e,w),!0,w)}U(le());function Be(){let w=O;return y(O,()=>w!==O?Be():void 0)}function Se(w,x,F){w._state==="errored"?F(w._storedError):v(x,F)}function H(w,x,F){w._state==="closed"?F():P(x,F)}function G(w,x,F){if(E)return;E=!0,t._state==="writable"&&!de(t)?P(Be(),X):X();function X(){C(w(),()=>_e(x,F),tt=>_e(!0,tt))}}function te(w,x){E||(E=!0,t._state==="writable"&&!de(t)?P(Be(),()=>_e(w,x)):_e(w,x))}function _e(w,x){Yo(_),be(h),d!==void 0&&d.removeEventListener("abort",M),w?W(x):q(void 0)}})}class Ze{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!fr(this))throw mr("desiredSize");return En(this)}close(){if(!fr(this))throw mr("close");if(!Je(this))throw new TypeError("The stream is not in a state that permits close");Bt(this)}enqueue(t=void 0){if(!fr(this))throw mr("enqueue");if(!Je(this))throw new TypeError("The stream is not in a state that permits enqueue");return hr(this,t)}error(t=void 0){if(!fr(this))throw mr("error");Pe(this,t)}[Zr](t){Ce(this);let a=this._cancelAlgorithm(t);return dr(this),a}[Jr](t){let a=this._controlledReadableStream;if(this._queue.length>0){let l=on(this);this._closeRequested&&this._queue.length===0?(dr(this),kt(a)):xt(this),t._chunkSteps(l)}else go(a,t),xt(this)}}Object.defineProperties(Ze.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ze.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function fr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Ze}function xt(e){if(!ai(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();C(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,xt(e))},l=>{Pe(e,l)})}function ai(e){let t=e._controlledReadableStream;return!Je(e)||!e._started?!1:!!(xe(t)&&Gt(t)>0||En(e)>0)}function dr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Bt(e){if(!Je(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(dr(e),kt(t))}function hr(e,t){if(!Je(e))return;let a=e._controlledReadableStream;if(xe(a)&&Gt(a)>0)nn(a,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(c){throw Pe(e,c),c}try{an(e,t,l)}catch(c){throw Pe(e,c),c}}xt(e)}function Pe(e,t){let a=e._controlledReadableStream;a._state==="readable"&&(Ce(e),dr(e),ci(a,t))}function En(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Gl(e){return!ai(e)}function Je(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function si(e,t,a,l,c,d,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ce(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,e._readableStreamController=t;let _=a();C(S(_),()=>{t._started=!0,xt(t)},E=>{Pe(t,E)})}function Vl(e,t,a,l){let c=Object.create(Ze.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.pull!==void 0&&(h=()=>t.pull(c)),t.cancel!==void 0&&(_=E=>t.cancel(E)),si(e,c,d,h,_,a,l)}function mr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Yl(e,t){return Oe(e._readableStreamController)?Xl(e):Ql(e)}function Ql(e,t){let a=Ve(e),l=!1,c=!1,d=!1,h=!1,_,E,O,q,W,M=T(H=>{W=H});function le(){return l?(c=!0,S(void 0)):(l=!0,St(a,{_chunkSteps:G=>{k(()=>{c=!1;let te=G,_e=G;d||hr(O._readableStreamController,te),h||hr(q._readableStreamController,_e),l=!1,c&&le()})},_closeSteps:()=>{l=!1,d||Bt(O._readableStreamController),h||Bt(q._readableStreamController),(!d||!h)&&W(void 0)},_errorSteps:()=>{l=!1}}),S(void 0))}function et(H){if(d=!0,_=H,h){let G=_t([_,E]),te=se(e,G);W(te)}return M}function Be(H){if(h=!0,E=H,d){let G=_t([_,E]),te=se(e,G);W(te)}return M}function Se(){}return O=Cn(Se,le,et),q=Cn(Se,le,Be),v(a._closedPromise,H=>{Pe(O._readableStreamController,H),Pe(q._readableStreamController,H),(!d||!h)&&W(void 0)}),[O,q]}function Xl(e){let t=Ve(e),a=!1,l=!1,c=!1,d=!1,h=!1,_,E,O,q,W,M=T(w=>{W=w});function le(w){v(w._closedPromise,x=>{w===t&&(ae(O._readableStreamController,x),ae(q._readableStreamController,x),(!d||!h)&&W(void 0))})}function et(){qe(t)&&(be(t),t=Ve(e),le(t)),St(t,{_chunkSteps:x=>{k(()=>{l=!1,c=!1;let F=x,X=x;if(!d&&!h)try{X=vo(x)}catch(tt){ae(O._readableStreamController,tt),ae(q._readableStreamController,tt),W(se(e,tt));return}d||Zt(O._readableStreamController,F),h||Zt(q._readableStreamController,X),a=!1,l?Se():c&&H()})},_closeSteps:()=>{a=!1,d||Rt(O._readableStreamController),h||Rt(q._readableStreamController),O._readableStreamController._pendingPullIntos.length>0&&Jt(O._readableStreamController,0),q._readableStreamController._pendingPullIntos.length>0&&Jt(q._readableStreamController,0),(!d||!h)&&W(void 0)},_errorSteps:()=>{a=!1}})}function Be(w,x){Ee(t)&&(be(t),t=Lo(e),le(t));let F=x?q:O,X=x?O:q;Mo(t,w,{_chunkSteps:rt=>{k(()=>{l=!1,c=!1;let nt=x?h:d;if(x?d:h)nt||er(F._readableStreamController,rt);else{let Ti;try{Ti=vo(rt)}catch(An){ae(F._readableStreamController,An),ae(X._readableStreamController,An),W(se(e,An));return}nt||er(F._readableStreamController,rt),Zt(X._readableStreamController,Ti)}a=!1,l?Se():c&&H()})},_closeSteps:rt=>{a=!1;let nt=x?h:d,Tr=x?d:h;nt||Rt(F._readableStreamController),Tr||Rt(X._readableStreamController),rt!==void 0&&(nt||er(F._readableStreamController,rt),!Tr&&X._readableStreamController._pendingPullIntos.length>0&&Jt(X._readableStreamController,0)),(!nt||!Tr)&&W(void 0)},_errorSteps:()=>{a=!1}})}function Se(){if(a)return l=!0,S(void 0);a=!0;let w=cn(O._readableStreamController);return w===null?et():Be(w._view,!1),S(void 0)}function H(){if(a)return c=!0,S(void 0);a=!0;let w=cn(q._readableStreamController);return w===null?et():Be(w._view,!0),S(void 0)}function G(w){if(d=!0,_=w,h){let x=_t([_,E]),F=se(e,x);W(F)}return M}function te(w){if(h=!0,E=w,d){let x=_t([_,E]),F=se(e,x);W(F)}return M}function _e(){}return O=ui(_e,Se,G),q=ui(_e,H,te),le(t),[O,q]}function Kl(e,t){ye(e,t);let a=e,l=a?.autoAllocateChunkSize,c=a?.cancel,d=a?.pull,h=a?.start,_=a?.type;return{autoAllocateChunkSize:l===void 0?void 0:yo(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:Zl(c,a,`${t} has member 'cancel' that`),pull:d===void 0?void 0:Jl(d,a,`${t} has member 'pull' that`),start:h===void 0?void 0:eu(h,a,`${t} has member 'start' that`),type:_===void 0?void 0:tu(_,`${t} has member 'type' that`)}}function Zl(e,t,a){return ie(e,a),l=>I(e,t,[l])}function Jl(e,t,a){return ie(e,a),l=>I(e,t,[l])}function eu(e,t,a){return ie(e,a),l=>z(e,t,[l])}function tu(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function ru(e,t){ye(e,t);let a=e?.mode;return{mode:a===void 0?void 0:nu(a,`${t} has member 'mode' that`)}}function nu(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function ou(e,t){return ye(e,t),{preventCancel:!!e?.preventCancel}}function li(e,t){ye(e,t);let a=e?.preventAbort,l=e?.preventCancel,c=e?.preventClose,d=e?.signal;return d!==void 0&&iu(d,`${t} has member 'signal' that`),{preventAbort:!!a,preventCancel:!!l,preventClose:!!c,signal:d}}function iu(e,t){if(!yl(e))throw new TypeError(`${t} is not an AbortSignal.`)}function au(e,t){ye(e,t);let a=e?.readable;en(a,"readable","ReadableWritablePair"),rn(a,`${t} has member 'readable' that`);let l=e?.writable;return en(l,"writable","ReadableWritablePair"),jo(l,`${t} has member 'writable' that`),{readable:a,writable:l}}class Ae{constructor(t={},a={}){t===void 0?t=null:po(t,"First parameter");let l=nr(a,"Second parameter"),c=Kl(t,"First parameter");if(Pn(this),c.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=Ct(l,0);ll(this,c,d)}else{let d=rr(l),h=Ct(l,1);Vl(this,c,h,d)}}get locked(){if(!ve(this))throw Fe("locked");return xe(this)}cancel(t=void 0){return ve(this)?xe(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):se(this,t):g(Fe("cancel"))}getReader(t=void 0){if(!ve(this))throw Fe("getReader");return ru(t,"First parameter").mode===void 0?Ve(this):Lo(this)}pipeThrough(t,a={}){if(!ve(this))throw Fe("pipeThrough");ge(t,1,"pipeThrough");let l=au(t,"First parameter"),c=li(a,"Second parameter");if(xe(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Xe(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=ii(this,l.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return U(d),l.readable}pipeTo(t,a={}){if(!ve(this))return g(Fe("pipeTo"));if(t===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!Qe(t))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=li(a,"Second parameter")}catch(c){return g(c)}return xe(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Xe(t)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ii(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!ve(this))throw Fe("tee");let t=Yl(this);return _t(t)}values(t=void 0){if(!ve(this))throw Fe("values");let a=ou(t,"First parameter");return tl(this,a.preventCancel)}}Object.defineProperties(Ae.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ae.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Ae.prototype,r.asyncIterator,{value:Ae.prototype.values,writable:!0,configurable:!0});function Cn(e,t,a,l=1,c=()=>1){let d=Object.create(Ae.prototype);Pn(d);let h=Object.create(Ze.prototype);return si(d,h,e,t,a,l,c),d}function ui(e,t,a){let l=Object.create(Ae.prototype);Pn(l);let c=Object.create(Ye.prototype);return Fo(l,c,e,t,a,0,void 0),l}function Pn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ve(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Ae}function xe(e){return e._reader!==void 0}function se(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return g(e._storedError);kt(e);let a=e._reader;a!==void 0&&qe(a)&&(a._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),a._readIntoRequests=new Q);let l=e._readableStreamController[Zr](t);return D(l,o)}function kt(e){e._state="closed";let t=e._reader;t!==void 0&&(co(t),Ee(t)&&(t._readRequests.forEach(a=>{a._closeSteps()}),t._readRequests=new Q))}function ci(e,t){e._state="errored",e._storedError=t;let a=e._reader;a!==void 0&&(Kr(a,t),Ee(a)?(a._readRequests.forEach(l=>{l._errorSteps(t)}),a._readRequests=new Q):(a._readIntoRequests.forEach(l=>{l._errorSteps(t)}),a._readIntoRequests=new Q))}function Fe(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function fi(e,t){ye(e,t);let a=e?.highWaterMark;return en(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:tn(a)}}let di=e=>e.byteLength;try{Object.defineProperty(di,"name",{value:"size",configurable:!0})}catch{}class pr{constructor(t){ge(t,1,"ByteLengthQueuingStrategy"),t=fi(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!mi(this))throw hi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!mi(this))throw hi("size");return di}}Object.defineProperties(pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function hi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function mi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof pr}let pi=()=>1;try{Object.defineProperty(pi,"name",{value:"size",configurable:!0})}catch{}class br{constructor(t){ge(t,1,"CountQueuingStrategy"),t=fi(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!yi(this))throw bi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!yi(this))throw bi("size");return pi}}Object.defineProperties(br.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(br.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function bi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function yi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof br}function su(e,t){ye(e,t);let a=e?.flush,l=e?.readableType,c=e?.start,d=e?.transform,h=e?.writableType;return{flush:a===void 0?void 0:lu(a,e,`${t} has member 'flush' that`),readableType:l,start:c===void 0?void 0:uu(c,e,`${t} has member 'start' that`),transform:d===void 0?void 0:cu(d,e,`${t} has member 'transform' that`),writableType:h}}function lu(e,t,a){return ie(e,a),l=>I(e,t,[l])}function uu(e,t,a){return ie(e,a),l=>z(e,t,[l])}function cu(e,t,a){return ie(e,a),(l,c)=>I(e,t,[l,c])}class yr{constructor(t={},a={},l={}){t===void 0&&(t=null);let c=nr(a,"Second parameter"),d=nr(l,"Third parameter"),h=su(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let _=Ct(d,0),E=rr(d),O=Ct(c,1),q=rr(c),W,M=T(le=>{W=le});fu(this,M,O,q,_,E),hu(this,h),h.start!==void 0?W(h.start(this._transformStreamController)):W(void 0)}get readable(){if(!gi(this))throw Ri("readable");return this._readable}get writable(){if(!gi(this))throw Ri("writable");return this._writable}}Object.defineProperties(yr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(yr.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function fu(e,t,a,l,c,d){function h(){return t}function _(M){return bu(e,M)}function E(M){return yu(e,M)}function O(){return gu(e)}e._writable=_l(h,_,O,E,a,l);function q(){return Su(e)}function W(M){return Sr(e,M),S(void 0)}e._readable=Cn(h,q,W,c,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,_r(e,!0),e._transformStreamController=void 0}function gi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof yr}function gr(e,t){Pe(e._readable._readableStreamController,t),Sr(e,t)}function Sr(e,t){Si(e._transformStreamController),gn(e._writable._writableStreamController,t),e._backpressure&&_r(e,!1)}function _r(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(a=>{e._backpressureChangePromise_resolve=a}),e._backpressure=t}class Ot{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!wr(this))throw Rr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return En(t)}enqueue(t=void 0){if(!wr(this))throw Rr("enqueue");_i(this,t)}error(t=void 0){if(!wr(this))throw Rr("error");mu(this,t)}terminate(){if(!wr(this))throw Rr("terminate");pu(this)}}Object.defineProperties(Ot.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ot.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function wr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Ot}function du(e,t,a,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=a,t._flushAlgorithm=l}function hu(e,t){let a=Object.create(Ot.prototype),l=d=>{try{return _i(a,d),S(void 0)}catch(h){return g(h)}},c=()=>S(void 0);t.transform!==void 0&&(l=d=>t.transform(d,a)),t.flush!==void 0&&(c=()=>t.flush(a)),du(e,a,l,c)}function Si(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function _i(e,t){let a=e._controlledTransformStream,l=a._readable._readableStreamController;if(!Je(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{hr(l,t)}catch(d){throw Sr(a,d),a._readable._storedError}Gl(l)!==a._backpressure&&_r(a,!0)}function mu(e,t){gr(e._controlledTransformStream,t)}function wi(e,t){let a=e._transformAlgorithm(t);return D(a,void 0,l=>{throw gr(e._controlledTransformStream,l),l})}function pu(e){let t=e._controlledTransformStream,a=t._readable._readableStreamController;Bt(a);let l=new TypeError("TransformStream terminated");Sr(t,l)}function bu(e,t){let a=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return D(l,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return wi(a,t)})}return wi(a,t)}function yu(e,t){return gr(e,t),S(void 0)}function gu(e){let t=e._readable,a=e._transformStreamController,l=a._flushAlgorithm();return Si(a),D(l,()=>{if(t._state==="errored")throw t._storedError;Bt(t._readableStreamController)},c=>{throw gr(e,c),t._storedError})}function Su(e){return _r(e,!1),e._backpressureChangePromise}function Rr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Ri(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=pr,n.CountQueuingStrategy=br,n.ReadableByteStreamController=Ye,n.ReadableStream=Ae,n.ReadableStreamBYOBReader=Et,n.ReadableStreamBYOBRequest=wt,n.ReadableStreamDefaultController=Ze,n.ReadableStreamDefaultReader=gt,n.TransformStream=yr,n.TransformStreamDefaultController=Ot,n.WritableStream=Pt,n.WritableStreamDefaultController=Ke,n.WritableStreamDefaultWriter=At,Object.defineProperty(n,"__esModule",{value:!0})}))});var Bi=A(()=>{if(!globalThis.ReadableStream)try{let n=require("node:process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,xi())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let p=await s.slice(i,Math.min(s.size,i+65536)).arrayBuffer();i+=p.byteLength,u.enqueue(new Uint8Array(p)),i===s.size&&u.close()}})})}catch{}});async function*vn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,s=o.byteOffset+o.byteLength;for(;i!==s;){let u=Math.min(s-i,ki),f=o.buffer.slice(i,i+u);i+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let i=0,s=o;for(;i!==s.size;){let f=await s.slice(i,Math.min(s.size,i+ki)).arrayBuffer();i+=f.byteLength,yield new Uint8Array(f)}}}var Jf,ki,Oi,Au,we,qt=It(()=>{Jf=K(Bi(),1);ki=65536;Oi=class xn{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let u of r){let f;ArrayBuffer.isView(u)?f=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?f=new Uint8Array(u.slice(0)):u instanceof xn?f=u:f=i.encode(`${u}`);let p=ArrayBuffer.isView(f)?f.byteLength:f.size;p&&(this.#r+=p,this.#e.push(f))}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let i of vn(this.#e,!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of vn(this.#e,!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=vn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),f=o<0?Math.max(s+o,0):Math.min(o,s),p=Math.max(f-u,0),b=this.#e,m=[],R=0;for(let S of b){if(R>=p)break;let g=ArrayBuffer.isView(S)?S.byteLength:S.size;if(u&&g<=u)u-=g,f-=g;else{let y;ArrayBuffer.isView(S)?(y=S.subarray(u,Math.min(g,f)),R+=y.byteLength):(y=S.slice(u,Math.min(g,f)),R+=y.size),f-=g,m.push(y),u=0}}let T=new xn([],{type:String(i).toLowerCase()});return T.#r=p,T.#e=m,T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(Oi.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Au=Oi,we=Au});var vu,xu,ot,Bn=It(()=>{qt();vu=class extends we{#e=0;#t="";constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i),i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof we&&/^(File)$/.test(r[Symbol.toStringTag])}},xu=vu,ot=xu});function Wi(n,r=we){var o=`${Ii()}${Ii()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return n.forEach((u,f)=>typeof u=="string"?i.push(s+kn(f)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+kn(f)+`"; filename="${kn(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}var Wt,Bu,ku,Ii,Ou,qi,kn,Le,ze,Pr=It(()=>{qt();Bn();({toStringTag:Wt,iterator:Bu,hasInstance:ku}=Symbol),Ii=Math.random,Ou="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),qi=(n,r,o)=>(n+="",/^(Blob|File)$/.test(r&&r[Wt])?[(o=o!==void 0?o+"":r[Wt]=="File"?r.name:"blob",n),r.name!==o||r[Wt]=="blob"?new ot([r],o,r):r]:[n,r+""]),kn=(n,r)=>(r?n:n.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Le=(n,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${n}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},ze=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Wt](){return"FormData"}[Bu](){return this.entries()}static[ku](r){return r&&typeof r=="object"&&r[Wt]==="FormData"&&!Ou.some(o=>typeof r[o]!="function")}append(...r){Le("append",arguments,2),this.#e.push(qi(...r))}delete(r){Le("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){Le("get",arguments,1),r+="";for(var o=this.#e,i=o.length,s=0;s<i;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return Le("getAll",arguments,1),o=[],r+="",this.#e.forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return Le("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){Le("forEach",arguments,1);for(var[i,s]of this)r.call(o,s,i,this)}set(...r){Le("set",arguments,2);var o=[],i=!0;r=qi(...r),this.#e.forEach(s=>{s[0]===r[0]?i&&(i=!o.push(r)):o.push(s)}),i&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var $i=A((dd,zi)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),r=new n().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}zi.exports=globalThis.DOMException});var vr,Iu,pd,In=It(()=>{vr=require("node:fs"),Iu=K($i(),1);Bn();qt();({stat:pd}=vr.promises)});var ji={};Ei(ji,{toFormData:()=>$u});function zu(n){let r=n.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),i}async function $u(n,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new qn(o[1]||o[2]),s,u,f,p,b,m,R=[],T=new ze,S=v=>{f+=P.decode(v,{stream:!0})},g=v=>{R.push(v)},y=()=>{let v=new ot(R,m,{type:b});T.append(p,v)},C=()=>{T.append(p,f)},P=new TextDecoder("utf-8");P.decode(),i.onPartBegin=function(){i.onPartData=S,i.onPartEnd=C,s="",u="",f="",p="",b="",m=null,R.length=0},i.onHeaderField=function(v){s+=P.decode(v,{stream:!0})},i.onHeaderValue=function(v){u+=P.decode(v,{stream:!0})},i.onHeaderEnd=function(){if(u+=P.decode(),s=s.toLowerCase(),s==="content-disposition"){let v=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);v&&(p=v[2]||v[3]||""),m=zu(u),m&&(i.onPartData=g,i.onPartEnd=y)}else s==="content-type"&&(b=u);u="",s=""};for await(let v of n)i.write(v);return i.end(),T}var he,L,Mi,ke,xr,Br,qu,Ft,Wu,Du,Fu,Lu,$e,qn,Ni=It(()=>{In();Pr();he=0,L={START_BOUNDARY:he++,HEADER_FIELD_START:he++,HEADER_FIELD:he++,HEADER_VALUE_START:he++,HEADER_VALUE:he++,HEADER_VALUE_ALMOST_DONE:he++,HEADERS_ALMOST_DONE:he++,PART_DATA_START:he++,PART_DATA:he++,END:he++},Mi=1,ke={PART_BOUNDARY:Mi,LAST_BOUNDARY:Mi*=2},xr=10,Br=13,qu=32,Ft=45,Wu=58,Du=97,Fu=122,Lu=n=>n|32,$e=()=>{},qn=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=$e,this.onHeaderField=$e,this.onHeadersEnd=$e,this.onHeaderValue=$e,this.onPartBegin=$e,this.onPartData=$e,this.onPartEnd=$e,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=L.START_BOUNDARY}write(r){let o=0,i=r.length,s=this.index,{lookbehind:u,boundary:f,boundaryChars:p,index:b,state:m,flags:R}=this,T=this.boundary.length,S=T-1,g=r.length,y,C,P=k=>{this[k+"Mark"]=o},v=k=>{delete this[k+"Mark"]},D=(k,z,I,oe)=>{(z===void 0||z!==I)&&this[k](oe&&oe.subarray(z,I))},U=(k,z)=>{let I=k+"Mark";I in this&&(z?(D(k,this[I],o,r),delete this[I]):(D(k,this[I],r.length,r),this[I]=0))};for(o=0;o<i;o++)switch(y=r[o],m){case L.START_BOUNDARY:if(b===f.length-2){if(y===Ft)R|=ke.LAST_BOUNDARY;else if(y!==Br)return;b++;break}else if(b-1===f.length-2){if(R&ke.LAST_BOUNDARY&&y===Ft)m=L.END,R=0;else if(!(R&ke.LAST_BOUNDARY)&&y===xr)b=0,D("onPartBegin"),m=L.HEADER_FIELD_START;else return;break}y!==f[b+2]&&(b=-2),y===f[b+2]&&b++;break;case L.HEADER_FIELD_START:m=L.HEADER_FIELD,P("onHeaderField"),b=0;case L.HEADER_FIELD:if(y===Br){v("onHeaderField"),m=L.HEADERS_ALMOST_DONE;break}if(b++,y===Ft)break;if(y===Wu){if(b===1)return;U("onHeaderField",!0),m=L.HEADER_VALUE_START;break}if(C=Lu(y),C<Du||C>Fu)return;break;case L.HEADER_VALUE_START:if(y===qu)break;P("onHeaderValue"),m=L.HEADER_VALUE;case L.HEADER_VALUE:y===Br&&(U("onHeaderValue",!0),D("onHeaderEnd"),m=L.HEADER_VALUE_ALMOST_DONE);break;case L.HEADER_VALUE_ALMOST_DONE:if(y!==xr)return;m=L.HEADER_FIELD_START;break;case L.HEADERS_ALMOST_DONE:if(y!==xr)return;D("onHeadersEnd"),m=L.PART_DATA_START;break;case L.PART_DATA_START:m=L.PART_DATA,P("onPartData");case L.PART_DATA:if(s=b,b===0){for(o+=S;o<g&&!(r[o]in p);)o+=T;o-=S,y=r[o]}if(b<f.length)f[b]===y?(b===0&&U("onPartData",!0),b++):b=0;else if(b===f.length)b++,y===Br?R|=ke.PART_BOUNDARY:y===Ft?R|=ke.LAST_BOUNDARY:b=0;else if(b-1===f.length)if(R&ke.PART_BOUNDARY){if(b=0,y===xr){R&=~ke.PART_BOUNDARY,D("onPartEnd"),D("onPartBegin"),m=L.HEADER_FIELD_START;break}}else R&ke.LAST_BOUNDARY&&y===Ft?(D("onPartEnd"),m=L.END,R=0):b=0;if(b>0)u[b-1]=y;else if(s>0){let k=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);D("onPartData",0,s,k),s=0,P("onPartData"),o--}break;case L.END:break;default:throw new Error(`Unexpected state entered: ${m}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=b,this.state=m,this.flags=R}end(){if(this.state===L.HEADER_FIELD_START&&this.index===0||this.state===L.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==L.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ca=A((oh,ua)=>{ua.exports=la;la.sync=Qu;var aa=require("fs");function Yu(n,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var i=0;i<o.length;i++){var s=o[i].toLowerCase();if(s&&n.substr(-s.length).toLowerCase()===s)return!0}return!1}function sa(n,r,o){return!n.isSymbolicLink()&&!n.isFile()?!1:Yu(r,o)}function la(n,r,o){aa.stat(n,function(i,s){o(i,i?!1:sa(s,n,r))})}function Qu(n,r){return sa(aa.statSync(n),n,r)}});var pa=A((ih,ma)=>{ma.exports=da;da.sync=Xu;var fa=require("fs");function da(n,r,o){fa.stat(n,function(i,s){o(i,i?!1:ha(s,r))})}function Xu(n,r){return ha(fa.statSync(n),r)}function ha(n,r){return n.isFile()&&Ku(n,r)}function Ku(n,r){var o=n.mode,i=n.uid,s=n.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),f=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),p=parseInt("100",8),b=parseInt("010",8),m=parseInt("001",8),R=p|b,T=o&m||o&b&&s===f||o&p&&i===u||o&R&&u===0;return T}});var ya=A((sh,ba)=>{var ah=require("fs"),qr;process.platform==="win32"||global.TESTING_WINDOWS?qr=ca():qr=pa();ba.exports=Ln;Ln.sync=Zu;function Ln(n,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,s){Ln(n,r||{},function(u,f){u?s(u):i(f)})})}qr(n,r||{},function(i,s){i&&(i.code==="EACCES"||r&&r.ignoreErrors)&&(i=null,s=!1),o(i,s)})}function Zu(n,r){try{return qr.sync(n,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Ea=A((lh,Ta)=>{var ut=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ga=require("path"),Ju=ut?";":":",Sa=ya(),_a=n=>Object.assign(new Error(`not found: ${n}`),{code:"ENOENT"}),wa=(n,r)=>{let o=r.colon||Ju,i=n.match(/\//)||ut&&n.match(/\\/)?[""]:[...ut?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=ut?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=ut?s.split(o):[""];return ut&&n.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:i,pathExt:u,pathExtExe:s}},Ra=(n,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:i,pathExt:s,pathExtExe:u}=wa(n,r),f=[],p=m=>new Promise((R,T)=>{if(m===i.length)return r.all&&f.length?R(f):T(_a(n));let S=i[m],g=/^".*"$/.test(S)?S.slice(1,-1):S,y=ga.join(g,n),C=!g&&/^\.[\\\/]/.test(n)?n.slice(0,2)+y:y;R(b(C,m,0))}),b=(m,R,T)=>new Promise((S,g)=>{if(T===s.length)return S(p(R+1));let y=s[T];Sa(m+y,{pathExt:u},(C,P)=>{if(!C&&P)if(r.all)f.push(m+y);else return S(m+y);return S(b(m,R,T+1))})});return o?p(0).then(m=>o(null,m),o):p(0)},ec=(n,r)=>{r=r||{};let{pathEnv:o,pathExt:i,pathExtExe:s}=wa(n,r),u=[];for(let f=0;f<o.length;f++){let p=o[f],b=/^".*"$/.test(p)?p.slice(1,-1):p,m=ga.join(b,n),R=!b&&/^\.[\\\/]/.test(n)?n.slice(0,2)+m:m;for(let T=0;T<i.length;T++){let S=R+i[T];try{if(Sa.sync(S,{pathExt:s}))if(r.all)u.push(S);else return S}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw _a(n)};Ta.exports=Ra;Ra.sync=ec});var $n=A((uh,zn)=>{"use strict";var Ca=(n={})=>{let r=n.env||process.env;return(n.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};zn.exports=Ca;zn.exports.default=Ca});var xa=A((ch,va)=>{"use strict";var Pa=require("path"),tc=Ea(),rc=$n();function Aa(n,r){let o=n.options.env||process.env,i=process.cwd(),s=n.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(n.options.cwd)}catch{}let f;try{f=tc.sync(n.command,{path:o[rc({env:o})],pathExt:r?Pa.delimiter:void 0})}catch{}finally{u&&process.chdir(i)}return f&&(f=Pa.resolve(s?n.options.cwd:"",f)),f}function nc(n){return Aa(n)||Aa(n,!0)}va.exports=nc});var Ba=A((fh,jn)=>{"use strict";var Mn=/([()\][%!^"`<>&|;, *?])/g;function oc(n){return n=n.replace(Mn,"^$1"),n}function ic(n,r){return n=`${n}`,n=n.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),n=n.replace(/(?=(\\+?)?)\1$/,"$1$1"),n=`"${n}"`,n=n.replace(Mn,"^$1"),r&&(n=n.replace(Mn,"^$1")),n}jn.exports.command=oc;jn.exports.argument=ic});var Oa=A((dh,ka)=>{"use strict";ka.exports=/^#!(.*)/});var qa=A((hh,Ia)=>{"use strict";var ac=Oa();Ia.exports=(n="")=>{let r=n.match(ac);if(!r)return null;let[o,i]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?i:i?`${s} ${i}`:s}});var Da=A((mh,Wa)=>{"use strict";var Nn=require("fs"),sc=qa();function lc(n){let o=Buffer.alloc(150),i;try{i=Nn.openSync(n,"r"),Nn.readSync(i,o,0,150,0),Nn.closeSync(i)}catch{}return sc(o.toString())}Wa.exports=lc});var $a=A((ph,za)=>{"use strict";var uc=require("path"),Fa=xa(),La=Ba(),cc=Da(),fc=process.platform==="win32",dc=/\.(?:com|exe)$/i,hc=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function mc(n){n.file=Fa(n);let r=n.file&&cc(n.file);return r?(n.args.unshift(n.file),n.command=r,Fa(n)):n.file}function pc(n){if(!fc)return n;let r=mc(n),o=!dc.test(r);if(n.options.forceShell||o){let i=hc.test(r);n.command=uc.normalize(n.command),n.command=La.command(n.command),n.args=n.args.map(u=>La.argument(u,i));let s=[n.command].concat(n.args).join(" ");n.args=["/d","/s","/c",`"${s}"`],n.command=process.env.comspec||"cmd.exe",n.options.windowsVerbatimArguments=!0}return n}function bc(n,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let i={command:n,args:r,options:o,file:void 0,original:{command:n,args:r}};return o.shell?i:pc(i)}za.exports=bc});var Na=A((bh,ja)=>{"use strict";var Un=process.platform==="win32";function Hn(n,r){return Object.assign(new Error(`${r} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${n.command}`,path:n.command,spawnargs:n.args})}function yc(n,r){if(!Un)return;let o=n.emit;n.emit=function(i,s){if(i==="exit"){let u=Ma(s,r);if(u)return o.call(n,"error",u)}return o.apply(n,arguments)}}function Ma(n,r){return Un&&n===1&&!r.file?Hn(r.original,"spawn"):null}function gc(n,r){return Un&&n===1&&!r.file?Hn(r.original,"spawnSync"):null}ja.exports={hookChildProcess:yc,verifyENOENT:Ma,verifyENOENTSync:gc,notFoundError:Hn}});var Ga=A((yh,ct)=>{"use strict";var Ua=require("child_process"),Gn=$a(),Vn=Na();function Ha(n,r,o){let i=Gn(n,r,o),s=Ua.spawn(i.command,i.args,i.options);return Vn.hookChildProcess(s,i),s}function Sc(n,r,o){let i=Gn(n,r,o),s=Ua.spawnSync(i.command,i.args,i.options);return s.error=s.error||Vn.verifyENOENTSync(s.status,i),s}ct.exports=Ha;ct.exports.spawn=Ha;ct.exports.sync=Sc;ct.exports._parse=Gn;ct.exports._enoent=Vn});var Ya=A((gh,Va)=>{"use strict";Va.exports=n=>{let r=typeof n=="string"?`
`:10,o=typeof n=="string"?"\r":13;return n[n.length-1]===r&&(n=n.slice(0,n.length-1)),n[n.length-1]===o&&(n=n.slice(0,n.length-1)),n}});var Ka=A((Sh,jt)=>{"use strict";var Mt=require("path"),Qa=$n(),Xa=n=>{n={cwd:process.cwd(),path:process.env[Qa()],execPath:process.execPath,...n};let r,o=Mt.resolve(n.cwd),i=[];for(;r!==o;)i.push(Mt.join(o,"node_modules/.bin")),r=o,o=Mt.resolve(o,"..");let s=Mt.resolve(n.cwd,n.execPath,"..");return i.push(s),i.concat(n.path).join(Mt.delimiter)};jt.exports=Xa;jt.exports.default=Xa;jt.exports.env=n=>{n={env:process.env,...n};let r={...n.env},o=Qa({env:r});return n.path=r[o],r[o]=jt.exports(n),r}});var Ja=A((_h,Yn)=>{"use strict";var Za=(n,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o));return n};Yn.exports=Za;Yn.exports.default=Za});var ts=A((wh,Dr)=>{"use strict";var _c=Ja(),Wr=new WeakMap,es=(n,r={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let o,i=0,s=n.displayName||n.name||"<anonymous>",u=function(...f){if(Wr.set(u,++i),i===1)o=n.apply(this,f),n=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return _c(u,n),Wr.set(u,i),u};Dr.exports=es;Dr.exports.default=es;Dr.exports.callCount=n=>{if(!Wr.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return Wr.get(n)}});var rs=A(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.SIGNALS=void 0;var wc=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Fr.SIGNALS=wc});var Qn=A(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.SIGRTMAX=ft.getRealtimeSignals=void 0;var Rc=function(){let n=os-ns+1;return Array.from({length:n},Tc)};ft.getRealtimeSignals=Rc;var Tc=function(n,r){return{name:`SIGRT${r+1}`,number:ns+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},ns=34,os=64;ft.SIGRTMAX=os});var is=A(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.getSignals=void 0;var Ec=require("os"),Cc=rs(),Pc=Qn(),Ac=function(){let n=(0,Pc.getRealtimeSignals)();return[...Cc.SIGNALS,...n].map(vc)};Lr.getSignals=Ac;var vc=function({name:n,number:r,description:o,action:i,forced:s=!1,standard:u}){let{signals:{[n]:f}}=Ec.constants,p=f!==void 0;return{name:n,number:p?f:r,description:o,supported:p,action:i,forced:s,standard:u}}});var ss=A(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.signalsByNumber=dt.signalsByName=void 0;var xc=require("os"),as=is(),Bc=Qn(),kc=function(){return(0,as.getSignals)().reduce(Oc,{})},Oc=function(n,{name:r,number:o,description:i,supported:s,action:u,forced:f,standard:p}){return{...n,[r]:{name:r,number:o,description:i,supported:s,action:u,forced:f,standard:p}}},Ic=kc();dt.signalsByName=Ic;var qc=function(){let n=(0,as.getSignals)(),r=Bc.SIGRTMAX+1,o=Array.from({length:r},(i,s)=>Wc(s,n));return Object.assign({},...o)},Wc=function(n,r){let o=Dc(n,r);if(o===void 0)return{};let{name:i,description:s,supported:u,action:f,forced:p,standard:b}=o;return{[n]:{name:i,number:n,description:s,supported:u,action:f,forced:p,standard:b}}},Dc=function(n,r){let o=r.find(({name:i})=>xc.constants.signals[i]===n);return o!==void 0?o:r.find(i=>i.number===n)},Fc=qc();dt.signalsByNumber=Fc});var us=A((Ph,ls)=>{"use strict";var{signalsByName:Lc}=ss(),zc=({timedOut:n,timeout:r,errorCode:o,signal:i,signalDescription:s,exitCode:u,isCanceled:f})=>n?`timed out after ${r} milliseconds`:f?"was canceled":o!==void 0?`failed with ${o}`:i!==void 0?`was killed with ${i} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",$c=({stdout:n,stderr:r,all:o,error:i,signal:s,exitCode:u,command:f,escapedCommand:p,timedOut:b,isCanceled:m,killed:R,parsed:{options:{timeout:T}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let S=s===void 0?void 0:Lc[s].description,g=i&&i.code,C=`Command ${zc({timedOut:b,timeout:T,errorCode:g,signal:s,signalDescription:S,exitCode:u,isCanceled:m})}: ${f}`,P=Object.prototype.toString.call(i)==="[object Error]",v=P?`${C}
${i.message}`:C,D=[v,r,n].filter(Boolean).join(`
`);return P?(i.originalMessage=i.message,i.message=D):i=new Error(D),i.shortMessage=v,i.command=f,i.escapedCommand=p,i.exitCode=u,i.signal=s,i.signalDescription=S,i.stdout=n,i.stderr=r,o!==void 0&&(i.all=o),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=!!b,i.isCanceled=m,i.killed=R&&!b,i};ls.exports=$c});var fs=A((Ah,Xn)=>{"use strict";var zr=["stdin","stdout","stderr"],Mc=n=>zr.some(r=>n[r]!==void 0),cs=n=>{if(!n)return;let{stdio:r}=n;if(r===void 0)return zr.map(i=>n[i]);if(Mc(n))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${zr.map(i=>`\`${i}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,zr.length);return Array.from({length:o},(i,s)=>r[s])};Xn.exports=cs;Xn.exports.node=n=>{let r=cs(n);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var ds=A((vh,$r)=>{$r.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&$r.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&$r.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var ys=A((xh,pt)=>{var $=global.process,Ne=function(n){return n&&typeof n=="object"&&typeof n.removeListener=="function"&&typeof n.emit=="function"&&typeof n.reallyExit=="function"&&typeof n.listeners=="function"&&typeof n.kill=="function"&&typeof n.pid=="number"&&typeof n.on=="function"};Ne($)?(hs=require("assert"),ht=ds(),ms=/^win/i.test($.platform),Nt=require("events"),typeof Nt!="function"&&(Nt=Nt.EventEmitter),$.__signal_exit_emitter__?N=$.__signal_exit_emitter__:(N=$.__signal_exit_emitter__=new Nt,N.count=0,N.emitted={}),N.infinite||(N.setMaxListeners(1/0),N.infinite=!0),pt.exports=function(n,r){if(!Ne(global.process))return function(){};hs.equal(typeof n,"function","a callback must be provided for exit handler"),mt===!1&&Kn();var o="exit";r&&r.alwaysLast&&(o="afterexit");var i=function(){N.removeListener(o,n),N.listeners("exit").length===0&&N.listeners("afterexit").length===0&&Mr()};return N.on(o,n),i},Mr=function(){!mt||!Ne(global.process)||(mt=!1,ht.forEach(function(r){try{$.removeListener(r,jr[r])}catch{}}),$.emit=Nr,$.reallyExit=Zn,N.count-=1)},pt.exports.unload=Mr,Ue=function(r,o,i){N.emitted[r]||(N.emitted[r]=!0,N.emit(r,o,i))},jr={},ht.forEach(function(n){jr[n]=function(){if(Ne(global.process)){var o=$.listeners(n);o.length===N.count&&(Mr(),Ue("exit",null,n),Ue("afterexit",null,n),ms&&n==="SIGHUP"&&(n="SIGINT"),$.kill($.pid,n))}}}),pt.exports.signals=function(){return ht},mt=!1,Kn=function(){mt||!Ne(global.process)||(mt=!0,N.count+=1,ht=ht.filter(function(r){try{return $.on(r,jr[r]),!0}catch{return!1}}),$.emit=bs,$.reallyExit=ps)},pt.exports.load=Kn,Zn=$.reallyExit,ps=function(r){Ne(global.process)&&($.exitCode=r||0,Ue("exit",$.exitCode,null),Ue("afterexit",$.exitCode,null),Zn.call($,$.exitCode))},Nr=$.emit,bs=function(r,o){if(r==="exit"&&Ne(global.process)){o!==void 0&&($.exitCode=o);var i=Nr.apply(this,arguments);return Ue("exit",$.exitCode,null),Ue("afterexit",$.exitCode,null),i}else return Nr.apply(this,arguments)}):pt.exports=function(){return function(){}};var hs,ht,ms,Nt,N,Mr,Ue,jr,mt,Kn,Zn,ps,Nr,bs});var Ss=A((Bh,gs)=>{"use strict";var jc=require("os"),Nc=ys(),Uc=1e3*5,Hc=(n,r="SIGTERM",o={})=>{let i=n(r);return Gc(n,r,o,i),i},Gc=(n,r,o,i)=>{if(!Vc(r,o,i))return;let s=Qc(o),u=setTimeout(()=>{n("SIGKILL")},s);u.unref&&u.unref()},Vc=(n,{forceKillAfterTimeout:r},o)=>Yc(n)&&r!==!1&&o,Yc=n=>n===jc.constants.signals.SIGTERM||typeof n=="string"&&n.toUpperCase()==="SIGTERM",Qc=({forceKillAfterTimeout:n=!0})=>{if(n===!0)return Uc;if(!Number.isFinite(n)||n<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`);return n},Xc=(n,r)=>{n.kill()&&(r.isCanceled=!0)},Kc=(n,r,o)=>{n.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},Zc=(n,{timeout:r,killSignal:o="SIGTERM"},i)=>{if(r===0||r===void 0)return i;let s,u=new Promise((p,b)=>{s=setTimeout(()=>{Kc(n,o,b)},r)}),f=i.finally(()=>{clearTimeout(s)});return Promise.race([u,f])},Jc=({timeout:n})=>{if(n!==void 0&&(!Number.isFinite(n)||n<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`)},ef=async(n,{cleanup:r,detached:o},i)=>{if(!r||o)return i;let s=Nc(()=>{n.kill()});return i.finally(()=>{s()})};gs.exports={spawnedKill:Hc,spawnedCancel:Xc,setupTimeout:Zc,validateTimeout:Jc,setExitHandler:ef}});var ws=A((kh,_s)=>{"use strict";var pe=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";pe.writable=n=>pe(n)&&n.writable!==!1&&typeof n._write=="function"&&typeof n._writableState=="object";pe.readable=n=>pe(n)&&n.readable!==!1&&typeof n._read=="function"&&typeof n._readableState=="object";pe.duplex=n=>pe.writable(n)&&pe.readable(n);pe.transform=n=>pe.duplex(n)&&typeof n._transform=="function";_s.exports=pe});var Ts=A((Oh,Rs)=>{"use strict";var{PassThrough:tf}=require("stream");Rs.exports=n=>{n={...n};let{array:r}=n,{encoding:o}=n,i=o==="buffer",s=!1;r?s=!(o||i):o=o||"utf8",i&&(o=null);let u=new tf({objectMode:s});o&&u.setEncoding(o);let f=0,p=[];return u.on("data",b=>{p.push(b),s?f=p.length:f+=b.length}),u.getBufferedValue=()=>r?p:i?Buffer.concat(p,f):p.join(""),u.getBufferedLength=()=>f,u}});var Es=A((Ih,Ut)=>{"use strict";var{constants:rf}=require("buffer"),nf=require("stream"),{promisify:of}=require("util"),af=Ts(),sf=of(nf.pipeline),Ur=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Jn(n,r){if(!n)throw new Error("Expected a stream");r={maxBuffer:1/0,...r};let{maxBuffer:o}=r,i=af(r);return await new Promise((s,u)=>{let f=p=>{p&&i.getBufferedLength()<=rf.MAX_LENGTH&&(p.bufferedData=i.getBufferedValue()),u(p)};(async()=>{try{await sf(n,i),s()}catch(p){f(p)}})(),i.on("data",()=>{i.getBufferedLength()>o&&f(new Ur)})}),i.getBufferedValue()}Ut.exports=Jn;Ut.exports.buffer=(n,r)=>Jn(n,{...r,encoding:"buffer"});Ut.exports.array=(n,r)=>Jn(n,{...r,array:!0});Ut.exports.MaxBufferError=Ur});var Ps=A((qh,Cs)=>{"use strict";var{PassThrough:lf}=require("stream");Cs.exports=function(){var n=[],r=new lf({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=i,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(n.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function i(){return n.length==0}function s(u){n=n.filter(function(f){return f!==u}),!n.length&&r.readable&&r.end()}}});var Bs=A((Wh,xs)=>{"use strict";var vs=ws(),As=Es(),uf=Ps(),cf=(n,r)=>{r===void 0||n.stdin===void 0||(vs(r)?r.pipe(n.stdin):n.stdin.end(r))},ff=(n,{all:r})=>{if(!r||!n.stdout&&!n.stderr)return;let o=uf();return n.stdout&&o.add(n.stdout),n.stderr&&o.add(n.stderr),o},eo=async(n,r)=>{if(n){n.destroy();try{return await r}catch(o){return o.bufferedData}}},to=(n,{encoding:r,buffer:o,maxBuffer:i})=>{if(!(!n||!o))return r?As(n,{encoding:r,maxBuffer:i}):As.buffer(n,{maxBuffer:i})},df=async({stdout:n,stderr:r,all:o},{encoding:i,buffer:s,maxBuffer:u},f)=>{let p=to(n,{encoding:i,buffer:s,maxBuffer:u}),b=to(r,{encoding:i,buffer:s,maxBuffer:u}),m=to(o,{encoding:i,buffer:s,maxBuffer:u*2});try{return await Promise.all([f,p,b,m])}catch(R){return Promise.all([{error:R,signal:R.signal,timedOut:R.timedOut},eo(n,p),eo(r,b),eo(o,m)])}},hf=({input:n})=>{if(vs(n))throw new TypeError("The `input` option cannot be a stream in sync mode")};xs.exports={handleInput:cf,makeAllStream:ff,getSpawnedResult:df,validateInputSync:hf}});var Os=A((Dh,ks)=>{"use strict";var mf=(async()=>{})().constructor.prototype,pf=["then","catch","finally"].map(n=>[n,Reflect.getOwnPropertyDescriptor(mf,n)]),bf=(n,r)=>{for(let[o,i]of pf){let s=typeof r=="function"?(...u)=>Reflect.apply(i.value,r(),u):i.value.bind(r);Reflect.defineProperty(n,o,{...i,value:s})}return n},yf=n=>new Promise((r,o)=>{n.on("exit",(i,s)=>{r({exitCode:i,signal:s})}),n.on("error",i=>{o(i)}),n.stdin&&n.stdin.on("error",i=>{o(i)})});ks.exports={mergePromise:bf,getSpawnedPromise:yf}});var Ws=A((Fh,qs)=>{"use strict";var Is=(n,r=[])=>Array.isArray(r)?[n,...r]:[n],gf=/^[\w.-]+$/,Sf=/"/g,_f=n=>typeof n!="string"||gf.test(n)?n:`"${n.replace(Sf,'\\"')}"`,wf=(n,r)=>Is(n,r).join(" "),Rf=(n,r)=>Is(n,r).map(o=>_f(o)).join(" "),Tf=/ +/g,Ef=n=>{let r=[];for(let o of n.trim().split(Tf)){let i=r[r.length-1];i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${o}`:r.push(o)}return r};qs.exports={joinCommand:wf,getEscapedCommand:Rf,parseCommand:Ef}});var js=A((Lh,bt)=>{"use strict";var Cf=require("path"),ro=require("child_process"),Pf=Ga(),Af=Ya(),vf=Ka(),xf=ts(),Hr=us(),Fs=fs(),{spawnedKill:Bf,spawnedCancel:kf,setupTimeout:Of,validateTimeout:If,setExitHandler:qf}=Ss(),{handleInput:Wf,getSpawnedResult:Df,makeAllStream:Ff,validateInputSync:Lf}=Bs(),{mergePromise:Ds,getSpawnedPromise:zf}=Os(),{joinCommand:Ls,parseCommand:zs,getEscapedCommand:$s}=Ws(),$f=1e3*1e3*100,Mf=({env:n,extendEnv:r,preferLocal:o,localDir:i,execPath:s})=>{let u=r?{...process.env,...n}:n;return o?vf.env({env:u,cwd:i,execPath:s}):u},Ms=(n,r,o={})=>{let i=Pf._parse(n,r,o);return n=i.command,r=i.args,o=i.options,o={maxBuffer:$f,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...o},o.env=Mf(o),o.stdio=Fs(o),process.platform==="win32"&&Cf.basename(n,".exe")==="cmd"&&r.unshift("/q"),{file:n,args:r,options:o,parsed:i}},Ht=(n,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":n.stripFinalNewline?Af(r):r,Gr=(n,r,o)=>{let i=Ms(n,r,o),s=Ls(n,r),u=$s(n,r);If(i.options);let f;try{f=ro.spawn(i.file,i.args,i.options)}catch(g){let y=new ro.ChildProcess,C=Promise.reject(Hr({error:g,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return Ds(y,C)}let p=zf(f),b=Of(f,i.options,p),m=qf(f,i.options,b),R={isCanceled:!1};f.kill=Bf.bind(null,f.kill.bind(f)),f.cancel=kf.bind(null,f,R);let S=xf(async()=>{let[{error:g,exitCode:y,signal:C,timedOut:P},v,D,U]=await Df(f,i.options,m),k=Ht(i.options,v),z=Ht(i.options,D),I=Ht(i.options,U);if(g||y!==0||C!==null){let oe=Hr({error:g,exitCode:y,signal:C,stdout:k,stderr:z,all:I,command:s,escapedCommand:u,parsed:i,timedOut:P,isCanceled:R.isCanceled,killed:f.killed});if(!i.options.reject)return oe;throw oe}return{command:s,escapedCommand:u,exitCode:0,stdout:k,stderr:z,all:I,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Wf(f,i.options.input),f.all=Ff(f,i.options),Ds(f,S)};bt.exports=Gr;bt.exports.sync=(n,r,o)=>{let i=Ms(n,r,o),s=Ls(n,r),u=$s(n,r);Lf(i.options);let f;try{f=ro.spawnSync(i.file,i.args,i.options)}catch(m){throw Hr({error:m,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let p=Ht(i.options,f.stdout,f.error),b=Ht(i.options,f.stderr,f.error);if(f.error||f.status!==0||f.signal!==null){let m=Hr({stdout:p,stderr:b,error:f.error,signal:f.signal,exitCode:f.status,command:s,escapedCommand:u,parsed:i,timedOut:f.error&&f.error.code==="ETIMEDOUT",isCanceled:!1,killed:f.signal!==null});if(!i.options.reject)return m;throw m}return{command:s,escapedCommand:u,exitCode:0,stdout:p,stderr:b,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};bt.exports.command=(n,r)=>{let[o,...i]=zs(n);return Gr(o,i,r)};bt.exports.commandSync=(n,r)=>{let[o,...i]=zs(n);return Gr.sync(o,i,r)};bt.exports.node=(n,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let i=Fs.node(o),s=process.execArgv.filter(p=>!p.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:f=s}=o;return Gr(u,[...f,n,...Array.isArray(r)?r:[]],{...o,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var Gf={};Ei(Gf,{default:()=>Ys});module.exports=Cu(Gf);var B=require("@raycast/api");var Pi="https://static.hellonext.co/wallpapers/wallpapers.json";var Yr=require("react");var oa=K(require("node:http"),1),ia=K(require("node:https"),1),je=K(require("node:zlib"),1),ee=K(require("node:stream"),1),$t=require("node:buffer");function Pu(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),i="",s=!1,u=o[0]||"text/plain",f=u;for(let R=1;R<o.length;R++)o[R]==="base64"?s=!0:(f+=`;${o[R]}`,o[R].indexOf("charset=")===0&&(i=o[R].substring(8)));!o[0]&&!i.length&&(f+=";charset=US-ASCII",i="US-ASCII");let p=s?"base64":"ascii",b=unescape(n.substring(r+1)),m=Buffer.from(b,p);return m.type=u,m.typeFull=f,m.charset=i,m}var Ai=Pu;var re=K(require("node:stream"),1),Te=require("node:util"),Z=require("node:buffer");qt();Pr();var Re=class extends Error{constructor(r,o){super(r),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var V=class extends Re{constructor(r,o,i){super(r,o),i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var Ar=Symbol.toStringTag,On=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[Ar]==="URLSearchParams",Dt=n=>n&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[Ar]),Di=n=>typeof n=="object"&&(n[Ar]==="AbortSignal"||n[Ar]==="EventTarget"),Fi=(n,r)=>{let o=new URL(r).hostname,i=new URL(n).hostname;return o===i||o.endsWith(`.${i}`)},Li=(n,r)=>{let o=new URL(r).protocol,i=new URL(n).protocol;return o===i};var Mu=(0,Te.promisify)(re.default.pipeline),Y=Symbol("Body internals"),me=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:On(r)?r=Z.Buffer.from(r.toString()):Dt(r)||Z.Buffer.isBuffer(r)||(Te.types.isAnyArrayBuffer(r)?r=Z.Buffer.from(r):ArrayBuffer.isView(r)?r=Z.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof re.default||(r instanceof ze?(r=Wi(r),i=r.type.split("=")[1]):r=Z.Buffer.from(String(r))));let s=r;Z.Buffer.isBuffer(r)?s=re.default.Readable.from(r):Dt(r)&&(s=re.default.Readable.from(r.stream())),this[Y]={body:r,stream:s,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof re.default&&r.on("error",u=>{let f=u instanceof Re?u:new V(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[Y].error=f})}get body(){return this[Y].stream}get bodyUsed(){return this[Y].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await Wn(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new ze,s=new URLSearchParams(await this.text());for(let[u,f]of s)i.append(u,f);return i}let{toFormData:o}=await Promise.resolve().then(()=>(Ni(),ji));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[Y].body&&this[Y].body.type||"",o=await this.arrayBuffer();return new we([o],{type:r})}async json(){let r=await this.text();return JSON.parse(r)}async text(){let r=await Wn(this);return new TextDecoder().decode(r)}buffer(){return Wn(this)}};me.prototype.buffer=(0,Te.deprecate)(me.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(me.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Te.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Wn(n){if(n[Y].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[Y].disturbed=!0,n[Y].error)throw n[Y].error;let{body:r}=n;if(r===null)return Z.Buffer.alloc(0);if(!(r instanceof re.default))return Z.Buffer.alloc(0);let o=[],i=0;try{for await(let s of r){if(n.size>0&&i+s.length>n.size){let u=new V(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(u),u}i+=s.length,o.push(s)}}catch(s){throw s instanceof Re?s:new V(`Invalid response body while trying to fetch ${n.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?Z.Buffer.from(o.join("")):Z.Buffer.concat(o,i)}catch(s){throw new V(`Could not create Buffer from response body for ${n.url}: ${s.message}`,"system",s)}else throw new V(`Premature close of server response while trying to fetch ${n.url}`)}var it=(n,r)=>{let o,i,{body:s}=n[Y];if(n.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof re.default&&typeof s.getBoundary!="function"&&(o=new re.PassThrough({highWaterMark:r}),i=new re.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(i),n[Y].stream=o,s=i),s},ju=(0,Te.deprecate)(n=>n.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),kr=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":On(n)?"application/x-www-form-urlencoded;charset=UTF-8":Dt(n)?n.type||null:Z.Buffer.isBuffer(n)||Te.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n instanceof ze?`multipart/form-data; boundary=${r[Y].boundary}`:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${ju(n)}`:n instanceof re.default?null:"text/plain;charset=UTF-8",Ui=n=>{let{body:r}=n[Y];return r===null?0:Dt(r)?r.size:Z.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Hi=async(n,{body:r})=>{r===null?n.end():await Mu(r,n)};var Dn=require("node:util"),Lt=K(require("node:http"),1),Or=typeof Lt.default.validateHeaderName=="function"?Lt.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Fn=typeof Lt.default.validateHeaderValue=="function"?Lt.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},J=class n extends URLSearchParams{constructor(r){let o=[];if(r instanceof n){let i=r.raw();for(let[s,u]of Object.entries(i))o.push(...u.map(f=>[s,f]))}else if(r!=null)if(typeof r=="object"&&!Dn.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||Dn.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([i,s])=>(Or(i),Fn(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0,super(o),new Proxy(this,{get(i,s,u){switch(s){case"append":case"set":return(f,p)=>(Or(f),Fn(f,String(p)),URLSearchParams.prototype[s].call(i,String(f).toLowerCase(),String(p)));case"delete":case"has":case"getAll":return f=>(Or(f),URLSearchParams.prototype[s].call(i,String(f).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(J.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function Gi(n=[]){return new J(n.reduce((r,o,i,s)=>(i%2===0&&r.push(s.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return Or(r),Fn(r,String(o)),!0}catch{return!1}}))}var Nu=new Set([301,302,303,307,308]),Ir=n=>Nu.has(n);var ue=Symbol("Response internals"),ne=class n extends me{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,s=new J(o.headers);if(r!==null&&!s.has("Content-Type")){let u=kr(r,this);u&&s.append("Content-Type",u)}this[ue]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[ue].type}get url(){return this[ue].url||""}get status(){return this[ue].status}get ok(){return this[ue].status>=200&&this[ue].status<300}get redirected(){return this[ue].counter>0}get statusText(){return this[ue].statusText}get headers(){return this[ue].headers}get highWaterMark(){return this[ue].highWaterMark}clone(){return new n(it(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!Ir(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new n(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new n(null,{status:0,statusText:""});return r[ue].type="error",r}static json(r=void 0,o={}){let i=JSON.stringify(r);if(i===void 0)throw new TypeError("data is not JSON serializable");let s=new J(o&&o.headers);return s.has("content-type")||s.set("content-type","application/json"),new n(i,{...o,headers:s})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ne.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var ta=require("node:url"),ra=require("node:util");var Vi=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var Qi=require("node:net");function Yi(n,r=!1){return n==null||(n=new URL(n),/^(about|blob|data):$/.test(n.protocol))?"no-referrer":(n.username="",n.password="",n.hash="",r&&(n.pathname="",n.search=""),n)}var Xi=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Ki="strict-origin-when-cross-origin";function Zi(n){if(!Xi.has(n))throw new TypeError(`Invalid referrerPolicy: ${n}`);return n}function Uu(n){if(/^(http|ws)s:$/.test(n.protocol))return!0;let r=n.host.replace(/(^\[)|(]$)/g,""),o=(0,Qi.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:n.host==="localhost"||n.host.endsWith(".localhost")?!1:n.protocol==="file:"}function at(n){return/^about:(blank|srcdoc)$/.test(n)||n.protocol==="data:"||/^(blob|filesystem):$/.test(n.protocol)?!0:Uu(n)}function Ji(n,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(n.referrer==="no-referrer"||n.referrerPolicy==="")return null;let i=n.referrerPolicy;if(n.referrer==="about:client")return"no-referrer";let s=n.referrer,u=Yi(s),f=Yi(s,!0);u.toString().length>4096&&(u=f),r&&(u=r(u)),o&&(f=o(f));let p=new URL(n.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return u;case"strict-origin":return at(u)&&!at(p)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return u.origin===p.origin?u:at(u)&&!at(p)?"no-referrer":f;case"same-origin":return u.origin===p.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===p.origin?u:f;case"no-referrer-when-downgrade":return at(u)&&!at(p)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function ea(n){let r=(n.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&Xi.has(i)&&(o=i);return o}var j=Symbol("Request internals"),zt=n=>typeof n=="object"&&typeof n[j]=="object",Hu=(0,ra.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Me=class n extends me{constructor(r,o={}){let i;if(zt(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentials.`);let s=o.method||r.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(s)&&(s=s.toUpperCase()),!zt(o)&&"data"in o&&Hu(),(o.body!=null||zt(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:zt(r)&&r.body!==null?it(r):null;super(u,{size:o.size||r.size||0});let f=new J(o.headers||r.headers||{});if(u!==null&&!f.has("Content-Type")){let m=kr(u,this);m&&f.set("Content-Type",m)}let p=zt(r)?r.signal:null;if("signal"in o&&(p=o.signal),p!=null&&!Di(p))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let b=o.referrer==null?r.referrer:o.referrer;if(b==="")b="no-referrer";else if(b){let m=new URL(b);b=/^about:(\/\/)?client$/.test(m)?"client":m}else b=void 0;this[j]={method:s,redirect:o.redirect||r.redirect||"follow",headers:f,parsedURL:i,signal:p,referrer:b},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[j].method}get url(){return(0,ta.format)(this[j].parsedURL)}get headers(){return this[j].headers}get redirect(){return this[j].redirect}get signal(){return this[j].signal}get referrer(){if(this[j].referrer==="no-referrer")return"";if(this[j].referrer==="client")return"about:client";if(this[j].referrer)return this[j].referrer.toString()}get referrerPolicy(){return this[j].referrerPolicy}set referrerPolicy(r){this[j].referrerPolicy=Zi(r)}clone(){return new n(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Me.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var na=n=>{let{parsedURL:r}=n[j],o=new J(n[j].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(i="0"),n.body!==null){let p=Ui(n);typeof p=="number"&&!Number.isNaN(p)&&(i=String(p))}i&&o.set("Content-Length",i),n.referrerPolicy===""&&(n.referrerPolicy=Ki),n.referrer&&n.referrer!=="no-referrer"?n[j].referrer=Ji(n):n[j].referrer="no-referrer",n[j].referrer instanceof URL&&o.set("Referer",n.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip, deflate, br");let{agent:s}=n;typeof s=="function"&&(s=s(r));let u=Vi(r),f={path:r.pathname+u,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:s};return{parsedURL:r,options:f}};var st=class extends Re{constructor(r,o="aborted"){super(r,o)}};Pr();In();var Gu=new Set(["data:","http:","https:"]);async function lt(n,r){return new Promise((o,i)=>{let s=new Me(n,r),{parsedURL:u,options:f}=na(s);if(!Gu.has(u.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let y=Ai(s.url),C=new ne(y,{headers:{"Content-Type":y.typeFull}});o(C);return}let p=(u.protocol==="https:"?ia.default:oa.default).request,{signal:b}=s,m=null,R=()=>{let y=new st("The operation was aborted.");i(y),s.body&&s.body instanceof ee.default.Readable&&s.body.destroy(y),!(!m||!m.body)&&m.body.emit("error",y)};if(b&&b.aborted){R();return}let T=()=>{R(),g()},S=p(u.toString(),f);b&&b.addEventListener("abort",T);let g=()=>{S.abort(),b&&b.removeEventListener("abort",T)};S.on("error",y=>{i(new V(`request to ${s.url} failed, reason: ${y.message}`,"system",y)),g()}),Vu(S,y=>{m&&m.body&&m.body.destroy(y)}),process.version<"v14"&&S.on("socket",y=>{let C;y.prependListener("end",()=>{C=y._eventsCount}),y.prependListener("close",P=>{if(m&&C<y._eventsCount&&!P){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",v)}})}),S.on("response",y=>{S.setTimeout(0);let C=Gi(y.rawHeaders);if(Ir(y.statusCode)){let k=C.get("Location"),z=null;try{z=k===null?null:new URL(k,s.url)}catch{if(s.redirect!=="manual"){i(new V(`uri requested responds with an invalid redirect URL: ${k}`,"invalid-redirect")),g();return}}switch(s.redirect){case"error":i(new V(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(z===null)break;if(s.counter>=s.follow){i(new V(`maximum redirect reached at: ${s.url}`,"max-redirect")),g();return}let I={headers:new J(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:it(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!Fi(s.url,z)||!Li(s.url,z))for(let Q of["authorization","www-authenticate","cookie","cookie2"])I.headers.delete(Q);if(y.statusCode!==303&&s.body&&r.body instanceof ee.default.Readable){i(new V("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&s.method==="POST")&&(I.method="GET",I.body=void 0,I.headers.delete("content-length"));let oe=ea(C);oe&&(I.referrerPolicy=oe),o(lt(new Me(z,I))),g();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}b&&y.once("end",()=>{b.removeEventListener("abort",T)});let P=(0,ee.pipeline)(y,new ee.PassThrough,k=>{k&&i(k)});process.version<"v12.10"&&y.on("aborted",T);let v={url:s.url,status:y.statusCode,statusText:y.statusMessage,headers:C,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},D=C.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||D===null||y.statusCode===204||y.statusCode===304){m=new ne(P,v),o(m);return}let U={flush:je.default.Z_SYNC_FLUSH,finishFlush:je.default.Z_SYNC_FLUSH};if(D==="gzip"||D==="x-gzip"){P=(0,ee.pipeline)(P,je.default.createGunzip(U),k=>{k&&i(k)}),m=new ne(P,v),o(m);return}if(D==="deflate"||D==="x-deflate"){let k=(0,ee.pipeline)(y,new ee.PassThrough,z=>{z&&i(z)});k.once("data",z=>{(z[0]&15)===8?P=(0,ee.pipeline)(P,je.default.createInflate(),I=>{I&&i(I)}):P=(0,ee.pipeline)(P,je.default.createInflateRaw(),I=>{I&&i(I)}),m=new ne(P,v),o(m)}),k.once("end",()=>{m||(m=new ne(P,v),o(m))});return}if(D==="br"){P=(0,ee.pipeline)(P,je.default.createBrotliDecompress(),k=>{k&&i(k)}),m=new ne(P,v),o(m);return}m=new ne(P,v),o(m)}),Hi(S,s).catch(i)})}function Vu(n,r){let o=$t.Buffer.from(`0\r
\r
`),i=!1,s=!1,u;n.on("response",f=>{let{headers:p}=f;i=p["transfer-encoding"]==="chunked"&&!p["content-length"]}),n.on("socket",f=>{let p=()=>{if(i&&!s){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}},b=m=>{s=$t.Buffer.compare(m.slice(-5),o)===0,!s&&u&&(s=$t.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&$t.Buffer.compare(m.slice(-2),o.slice(3))===0),u=m};f.prependListener("close",p),f.on("data",b),n.on("close",()=>{f.removeListener("close",p),f.removeListener("data",b)})})}var so=K(require("fs")),ao=require("os");var ce=require("@raycast/api"),He=K(require("fs"));var Ns=K(require("node:process"),1),Us=K(js(),1);async function Hs(n){if(Ns.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,Us.default)("osascript",["-e",n]);return r}var jf=()=>{let n=new Map(Object.entries((0,ce.getPreferenceValues)()));return{applyTo:n.get("applyTo"),screenshotName:n.get("screenshotName"),screenshotFormat:n.get("screenshotFormat")}},no=ce.environment.supportPath,Nf=n=>{try{return He.default.accessSync(n),!0}catch{return!1}},oo=async n=>{let r=await(0,ce.showToast)(ce.Toast.Style.Animated,"Downloading and setting wallpaper..."),{applyTo:o}=jf(),i=yt(n);try{let s=i,u=(0,He.existsSync)(s)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${n.url}"
				do shell script cmd`;if(await Hs(`
			set temp_folder to (POSIX path of "${s}")
			set q_temp_folder to quoted form of temp_folder

			${u}

			set x to alias (POSIX file temp_folder)

			try
				tell application "System Events"
					tell ${o} desktop
						set picture to (x as text)
						return "ok"
					end tell
				end tell
			on error
				set dialogTitle to "Error Setting Wallpaper"
				set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

				display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
					if button returned of result is "Open Preferences" then
						do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
					end if

				return "error"
			end try
		`)!=="ok")throw new Error("Error setting wallpaper.");r&&(r.style=ce.Toast.Style.Success,r.title="Set wallpaper success!")}catch(s){console.error(s),r&&(r.style=ce.Toast.Style.Failure,r.title="Something went wrong.",r.message="Try with another image or check your internet connection.")}},yt=n=>no.endsWith("/")?`${no}${n.title}.png`:`${no}/${n.title}.png`,Vr=n=>{let r=yt(n);return Nf(r)};function Gs(){let n=ce.environment.supportPath;He.default.existsSync(n)&&He.default.readdirSync(n).forEach(function(o){let i=n+"/"+o;He.default.unlinkSync(i)})}var Vs=K(require("path"),1);function io(n,r={}){if(typeof n!="string")throw new TypeError(`Expected a string, got ${typeof n}`);let{resolve:o=!0}=r,i=n;return o&&(i=Vs.default.resolve(n)),i=i.replace(/\\/g,"/"),i[0]!=="/"&&(i=`/${i}`),encodeURI(`file://${i}`).replace(/[?#]/g,encodeURIComponent)}var fe=require("react/jsx-runtime");function Ys(){let[n,r]=(0,Yr.useState)([]);return(0,Yr.useEffect)(()=>{async function o(){try{lt(Pi).then(i=>i.json()).then(i=>{let s=i;r(s),s.forEach(u=>{Vr(u)||Hf(u)})})}catch(i){i instanceof st?console.log("Abort"):console.log(i);return}}o().then()},[]),(0,fe.jsx)(B.List,{isShowingDetail:!0,isLoading:n.length===0,searchBarPlaceholder:"Search wallpapers",children:n.map((o,i)=>(0,fe.jsx)(B.List.Item,{id:i+"",icon:{source:Vr(o)?yt(o):o.url},title:o.title,detail:(0,fe.jsx)(B.List.Item.Detail,{isLoading:!1,markdown:`![](${Vr(o)?io(yt(o)):o.url})`}),actions:(0,fe.jsxs)(B.ActionPanel,{children:[(0,fe.jsx)(B.Action,{icon:B.Icon.Desktop,title:"Set Desktop Wallpaper",onAction:()=>{oo(o).then(()=>"")}}),(0,fe.jsx)(B.Action,{icon:B.Icon.Download,title:"Download Picture",onAction:async()=>{await Uf(o)}}),(0,fe.jsx)(B.Action,{icon:B.Icon.TwoArrowsClockwise,title:"Set Random Wallpaper",shortcut:{modifiers:["cmd"],key:"r"},onAction:()=>{let s=n[Math.floor(Math.random()*n.length)];oo(s).then(()=>"")}}),(0,fe.jsx)(B.Action,{icon:B.Icon.Globe,title:"Go to Hellonext Wallpapers",shortcut:{modifiers:["shift","cmd"],key:"g"},onAction:async()=>{await(0,B.open)("https://hellonext.co/wallpaper"),await(0,B.showHUD)("Go to Hellonext Wallpapers")}}),(0,fe.jsx)(B.Action,{icon:B.Icon.Trash,title:"Clear Wallpaper Cache",shortcut:{modifiers:["shift","cmd"],key:"backspace"},onAction:async()=>{await(0,B.confirmAlert)({title:"Are you sure?",message:"The next time the command is used, the images will be re-cached.",primaryAction:{title:"Confirm",onAction:()=>{Gs(),(0,B.showToast)(B.Toast.Style.Success,"Clear cache success!")}}})}})]})},i+o.title))})}async function Uf(n){await(0,B.showToast)(B.Toast.Style.Animated,"Downloading..."),lt(n.url).then(function(r){return r.arrayBuffer()}).then(function(r){let o=`${(0,ao.homedir)()}/Pictures/${n.title}.png`;so.writeFile(o,Buffer.from(r),async i=>{if(i!=null)await(0,B.showToast)(B.Toast.Style.Failure,String(i));else{let s={style:B.Toast.Style.Success,title:"Download picture success!",message:"Click to open picture",primaryAction:{title:"Open picture",onAction:u=>{(0,B.open)(o),u.hide()}},secondaryAction:{title:"Reveal in finder",onAction:u=>{(0,B.open)(`${(0,ao.homedir)()}/Pictures`),u.hide()}}};await(0,B.showToast)(s)}})})}function Hf(n){lt(n.url).then(function(r){return r.arrayBuffer()}).then(function(r){let o=yt(n);so.writeFile(o,Buffer.from(r),async i=>{i!=null&&console.error("error "+i)})})}
/*! Bundled license information:

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
*/
