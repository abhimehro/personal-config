"use strict";var $n=Object.create;var B=Object.defineProperty;var bn=Object.getOwnPropertyDescriptor;var xn=Object.getOwnPropertyNames;var yn=Object.getPrototypeOf,Rn=Object.prototype.hasOwnProperty;var _n=(f,p)=>()=>(p||f((p={exports:{}}).exports,p),p.exports),En=(f,p)=>{for(var m in p)B(f,m,{get:p[m],enumerable:!0})},oe=(f,p,m,b)=>{if(p&&typeof p=="object"||typeof p=="function")for(let $ of xn(p))!Rn.call(f,$)&&$!==m&&B(f,$,{get:()=>p[$],enumerable:!(b=bn(p,$))||b.enumerable});return f};var An=(f,p,m)=>(m=f!=null?$n(yn(f)):{},oe(p||!f||!f.__esModule?B(m,"default",{value:f,enumerable:!0}):m,f)),wn=f=>oe(B({},"__esModule",{value:!0}),f);var ce=_n((O,j)=>{(function(f,p){typeof O=="object"&&typeof j<"u"?j.exports=p():typeof define=="function"&&define.amd?define(p):(f=f||self,f.Typograf=p())})(O,function(){"use strict";function f(n){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f(n)}function p(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function m(n,r){for(var e=0;e<r.length;e++){var a=r[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function b(n,r,e){return r&&m(n.prototype,r),e&&m(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function $(n,r){return de(n)||pe(n,r)||ge(n,r)||ve()}function de(n){if(Array.isArray(n))return n}function pe(n,r){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var a=[],t=!0,u=!1,i,s;try{for(e=e.call(n);!(t=(i=e.next()).done)&&(a.push(i.value),!(r&&a.length===r));t=!0);}catch(l){u=!0,s=l}finally{try{!t&&e.return!=null&&e.return()}finally{if(u)throw s}}return a}}function ge(n,r){if(n){if(typeof n=="string")return U(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return U(n,r)}}function U(n,r){(r==null||r>n.length)&&(r=n.length);for(var e=0,a=new Array(r);e<r;e++)a[e]=n[e];return a}function ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var me={symbols:110,space:210,dash:310,punctuation:410,nbsp:510,number:610,money:710,date:810,other:910,optalign:1010,typo:1110,html:1210},$e=[["iexcl",161],["cent",162],["pound",163],["curren",164],["yen",165],["brvbar",166],["sect",167],["uml",168],["copy",169],["ordf",170],["laquo",171],["not",172],["reg",174],["macr",175],["deg",176],["plusmn",177],["sup2",178],["sup3",179],["acute",180],["micro",181],["para",182],["middot",183],["cedil",184],["sup1",185],["ordm",186],["raquo",187],["frac14",188],["frac12",189],["frac34",190],["iquest",191],["Agrave",192],["Aacute",193],["Acirc",194],["Atilde",195],["Auml",196],["Aring",197],["AElig",198],["Ccedil",199],["Egrave",200],["Eacute",201],["Ecirc",202],["Euml",203],["Igrave",204],["Iacute",205],["Icirc",206],["Iuml",207],["ETH",208],["Ntilde",209],["Ograve",210],["Oacute",211],["Ocirc",212],["Otilde",213],["Ouml",214],["times",215],["Oslash",216],["Ugrave",217],["Uacute",218],["Ucirc",219],["Uuml",220],["Yacute",221],["THORN",222],["szlig",223],["agrave",224],["aacute",225],["acirc",226],["atilde",227],["auml",228],["aring",229],["aelig",230],["ccedil",231],["egrave",232],["eacute",233],["ecirc",234],["euml",235],["igrave",236],["iacute",237],["icirc",238],["iuml",239],["eth",240],["ntilde",241],["ograve",242],["oacute",243],["ocirc",244],["otilde",245],["ouml",246],["divide",247],["oslash",248],["ugrave",249],["uacute",250],["ucirc",251],["uuml",252],["yacute",253],["thorn",254],["yuml",255],["fnof",402],["Alpha",913],["Beta",914],["Gamma",915],["Delta",916],["Epsilon",917],["Zeta",918],["Eta",919],["Theta",920],["Iota",921],["Kappa",922],["Lambda",923],["Mu",924],["Nu",925],["Xi",926],["Omicron",927],["Pi",928],["Rho",929],["Sigma",931],["Tau",932],["Upsilon",933],["Phi",934],["Chi",935],["Psi",936],["Omega",937],["alpha",945],["beta",946],["gamma",947],["delta",948],["epsilon",949],["zeta",950],["eta",951],["theta",952],["iota",953],["kappa",954],["lambda",955],["mu",956],["nu",957],["xi",958],["omicron",959],["pi",960],["rho",961],["sigmaf",962],["sigma",963],["tau",964],["upsilon",965],["phi",966],["chi",967],["psi",968],["omega",969],["thetasym",977],["upsih",978],["piv",982],["bull",8226],["hellip",8230],["prime",8242],["Prime",8243],["oline",8254],["frasl",8260],["weierp",8472],["image",8465],["real",8476],["trade",8482],["alefsym",8501],["larr",8592],["uarr",8593],["rarr",8594],["darr",8595],["harr",8596],["crarr",8629],["lArr",8656],["uArr",8657],["rArr",8658],["dArr",8659],["hArr",8660],["forall",8704],["part",8706],["exist",8707],["empty",8709],["nabla",8711],["isin",8712],["notin",8713],["ni",8715],["prod",8719],["sum",8721],["minus",8722],["lowast",8727],["radic",8730],["prop",8733],["infin",8734],["ang",8736],["and",8743],["or",8744],["cap",8745],["cup",8746],["int",8747],["there4",8756],["sim",8764],["cong",8773],["asymp",8776],["ne",8800],["equiv",8801],["le",8804],["ge",8805],["sub",8834],["sup",8835],["nsub",8836],["sube",8838],["supe",8839],["oplus",8853],["otimes",8855],["perp",8869],["sdot",8901],["lceil",8968],["rceil",8969],["lfloor",8970],["rfloor",8971],["lang",9001],["rang",9002],["spades",9824],["clubs",9827],["hearts",9829],["diams",9830],["loz",9674],["OElig",338],["oelig",339],["Scaron",352],["scaron",353],["Yuml",376],["circ",710],["tilde",732],["ndash",8211],["mdash",8212],["lsquo",8216],["rsquo",8217],["sbquo",8218],["ldquo",8220],["rdquo",8221],["bdquo",8222],["dagger",8224],["Dagger",8225],["permil",8240],["lsaquo",8249],["rsaquo",8250],["euro",8364],["NestedGreaterGreater",8811],["NestedLessLess",8810]],H=[["nbsp",160],["thinsp",8201],["ensp",8194],["emsp",8195],["shy",173],["zwnj",8204],["zwj",8205],["lrm",8206],["rlm",8207]],be=(function(){function n(){p(this,n),this._entities=this._prepareEntities([].concat($e,H)),this._entitiesByName={},this._entitiesByNameEntity={},this._entitiesByDigitEntity={},this._entitiesByUtf={},this._entities.forEach(function(r){this._entitiesByName[r.name]=r,this._entitiesByNameEntity[r.nameEntity]=r,this._entitiesByDigitEntity[r.digitEntity]=r,this._entitiesByUtf[r.utf]=r},this),this._invisibleEntities=this._prepareEntities(H)}return b(n,[{key:"toUtf",value:function(e){var a=this;e.text.search(/&#/)!==-1&&(e.text=this.decHexToUtf(e.text)),e.text.search(/&[a-z]/i)!==-1&&(e.text=e.text.replace(/&[a-z\d]{2,31};/gi,function(t){var u=a._entitiesByNameEntity[t];return u?u.utf:t}))}},{key:"decHexToUtf",value:function(e){return e.replace(/&#(\d{1,6});/gi,function(a,t){return String.fromCharCode(parseInt(t,10))}).replace(/&#x([\da-f]{1,6});/gi,function(a,t){return String.fromCharCode(parseInt(t,16))})}},{key:"restore",value:function(e){var a=e.prefs.htmlEntity,t=a.type,u=this._entities;(t==="name"||t==="digit")&&((a.onlyInvisible||a.list)&&(u=[],a.onlyInvisible&&(u=u.concat(this._invisibleEntities)),a.list&&(u=u.concat(this._prepareListParam(a.list)))),e.text=this._restoreEntitiesByIndex(e.text,t+"Entity",u))}},{key:"getByUtf",value:function(e,a){var t="";switch(a){case"digit":t=this._entitiesByDigitEntity[e];break;case"name":t=this._entitiesByNameEntity[e];break;default:t=e;break}return t}},{key:"_prepareEntities",value:function(e){var a=[];return e.forEach(function(t){var u=$(t,2),i=u[0],s=u[1],l=String.fromCharCode(s);a.push({name:i,nameEntity:"&"+i+";",digitEntity:"&#"+s+";",utf:l,reName:new RegExp("&"+i+";","g"),reUtf:new RegExp(l,"g")})},this),a}},{key:"_prepareListParam",value:function(e){var a=[];return e.forEach(function(t){var u=this._entitiesByName[t];u&&a.push(u)},this),a}},{key:"_restoreEntitiesByIndex",value:function(e,a,t){return t.forEach(function(u){e=e.replace(u.reUtf,u[a])}),e}}]),n})(),_=new be,k=[];function L(n){var r=(n||"").split("/")[0];r&&r!=="common"&&!S(r)&&(k.push(r),k.sort())}function Q(){return k}function S(n){return n==="common"||k.indexOf(n)!==-1}function W(n,r){var e=n||r,a=e;return Array.isArray(e)||(a=[e]),a}var C={};function o(n){return C[n]}function G(n,r){typeof n=="string"?(L(n),C[n]=r):f(n)==="object"&&Object.keys(n).forEach(function(e){L(e),C[e]=n[e]})}var xe=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"],X=new RegExp("(https?|file|ftp)://([a-zA-Z0-9/+-=%&:_.~?]+[a-zA-Z0-9#+]*)","g"),K="\\d+([.,]\\d+)?",ye=/\d/;function V(n){return n.search(ye)>-1}var c="\uF000",q="\uF001",Re=(function(){function n(){p(this,n);var r=[["<!--","-->"],["<!ENTITY",">"],["<!DOCTYPE",">"],["<\\?xml","\\?>"],["<!\\[CDATA\\[","\\]\\]>"]];["code","kbd","object","pre","samp","script","style","var"].forEach(function(e){r.push(["<"+e+"(\\s[^>]*?)?>","</"+e+">"])},this),this._tags={own:[],html:r.map(this._prepareRegExp),url:[X]},this._groups=["own","html","url"]}return b(n,[{key:"add",value:function(e){this._tags.own.push(this._prepareRegExp(e))}},{key:"show",value:function(e,a){for(var t=new RegExp(c+"tf\\d+"+c,"g"),u=new RegExp(c+"tf\\d"),i=function(g){return e.safeTags.hidden[a][g]||g},s=0,l=this._tags[a].length;s<l&&(e.text=e.text.replace(t,i),e.text.search(u)!==-1);s++);}},{key:"hide",value:function(e,a){e.safeTags=e.safeTags||{hidden:{},i:0},e.safeTags.hidden[a]={};var t=this._pasteLabel.bind(this,e,a);this._tags[a].forEach(function(u){e.text=e.text.replace(this._prepareRegExp(u),t)},this)}},{key:"hideHTMLTags",value:function(e){if(e.isHTML){var a=this._pasteLabel.bind(this,e,"html");e.text=e.text.replace(/<\/?[a-z][^]*?>/gi,a).replace(/&lt;\/?[a-z][^]*?&gt;/gi,a).replace(/&[gl]t;/gi,a)}}},{key:"getPrevLabel",value:function(e,a){for(var t=a-1;t>=0;t--)if(e[t]===c)return e.slice(t,a+1);return!1}},{key:"getNextLabel",value:function(e,a){for(var t=a+1;t<e.length;t++)if(e[t]===c)return e.slice(a,t+1);return!1}},{key:"getTagByLabel",value:function(e,a){var t=!1;return this._groups.some(function(u){var i=e.safeTags.hidden[u][a];return typeof i<"u"&&(t={group:u,value:i}),t}),t}},{key:"getTagInfo",value:function(e){if(e){var a={group:e.group};switch(e.group){case"html":a.name=e.value.split(/[<\s>]/)[1],a.isInline=xe.indexOf(a.name)>-1,a.isClosing=e.value.search(/^<\//)>-1;break;case"url":a.isInline=!0;break;case"own":a.isInline=!1;break}return a}}},{key:"_pasteLabel",value:function(e,a,t){var u=e.safeTags,i=c+"tf"+u.i+c;return u.hidden[a][i]=t,u.i++,i}},{key:"_prepareRegExp",value:function(e){var a;if(e instanceof RegExp)a=e;else{var t=$(e,3),u=t[0],i=t[1],s=t[2];typeof s>"u"&&(s="[^]*?"),a=new RegExp(u+s+i,"gi")}return a}}]),n})();function I(n,r){for(var e="";(r&1)===1&&(e+=n),r>>>=1,r!==0;)n+=n;return e}function Y(n){return n.replace(/\u00A0/g," ")}function D(n,r){for(var e=0;e<r.length;e++)n=n.replace(r[e][0],r[e][1]);return n}function Z(n){return n.search(/(<\/?[a-z]|<!|&[lg]t;)/i)!==-1}function _e(n){return n.replace(/\r\n?/g,`
`)}function Ee(n,r){return r==="CRLF"?n.replace(/\n/g,`\r
`):r==="CR"?n.replace(/\n/g,"\r"):n}function E(n){return f(n)==="object"?JSON.parse(JSON.stringify(n)):n}var d=(function(){function n(r){p(this,n),this._prefs=f(r)==="object"?r:{},this._prefs.locale=W(this._prefs.locale),this._prefs.live=this._prefs.live||!1,this._safeTags=new Re,this._settings={},this._enabledRules={},this._innerRulesByQueues={},this._innerRules=[].concat(this._innerRules),this._innerRules.forEach(function(e){var a=e.queue||"default";this._innerRulesByQueues[a]=this._innerRulesByQueues[a]||[],this._innerRulesByQueues[a].push(e)},this),this._rulesByQueues={},this._rules=[].concat(this._rules),this._rules.forEach(function(e){var a=e.queue||"default";this._prepareRule(e),this._rulesByQueues[a]=this._rulesByQueues[a]||[],this._rulesByQueues[a].push(e)},this),this._prefs.disableRule&&this.disableRule(this._prefs.disableRule),this._prefs.enableRule&&this.enableRule(this._prefs.enableRule),this._separatePartsTags=["title","p","h[1-6]","select","legend"]}return b(n,[{key:"execute",value:function(e,a){if(e=""+e,!e)return"";var t=this._prepareContext(e);return this._preparePrefs(t,a),this._process(t)}},{key:"_prepareContext",value:function(e){return{text:e,isHTML:Z(e),prefs:E(this._prefs),getData:function(t){return t==="char"?this.prefs.locale.map(function(u){return o(u+"/"+t)}).join(""):o(this.prefs.locale[0]+"/"+t)}}}},{key:"_preparePrefs",value:function(e,a){a=a||{};for(var t=e.prefs,u=0,i=["htmlEntity","lineEnding","processingSeparateParts","ruleFilter"];u<i.length;u++){var s=i[u];s in a?t[s]=a[s]:s in this._prefs&&(t[s]=this._prefs[s])}t.htmlEntity=t.htmlEntity||{},t.locale=W(a.locale,this._prefs.locale);var l=t.locale,h=l[0];if(!l.length||!h)throw Error('Not defined the property "locale".');if(!S(h))throw Error('"'+h+'" is not supported locale.')}},{key:"_splitBySeparateParts",value:function(e){if(!e.isHTML||e.prefs.processingSeparateParts===!1)return[e.text];var a=[],t=new RegExp("<("+this._separatePartsTags.join("|")+")(\\s[^>]*?)?>[^]*?</\\1>","gi"),u=0;return e.text.replace(t,function(i,s,l,h){return u!==h&&a.push((u?q:"")+e.text.slice(u,h)+q),a.push(i),u=h+i.length,i}),a.push(u?q+e.text.slice(u,e.text.length):e.text),a}},{key:"_process",value:function(e){var a=this;e.text=_e(e.text),this._executeRules(e,"start"),this._safeTags.hide(e,"own"),this._executeRules(e,"hide-safe-tags-own"),this._safeTags.hide(e,"html"),this._executeRules(e,"hide-safe-tags-html");var t=e.isHTML,u=new RegExp(q,"g");return e.text=this._splitBySeparateParts(e).map(function(i){return e.text=i,e.isHTML=Z(i),a._safeTags.hideHTMLTags(e),a._safeTags.hide(e,"url"),a._executeRules(e,"hide-safe-tags-url"),a._executeRules(e,"hide-safe-tags"),_.toUtf(e),a._prefs.live&&(e.text=Y(e.text)),a._executeRules(e,"utf"),a._executeRules(e),_.restore(e),a._executeRules(e,"html-entities"),a._safeTags.show(e,"url"),a._executeRules(e,"show-safe-tags-url"),e.text.replace(u,"")}).join(""),e.isHTML=t,this._safeTags.show(e,"html"),this._executeRules(e,"show-safe-tags-html"),this._safeTags.show(e,"own"),this._executeRules(e,"show-safe-tags-own"),this._executeRules(e,"end"),Ee(e.text,e.prefs.lineEnding)}},{key:"getSetting",value:function(e,a){return this._settings[e]&&this._settings[e][a]}},{key:"setSetting",value:function(e,a,t){return this._settings[e]=this._settings[e]||{},this._settings[e][a]=t,this}},{key:"isEnabledRule",value:function(e){return this._enabledRules[e]}},{key:"isDisabledRule",value:function(e){return!this._enabledRules[e]}},{key:"enableRule",value:function(e){return this._enable(e,!0)}},{key:"disableRule",value:function(e){return this._enable(e,!1)}},{key:"addSafeTag",value:function(e,a,t){var u=e instanceof RegExp?e:[e,a,t];return this._safeTags.add(u),this}},{key:"_executeRules",value:function(e,a){a=a||"default";var t=this._rulesByQueues[a],u=this._innerRulesByQueues[a];u&&u.forEach(function(i){this._ruleIterator(e,i)},this),t&&t.forEach(function(i){this._ruleIterator(e,i)},this)}},{key:"_ruleIterator",value:function(e,a){var t=a._locale,u=this._prefs.live;if(!(u===!0&&a.live===!1||u===!1&&a.live===!0)&&(t==="common"||t===e.prefs.locale[0])&&this.isEnabledRule(a.name)){if(e.prefs.ruleFilter&&!e.prefs.ruleFilter(a))return;this._onBeforeRule&&this._onBeforeRule(a.name,e.text,e),e.text=a.handler.call(this,e.text,this._settings[a.name],e),this._onAfterRule&&this._onAfterRule(a.name,e.text,e)}}},{key:"_prepareRule",value:function(e){var a=e.name,t=f(e.settings),u={};t==="object"?u=E(e.settings):t==="function"&&(u=e.settings(e)),this._settings[a]=u,this._enabledRules[a]=e._enabled}},{key:"_enable",value:function(e,a){return Array.isArray(e)?e.forEach(function(t){this._enableByMask(t,a)},this):this._enableByMask(e,a),this}},{key:"_enableByMask",value:function(e,a){if(e)if(e.search(/\*/)!==-1){var t=new RegExp(e.replace(/\//g,"\\/").replace(/\*/g,".*"));this._rules.forEach(function(u){var i=u.name;t.test(i)&&(this._enabledRules[i]=a)},this)}else this._enabledRules[e]=a}},{key:"_getRule",value:function(e){var a=null;return this._rules.some(function(t){return t.name===e?(a=t,!0):!1}),a}}],[{key:"addRule",value:function(e){var a=e.name.split("/"),t=$(a,3),u=t[0],i=t[1],s=t[2];return e._enabled=e.disabled!==!0,e._locale=u,e._group=i,e._name=s,this.addLocale(e._locale),this._setIndex(e),this.prototype._rules.push(e),this._sortRules(this.prototype._rules),this}},{key:"addRules",value:function(e){var a=this;return e.forEach(function(t){a.addRule(t)}),this}},{key:"addInnerRule",value:function(e){return this.prototype._innerRules.push(e),e._locale=e.name.split("/")[0],this}},{key:"addInnerRules",value:function(e){var a=this;return e.forEach(function(t){a.addInnerRule(t)}),this}},{key:"_setIndex",value:function(e){var a=e.index,t=f(a),u=me[e._group];t==="undefined"?a=u:t==="string"&&(a=(u||0)+parseInt(e.index,10)),e._index=a}},{key:"_sortRules",value:function(e){e.sort(function(a,t){return a._index>t._index?1:-1})}}]),n})();d.version="6.14.1",d.addLocale=L,d.getLocales=Q,d.hasLocale=S,d.setData=G,d.getData=o,d.deepCopy=E,d.prototype._rules=[],d.prototype._innerRules=[];var Ae={"common/char":"a-z","common/dash":"--?|\u2012|\u2013|\u2014","common/quote":'\xAB\u2039\xBB\u203A\u201E\u201C\u201F\u201D"'},we={"be/char":"\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u044B\u044C\u044D\u044E\u044F\u0451\u0456\u045E\u0491","be/quote":{left:"\xAB\u201C",right:"\xBB\u201D"}},ke={"bg/char":"\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044C\u044E\u044F","bg/quote":{left:"\u201E\u2019",right:"\u201C\u2019"}},qe={"ca/char":"abcdefghijlmnopqrstuvxyz\xE0\xE7\xE8\xE9\xED\xEF\xF2\xF3\xFA\xFC","ca/quote":{left:"\xAB\u201C",right:"\xBB\u201D"}},Te={"da/char":"a-z\xE5\xE6\xF8","da/quote":{left:"\xBB\u203A",right:"\xAB\u2039"}},Be={"de/char":"a-z\xDF\xE4\xF6\xFC","de/quote":{left:"\u201E\u201A",right:"\u201C\u2018"}},Le={"el/char":"\u0390\u03AC\u03AD\u03AE\u03AF\u03B0\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9\u03CA\u03CB\u03CC\u03CD\u03CE\u03F2\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D","el/quote":{left:"\xAB\u201C",right:"\xBB\u201D"}},Se={"en-GB/char":"a-z","en-GB/quote":{left:"\u2018\u201C",right:"\u2019\u201D"}},Ce={"en-US/char":"a-z","en-US/quote":{left:"\u201C\u2018",right:"\u201D\u2019"}},Ie={"eo/char":"abcdefghijklmnoprstuvz\u0109\u011D\u0125\u0135\u015D\u016D","eo/quote":{left:"\u201C\u2018",right:"\u201D\u2019"}},De={"es/char":"a-z\xE1\xE9\xED\xF1\xF3\xFA\xFC","es/quote":{left:"\xAB\u201C",right:"\xBB\u201D"}},Me={"et/char":"abdefghijklmnoprstuvz\xE4\xF5\xF6\xFC\u0161\u017E","et/quote":{left:"\u201E\xAB",right:"\u201C\xBB"}},Pe={"fi/char":"abcdefghijklmnopqrstuvy\xF6\xE4\xE5","fi/quote":{left:"\u201D\u2019",right:"\u201D\u2019"}},Ne={"fr/char":"a-z\xE0\xE2\xE7\xE8\xE9\xEA\xEB\xEE\xEF\xF4\xFB\xFC\u0153\xE6","fr/quote":{left:"\xAB\u2039",right:"\xBB\u203A",spacing:!0}},ze={"ga/char":"abcdefghilmnoprstuvwxyz\xE1\xE9\xED\xF3\xFA","ga/quote":{left:"\u201C\u2018",right:"\u201D\u2019"}},Fe={"hu/char":"a-z\xE1\xE4\xE9\xED\xF3\xF6\xFA\xFC\u0151\u0171","hu/quote":{left:"\u201E\xBB",right:"\u201D\xAB"}},Oe={"it/char":"a-z\xE0\xE9\xE8\xEC\xF2\xF9","it/quote":{left:"\xAB\u201C",right:"\xBB\u201D"}},je={"lv/char":"abcdefghijklmnopqrstuvxz\xE6\u0153","lv/quote":{left:"\xAB\u201E",right:"\xBB\u201C"}},Ue={"nl/char":"a-z\xE4\xE7\xE8\xE9\xEA\xEB\xEE\xEF\xF1\xF6\xFB\xFC","nl/quote":{left:"\u2018\u201C",right:"\u2019\u201D"}},He={"no/char":"a-z\xE5\xE6\xE8\xE9\xEA\xF2\xF3\xF4\xF8","no/quote":{left:"\xAB\u2019",right:"\xBB\u2019"}},Qe={"pl/char":"abcdefghijklmnoprstuvwxyz\xF3\u0105\u0107\u0119\u0142\u0144\u015B\u017A\u017C","pl/quote":{left:"\u201E\xAB",right:"\u201D\xBB"}},We={"ro/char":"abcdefghijklmnoprstuvxz\xEE\u0103\u0219\u021B","ro/quote":{left:"\u201E\xAB",right:"\u201D\xBB"}},Ge={"ru/char":"\u0430-\u044F\u0451","ru/dashBefore":"(^| |\\n)","ru/dashAfter":"(?=[\xA0 ,.?:!]|$)","ru/dashAfterDe":"(?=[,.?:!]|[\xA0 ][^\u0410-\u042F\u0401]|$)","ru/l":"\u0430-\u044F\u0451a-z","ru/L":"\u0410-\u042F\u0401A-Z","ru/month":"\u044F\u043D\u0432\u0430\u0440\u044C|\u0444\u0435\u0432\u0440\u0430\u043B\u044C|\u043C\u0430\u0440\u0442|\u0430\u043F\u0440\u0435\u043B\u044C|\u043C\u0430\u0439|\u0438\u044E\u043D\u044C|\u0438\u044E\u043B\u044C|\u0430\u0432\u0433\u0443\u0441\u0442|\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C|\u043E\u043A\u0442\u044F\u0431\u0440\u044C|\u043D\u043E\u044F\u0431\u0440\u044C|\u0434\u0435\u043A\u0430\u0431\u0440\u044C","ru/monthGenCase":"\u044F\u043D\u0432\u0430\u0440\u044F|\u0444\u0435\u0432\u0440\u0430\u043B\u044F|\u043C\u0430\u0440\u0442\u0430|\u0430\u043F\u0440\u0435\u043B\u044F|\u043C\u0430\u044F|\u0438\u044E\u043D\u044F|\u0438\u044E\u043B\u044F|\u0430\u0432\u0433\u0443\u0441\u0442\u0430|\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F|\u043E\u043A\u0442\u044F\u0431\u0440\u044F|\u043D\u043E\u044F\u0431\u0440\u044F|\u0434\u0435\u043A\u0430\u0431\u0440\u044F","ru/monthPreCase":"\u044F\u043D\u0432\u0430\u0440\u0435|\u0444\u0435\u0432\u0440\u0430\u043B\u0435|\u043C\u0430\u0440\u0442\u0435|\u0430\u043F\u0440\u0435\u043B\u0435|\u043C\u0430\u0435|\u0438\u044E\u043D\u0435|\u0438\u044E\u043B\u0435|\u0430\u0432\u0433\u0443\u0441\u0442\u0435|\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435|\u043E\u043A\u0442\u044F\u0431\u0440\u0435|\u043D\u043E\u044F\u0431\u0440\u0435|\u0434\u0435\u043A\u0430\u0431\u0440\u0435","ru/quote":{left:"\xAB\u201E\u201A",right:"\xBB\u201C\u2018",removeDuplicateQuotes:!0},"ru/shortMonth":"\u044F\u043D\u0432|\u0444\u0435\u0432|\u043C\u0430\u0440|\u0430\u043F\u0440|\u043C\u0430[\u0435\u0439\u044F]|\u0438\u044E\u043D|\u0438\u044E\u043B|\u0430\u0432\u0433|\u0441\u0435\u043D|\u043E\u043A\u0442|\u043D\u043E\u044F|\u0434\u0435\u043A","ru/weekday":"\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A|\u0432\u0442\u043E\u0440\u043D\u0438\u043A|\u0441\u0440\u0435\u0434\u0430|\u0447\u0435\u0442\u0432\u0435\u0440\u0433|\u043F\u044F\u0442\u043D\u0438\u0446\u0430|\u0441\u0443\u0431\u0431\u043E\u0442\u0430|\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435"},Xe={"sk/char":"abcdefghijklmnoprstuvwxyz\xE1\xE4\xE9\xED\xF3\xF4\xFA\xFD\u010D\u010F\u013E\u0148\u0155\u0161\u0165\u017E","sk/quote":{left:"\u201E\u201A",right:"\u201C\u2018"}},Ke={"sl/char":"a-z\u010D\u0161\u017E","sl/quote":{left:"\u201E\u201A",right:"\u201C\u2018"}},Ve={"sr/char":"abcdefghijklmnoprstuvz\u0107\u010D\u0111\u0161\u017E","sr/quote":{left:"\u201E\u2019",right:"\u201D\u2019"}},Ye={"sv/char":"a-z\xE4\xE5\xE9\xF6","sv/quote":{left:"\u201D\u2019",right:"\u201D\u2019"}},Ze={"tr/char":"abcdefghijklmnoprstuvyz\xE2\xE7\xEE\xF6\xFB\xFC\u011F\u0131\u015F","tr/quote":{left:"\u201C\u2018",right:"\u201D\u2019"}},Je={"uk/char":"\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044C\u044E\u044F\u0454\u0456\u0457\u0491","uk/quote":{left:"\xAB\u201E",right:"\xBB\u201C"}},er=[Ae,we,ke,qe,Te,Be,Le,Se,Ce,Ie,De,Me,Pe,Ne,ze,Fe,Oe,je,Ue,He,Qe,We,Ge,Xe,Ke,Ve,Ye,Ze,Je];er.forEach(function(n){return G(n)});var rr={name:"common/html/e-mail",queue:"end",handler:function(r,e,a){return a.isHTML?r:r.replace(/(^|[\s;(])([\w\-.]{2,64})@([\w\-.]{2,64})\.([a-z]{2,64})([)\s.,!?]|$)/gi,'$1<a href="mailto:$2@$3.$4">$2@$3.$4</a>$5')},disabled:!0,htmlAttrs:!1},ar={name:"common/html/escape",index:"+100",queue:"end",handler:function(r){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return r.replace(/[&<>"'/]/g,function(a){return e[a]})},disabled:!0},nr={name:"common/html/nbr",index:"+10",queue:"end",handler:function(r){return r.replace(/([^\n>])\n(?=[^\n])/g,`$1<br/>
`)},disabled:!0,htmlAttrs:!1},tr=["address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"],ur={name:"common/html/p",index:"+5",queue:"end",handler:function(r){var e=new RegExp("<("+tr.join("|")+")[>\\s]"),a=`

`,t=r.split(a);return t.forEach(function(u,i,s){u.trim()&&(e.test(u)||(s[i]=u.replace(/^(\s*)/,"$1<p>").replace(/(\s*)$/,"</p>$1")))}),t.join(a)},disabled:!0,htmlAttrs:!1},ir={name:"common/html/processingAttrs",queue:"hide-safe-tags-own",handler:function(r,e,a){var t=this,u=new RegExp("(^|\\s)("+e.attrs.join("|")+`)=("[^"]*?"|'[^']*?')`,"gi"),i=E(a.prefs);return i.ruleFilter=function(s){return s.htmlAttrs!==!1},r.replace(/(<[-\w]+\s)([^>]+?)(?=>)/g,function(s,l,h){var g=h.replace(u,function(v,A,y,R){var w=R[0],vn=R[R.length-1],mn=R.slice(1,-1);return A+y+"="+w+t.execute(mn,i)+vn});return l+g})},settings:{attrs:["title","placeholder"]},disabled:!0,htmlAttrs:!1},sr={name:"common/html/quot",queue:"hide-safe-tags",handler:function(r){return r.replace(/&quot;/g,'"')}},lr={name:"common/html/stripTags",index:"+99",queue:"end",handler:function(r){return r.replace(/<[^>]+>/g,"")},disabled:!0},or={name:"common/html/url",queue:"end",handler:function(r,e,a){return a.isHTML?r:r.replace(X,function(t,u,i){i=i.replace(/([^/]+\/?)(\?|#)$/,"$1").replace(/^([^/]+)\/$/,"$1"),u==="http"?i=i.replace(/^([^/]+)(:80)([^\d]|\/|$)/,"$1$3"):u==="https"&&(i=i.replace(/^([^/]+)(:443)([^\d]|\/|$)/,"$1$3"));var s=i,l=u+"://"+i,h='<a href="'+l+'">';return u==="http"||u==="https"?(s=s.replace(/^www\./,""),h+(u==="http"?s:u+"://"+s)+"</a>"):h+l+"</a>"})},disabled:!0,htmlAttrs:!1};d.addRules([rr,ar,nr,ur,ir,sr,lr,or]);var cr={name:"common/nbsp/afterNumber",handler:function(r,e,a){var t="(^|\\s)(\\d{1,5}) (["+a.getData("char")+"]+)";return r.replace(new RegExp(t,"gi"),"$1$2\xA0$3")},disabled:!0},hr={name:"common/nbsp/afterParagraphMark",handler:function(r){return r.replace(/¶ ?(?=\d)/g,"\xB6\xA0")}},fr={name:"common/nbsp/afterSectionMark",handler:function(r,e,a){var t=a.prefs.locale[0];return r.replace(/§[ \u00A0\u2009]?(?=\d|I|V|X)/g,t==="ru"?"\xA7\u202F":"\xA7\xA0")}},dr={name:"common/nbsp/afterShortWord",handler:function(r,e,a){var t=e.lengthShortWord,u=" \xA0("+c+o("common/quote"),i="(^|["+u+"])(["+a.getData("char")+"]{1,"+t+"}) ",s="$1$2\xA0",l=new RegExp(i,"gim");return r.replace(l,s).replace(l,s)},settings:{lengthShortWord:2}},pr={name:"common/nbsp/beforeShortLastNumber",handler:function(r,e,a){var t=a.getData("char"),u=t.toUpperCase(),i=new RegExp("(["+t+u+"]) (?=\\d{1,"+e.lengthLastNumber+`}[-+\u2212%'"`+a.getData("quote").right+")]?([.!?\u2026]( ["+u+"]|$)|$))","gm");return r.replace(i,"$1\xA0")},live:!1,settings:{lengthLastNumber:2}},gr={name:"common/nbsp/beforeShortLastWord",handler:function(r,e,a){var t=a.getData("char"),u=t.toUpperCase(),i=new RegExp("(["+t+"\\d]) (["+t+u+"]{1,"+e.lengthLastWord+"}[.!?\u2026])( ["+u+"]|$)","g");return r.replace(i,"$1\xA0$2$3")},settings:{lengthLastWord:3}},vr={name:"common/nbsp/dpi",handler:function(r){return r.replace(/(\d) ?(lpi|dpi)(?!\w)/,"$1\xA0$2")}};function J(n,r,e,a){return r+e.replace(/([^\u00A0])\u00A0([^\u00A0])/g,"$1 $2")+a}var mr={name:"common/nbsp/nowrap",queue:"end",handler:function(r){return r.replace(/(<nowrap>)(.*?)(<\/nowrap>)/g,J).replace(/(<nobr>)(.*?)(<\/nobr>)/g,J)}},$r={name:"common/nbsp/replaceNbsp",queue:"utf",live:!1,handler:Y,disabled:!0};d.addRules([cr,hr,fr,dr,pr,gr,vr,mr,$r]);var br={name:"common/number/digitGrouping",index:"310",disabled:!0,handler:function(r,e){return r.replace(new RegExp("(^ ?|\\D |".concat(c,")(\\d{1,3}([ \xA0\u202F\u2009]\\d{3})+)(?! ?[\\d-])"),"gm"),function(a,t,u){return t+u.replace(/\s/g,e.space)}).replace(/(\d{5,}([.,]\d+)?)/g,function(a,t){var u=t.match(/[.,]/),i=u?t.split(u):[t],s=$(i,2),l=s[0],h=s[1];return l=l.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1"+e.space),u?l+u+h:l})},settings:{space:"\u202F"}},xr={name:"common/number/fraction",handler:function(r){return r.replace(/(^|\D)1\/2(\D|$)/g,"$1\xBD$2").replace(/(^|\D)1\/4(\D|$)/g,"$1\xBC$2").replace(/(^|\D)3\/4(\D|$)/g,"$1\xBE$2")}},yr={name:"common/number/mathSigns",handler:function(r){return D(r,[[/!=/g,"\u2260"],[/<=/g,"\u2264"],[/(^|[^=])>=/g,"$1\u2265"],[/<=>/g,"\u21D4"],[/<</g,"\u226A"],[/>>/g,"\u226B"],[/~=/g,"\u2245"],[/(^|[^+])\+-/g,"$1\xB1"]])}},Rr={name:"common/number/times",handler:function(r){return r.replace(/(\d)[ \u00A0]?[xх][ \u00A0]?(\d)/g,"$1\xD7$2")}};d.addRules([br,xr,yr,Rr]);var _r={name:"common/other/delBOM",queue:"start",index:-1,handler:function(r){return r.charCodeAt(0)===65279?r.slice(1):r}},Er={name:"common/other/repeatWord",handler:function(r,e,a){var t=`[;:,.?! 
`+o("common/quote")+"]",u=new RegExp("("+t+"|^)(["+a.getData("char")+"]{"+e.min+",}) \\2("+t+"|$)","gi");return r.replace(u,"$1$2$3")},settings:{min:2},disabled:!0};d.addRules([_r,Er]);var Ar={name:"common/punctuation/apostrophe",handler:function(r,e,a){var t="(["+a.getData("char")+"])",u=new RegExp(t+"'"+t,"gi");return r.replace(u,"$1\u2019$2")}},wr={name:"common/punctuation/delDoublePunctuation",handler:function(r){return r.replace(/(^|[^,]),,(?!,)/g,"$1,").replace(/(^|[^:])::(?!:)/g,"$1:").replace(/(^|[^!?.])\.\.(?!\.)/g,"$1.").replace(/(^|[^;]);;(?!;)/g,"$1;").replace(/(^|[^?])\?\?(?!\?)/g,"$1?")}},kr={name:"common/punctuation/hellip",handler:function(r,e,a){return a.prefs.locale[0]==="ru"?r.replace(/(^|[^.])\.{3,4}(?=[^.]|$)/g,"$1\u2026"):r.replace(/(^|[^.])\.{3}(\.?)(?=[^.]|$)/g,"$1\u2026$2")}},qr=2,Tr={bufferQuotes:{left:"\uF005\uF006\uF007",right:"\uF008\uF009\uF0A0"},beforeLeft:` 
	\xA0[(`,afterRight:` 
	\xA0!?.:;#*,\u2026)\\]`,process:function(r){var e=r.context.text,a=this.count(e);if(!a.total)return e;var t=r.settings,u=r.settings.left[0]===r.settings.right[0];return u&&(r.settings=E(r.settings),r.settings.left=this.bufferQuotes.left.slice(0,r.settings.left.length),r.settings.right=this.bufferQuotes.right.slice(0,r.settings.right.length)),r.settings.spacing&&(e=this.removeSpacing(e,r.settings)),e=this.set(e,r),r.settings.spacing&&(e=this.setSpacing(e,r.settings)),r.settings.removeDuplicateQuotes&&(e=this.removeDuplicates(e,r.settings)),u&&(e=this.returnOriginalQuotes(e,t,r.settings),r.settings=t),e},returnOriginalQuotes:function(r,e,a){for(var t={},u=0;u<a.left.length;u++)t[a.left[u]]=e.left[u],t[a.right[u]]=e.right[u];return r.replace(new RegExp("["+a.left+a.right+"]","g"),function(i){return t[i]})},count:function(r){var e={total:0};return r.replace(new RegExp("["+o("common/quote")+"]","g"),function(a){return e[a]||(e[a]=0),e[a]++,e.total++,a}),e},removeDuplicates:function(r,e){var a=e.left[0],t=e.left[1]||a,u=e.right[0];return a!==t?r:r.replace(new RegExp(a+a,"g"),a).replace(new RegExp(u+u,"g"),u)},removeSpacing:function(r,e){for(var a=0,t=e.left.length;a<t;a++){var u=e.left[a],i=e.right[a];r=r.replace(new RegExp(u+"([ \u202F\xA0])","g"),u).replace(new RegExp("([ \u202F\xA0])"+i,"g"),i)}return r},setSpacing:function(r,e){for(var a=0,t=e.left.length;a<t;a++){var u=e.left[a],i=e.right[a];r=r.replace(new RegExp(u+"([^\u202F])","g"),u+"\u202F$1").replace(new RegExp("([^\u202F])"+i,"g"),"$1\u202F"+i)}return r},set:function(r,e){var a=o("common/quote"),t=e.settings.left[0],u=e.settings.left[1]||t,i=e.settings.right[0],s=new RegExp("(^|["+this.beforeLeft+"])(["+a+"]+)(?=[^\\s"+c+"])","gim"),l=new RegExp("([^\\s"+c+"])(["+a+"]+)(?=["+this.afterRight+"]|$)","gim");return r=r.replace(s,function(h,g,v){return g+I(t,v.length)}).replace(l,function(h,g,v){return g+I(i,v.length)}),r=this.setAboveTags(r,e),t!==u&&(r=this.setInner(r,e.settings)),r},setAboveTags:function(r,e){var a=this,t=o("common/quote"),u=e.settings.left[0],i=e.settings.right[0];return r.replace(new RegExp("(^|.)(["+t+"])(.|$)","gm"),function(s,l,h,g,v){if(l!==c&&g!==c)return s;if(l===c&&g===c)return h==='"'?l+a.getAboveTwoTags(r,v+1,e)+g:s;if(l===c){var A=a.afterRight.indexOf(g)>-1,y=a.getPrevTagInfo(r,v-1,e);return A&&y&&y.group==="html"?l+(y.isClosing?i:u)+g:l+(!g||A?i:u)+g}else{var R=a.beforeLeft.indexOf(l)>-1,w=a.getNextTagInfo(r,v+1,e);return R&&w&&w.group==="html"?l+(w.isClosing?i:u)+g:l+(!l||R?u:i)+g}})},getAboveTwoTags:function(r,e,a){var t=this.getPrevTagInfo(r,e,a),u=this.getNextTagInfo(r,e,a);if(t&&t.group==="html"){if(!t.isClosing)return a.settings.left[0];if(u&&u.isClosing&&t.isClosing)return a.settings.right[0]}return r[e]},getPrevTagInfo:function(r,e,a){var t=a.safeTags.getPrevLabel(r,e-1);if(t){var u=a.safeTags.getTagByLabel(a.context,t);if(u)return a.safeTags.getTagInfo(u)}return null},getNextTagInfo:function(r,e,a){var t=a.safeTags.getNextLabel(r,e+1);if(t){var u=a.safeTags.getTagByLabel(a.context,t);if(u)return a.safeTags.getTagInfo(u)}return null},setInner:function(r,e){for(var a=e.left[0],t=e.right[0],u=0,i=this.getMaxLevel(r,a,t,e.left.length),s=u,l="",h=0,g=r.length;h<g;h++){var v=r[h];v===a?(l+=e.left[s>i-1?i-1:s],s++,s>i&&(s=i)):v===t?(s--,s<u&&(s=u),l+=e.right[s]):(v==='"'&&(s=u),l+=v)}return l},getMaxLevel:function(r,e,a,t){var u=this.count(r);return u[e]===u[a]?t:Math.min(t,qr)}},Br={name:"common/punctuation/quote",handler:function(r,e,a){var t=a.prefs.locale[0],u=e[t];return u?Tr.process({context:a,settings:u,safeTags:this._safeTags}):r},settings:function(){var r={};return Q().forEach(function(e){r[e]=E(o(e+"/quote"))}),r}},Lr={name:"common/punctuation/quoteLink",queue:"show-safe-tags-html",index:"+5",handler:function(r,e,a){var t=this.getSetting("common/punctuation/quote",a.prefs.locale[0]);if(!t)return r;var u=_.getByUtf(t.left[0]),i=_.getByUtf(t.right[0]),s=_.getByUtf(t.left[1]),l=_.getByUtf(t.right[1]);s=s?"|"+s:"",l=l?"|"+l:"";var h=new RegExp("(<[aA]\\s[^>]*?>)("+u+s+")([^]*?)("+i+l+")(</[aA]>)","g");return r.replace(h,"$2$1$3$5$4")}};d.addRules([Ar,wr,kr,Br,Lr]);var Sr={name:"common/space/beforeBracket",handler:function(r,e,a){var t=new RegExp("(["+a.getData("char")+".!?,;\u2026)])\\(","gi");return r.replace(t,"$1 (")}},Cr={name:"common/space/bracket",handler:function(r){return r.replace(/(\() +/g,"(").replace(/ +\)/g,")")}},Ir={name:"common/space/delBeforePercent",handler:function(r){return r.replace(/(\d)( |\u00A0)(%|‰|‱)/g,"$1$3")}},Dr={name:"common/space/delBeforePunctuation",handler:function(r){return r.replace(/(^|[^!?:;,.…]) ([!?:;,])(?!\))/g,"$1$2")}},Mr={name:"common/space/delBetweenExclamationMarks",handler:function(r){return r.replace(/([!?]) (?=[!?])/g,"$1")}},Pr={name:"common/space/delBeforeDot",handler:function(r){return r.replace(/(^|[^!?:;,.…]) (\.|\.\.\.)(\s|$)/g,"$1$2$3")}},Nr={name:"common/space/delLeadingBlanks",handler:function(r){return r.replace(/^[ \t]+/mg,"")},disabled:!0},zr={name:"common/space/delRepeatN",index:"-1",handler:function(r,e){var a=e.maxConsecutiveLineBreaks,t=new RegExp(`
{`.concat(a+1,",}"),"g"),u=I(`
`,a);return r.replace(t,u)},settings:{maxConsecutiveLineBreaks:2}},Fr={name:"common/space/delRepeatSpace",index:"-1",handler:function(r){return r.replace(/([^\n \t])[ \t]{2,}(?![\n \t])/g,"$1 ")}},Or={name:"common/space/delTrailingBlanks",index:"-3",handler:function(r){return r.replace(/[ \t]+\n/g,`
`)}},jr={name:"common/space/insertFinalNewline",live:!1,disabled:!0,queue:"end",handler:function(r){return r[r.length-1]===`
`?r:r+`
`}},Ur={name:"common/space/replaceTab",index:"-5",handler:function(r){return r.replace(/\t/g,"    ")}},Hr={name:"common/space/squareBracket",handler:function(r){return r.replace(/(\[) +/g,"[").replace(/ +\]/g,"]")}},Qr={name:"common/space/trimLeft",index:"-4",handler:String.prototype.trimLeft?function(n){return n.trimLeft()}:function(n){return n.replace(/^[\s\uFEFF\xA0]+/g,"")}},Wr={name:"common/space/trimRight",index:"-3",live:!1,handler:String.prototype.trimRight?function(n){return n.trimRight()}:function(n){return n.replace(/[\s\uFEFF\xA0]+$/g,"")}},Gr=new RegExp('(\\D):([^)",:.?\\s\\/\\\\'+c+"])","g"),Xr={name:"common/space/afterColon",handler:function(r){return r.replace(Gr,"$1: $2")}},Kr=new RegExp('(.),([^)",:.?\\s\\/\\\\'+c+"])","g"),Vr={name:"common/space/afterComma",handler:function(r){return r.replace(Kr,function(e,a,t){return V(a)&&V(t)?e:a+", "+t})}},Yr=new RegExp("\\?([^).\u2026!;?\\s[\\])"+c+o("common/quote")+"])","g"),Zr={name:"common/space/afterQuestionMark",handler:function(r){return r.replace(Yr,"? $1")}},Jr=new RegExp("!([^).\u2026!;?\\s[\\])"+c+o("common/quote")+"])","g"),ea={name:"common/space/afterExclamationMark",handler:function(r){return r.replace(Jr,"! $1")}},ra=new RegExp(";([^).\u2026!;?\\s[\\])"+c+o("common/quote")+"])","g"),aa={name:"common/space/afterSemicolon",handler:function(r){return r.replace(ra,"; $1")}};d.addRules([Xr,Vr,Zr,ea,aa,Sr,Cr,Pr,Ir,Dr,Mr,Nr,zr,Fr,Or,jr,Ur,Hr,Qr,Wr]);var na={name:"common/symbols/arrow",handler:function(r){return D(r,[[/(^|[^-])->(?!>)/g,"$1\u2192"],[/(^|[^<])<-(?!-)/g,"$1\u2190"]])}},ta={name:"common/symbols/cf",handler:function(r){var e=new RegExp('(^|[\\s(\\[+\u2248\xB1\u2212\u2014\u2013\\-])(\\d+(?:[.,]\\d+)?)[ \xA0\u2009]?(C|F)([\\W\\s.,:!?")\\]]|$)',"mg");return r.replace(e,"$1$2\u2009\xB0$3$4")}},ua={name:"common/symbols/copy",handler:function(r){return D(r,[[/\(r\)/gi,"\xAE"],[/(copyright )?\((c|с)\)/gi,"\xA9"],[/\(tm\)/gi,"\u2122"]])}};d.addRules([na,ta,ua]);var ia={name:"en-US/dash/main",index:"-5",handler:function(r){var e=o("common/dash"),a="\xA0",t="\u2014",u="[ ".concat(a,"]"),i="[ ".concat(a,`
]`),s=new RegExp("".concat(u,"(").concat(e,")(").concat(i,")"),"g");return r.replace(s,"".concat(a).concat(t,"$2"))}};d.addRules([ia]);var sa={name:"ru/dash/centuries",handler:function(r,e){var a="("+o("common/dash")+")",t=new RegExp("(X|I|V)[ |\xA0]?"+a+"[ |\xA0]?(X|I|V)","g");return r.replace(t,"$1"+e.dash+"$3")},settings:{dash:"\u2013"}},la={name:"ru/dash/daysMonth",handler:function(r,e){var a=new RegExp("(^|\\s)([123]?\\d)("+o("common/dash")+")([123]?\\d)[ \xA0]("+o("ru/monthGenCase")+")","g");return r.replace(a,"$1$2"+e.dash+"$4\xA0$5")},settings:{dash:"\u2013"}},oa={name:"ru/dash/de",handler:function(r){var e=new RegExp("([a-\u044F\u0451]+) \u0434\u0435"+o("ru/dashAfterDe"),"g");return r.replace(e,"$1-\u0434\u0435")},disabled:!0},ca={name:"ru/dash/decade",handler:function(r,e){var a=new RegExp("(^|\\s)(\\d{3}|\\d)0("+o("common/dash")+")(\\d{3}|\\d)0(-\u0435[ \xA0])(?=\u0433\\.?[ \xA0]?\u0433|\u0433\u043E\u0434)","g");return r.replace(a,"$1$20"+e.dash+"$40$5")},settings:{dash:"\u2013"}},ha={name:"ru/dash/directSpeech",handler:function(r){var e=o("common/dash"),a=new RegExp('(["\xBB\u2018\u201C,])[ |\xA0]?('.concat(e,")[ |\xA0]"),"g"),t=new RegExp("(^|".concat(c,")(").concat(e,")( |\xA0)"),"gm"),u=new RegExp("([.\u2026?!])[ \xA0](".concat(e,")[ \xA0]"),"g");return r.replace(a,"$1\xA0\u2014 ").replace(t,"$1\u2014\xA0").replace(u,"$1 \u2014\xA0")}},fa={name:"ru/dash/izpod",handler:function(r){var e=new RegExp(o("ru/dashBefore")+"(\u0418|\u0438)\u0437 \u043F\u043E\u0434"+o("ru/dashAfter"),"g");return r.replace(e,"$1$2\u0437-\u043F\u043E\u0434")}},da={name:"ru/dash/izza",handler:function(r){var e=new RegExp(o("ru/dashBefore")+"(\u0418|\u0438)\u0437 \u0437\u0430"+o("ru/dashAfter"),"g");return r.replace(e,"$1$2\u0437-\u0437\u0430")}},pa={name:"ru/dash/ka",handler:function(r){var e=new RegExp("([a-\u044F\u0451]+) \u043A\u0430(\u0441\u044C)?"+o("ru/dashAfter"),"g");return r.replace(e,"$1-\u043A\u0430$2")}},ga={name:"ru/dash/koe",handler:function(r){var e=new RegExp(o("ru/dashBefore")+"([\u041A\u043A]\u043E[\u0435\u0439])\\s([\u0430-\u044F\u0451]{3,})"+o("ru/dashAfter"),"g");return r.replace(e,"$1$2-$3")}},va={name:"ru/dash/main",index:"-5",handler:function(r){var e=o("common/dash"),a=new RegExp("([ \xA0])("+e+")([ \xA0\\n])","g");return r.replace(a,"\xA0\u2014$3")}},ma={name:"ru/dash/month",handler:function(r,e){var a="("+o("ru/month")+")",t="("+o("ru/monthPreCase")+")",u=o("common/dash"),i=new RegExp(a+" ?("+u+") ?"+a,"gi"),s=new RegExp(t+" ?("+u+") ?"+t,"gi"),l="$1"+e.dash+"$3";return r.replace(i,l).replace(s,l)},settings:{dash:"\u2013"}},$a={name:"ru/dash/surname",handler:function(r){var e=new RegExp("([\u0410-\u042F\u0401][\u0430-\u044F\u0451]+)\\s-([\u0430-\u044F\u0451]{1,3})(?![^\u0430-\u044F\u0451]|$)","g");return r.replace(e,"$1\xA0\u2014$2")}},ba={name:"ru/dash/taki",handler:function(r){var e=new RegExp("(\u0432\u0435\u0440\u043D\u043E|\u0434\u043E\u0432\u043E\u043B\u044C\u043D\u043E|\u043E\u043F\u044F\u0442\u044C|\u043F\u0440\u044F\u043C\u043E|\u0442\u0430\u043A|\u0432\u0441[\u0435\u0451]|\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E|\u043D\u0435\u0443\u0436\u0435\u043B\u0438)\\s(\u0442\u0430\u043A\u0438)"+o("ru/dashAfter"),"g");return r.replace(e,"$1-$2")}},xa={name:"ru/dash/time",handler:function(r,e){var a=new RegExp(o("ru/dashBefore")+"(\\d?\\d:[0-5]\\d)"+o("common/dash")+"(\\d?\\d:[0-5]\\d)"+o("ru/dashAfter"),"g");return r.replace(a,"$1$2"+e.dash+"$3")},settings:{dash:"\u2013"}},ya={name:"ru/dash/to",handler:function(r){var e=["\u043E\u0442\u043A\u0443\u0434\u0430","\u043A\u0443\u0434\u0430","\u0433\u0434\u0435","\u043A\u043E\u0433\u0434\u0430","\u0437\u0430\u0447\u0435\u043C","\u043F\u043E\u0447\u0435\u043C\u0443","\u043A\u0430\u043A","\u043A\u0430\u043A\u043E[\u0435\u0439\u043C]","\u043A\u0430\u043A\u0430\u044F","\u043A\u0430\u043A\u0438[\u0435\u043C\u0445]","\u043A\u0430\u043A\u0438\u043C\u0438","\u043A\u0430\u043A\u0443\u044E","\u0447\u0442\u043E","\u0447\u0435\u0433\u043E","\u0447\u0435[\u0439\u043C]","\u0447\u044C\u0438\u043C?","\u043A\u0442\u043E","\u043A\u043E\u0433\u043E","\u043A\u043E\u043C\u0443","\u043A\u0435\u043C"],a=new RegExp("("+e.join("|")+")( | -|- )(\u0442\u043E|\u043B\u0438\u0431\u043E|\u043D\u0438\u0431\u0443\u0434\u044C)"+o("ru/dashAfter"),"gi");return r.replace(a,"$1-$3")}},Ra={name:"ru/dash/weekday",handler:function(r,e){var a="("+o("ru/weekday")+")",t=new RegExp(a+" ?("+o("common/dash")+") ?"+a,"gi");return r.replace(t,"$1"+e.dash+"$3")},settings:{dash:"\u2013"}},_a={name:"ru/dash/years",handler:function(r,e){var a=o("common/dash"),t=new RegExp("(\\D|^)(\\d{4})[ \xA0]?("+a+")[ \xA0]?(\\d{4})(?=[ \xA0]?\u0433)","g");return r.replace(t,function(u,i,s,l,h){return parseInt(s,10)<parseInt(h,10)?i+s+e.dash+h:u})},settings:{dash:"\u2013"}};d.addRules([sa,la,oa,ca,ha,fa,da,pa,ga,va,ma,$a,ba,xa,ya,Ra,_a]);var Ea={name:"ru/date/fromISO",handler:function(r){var e="(-|\\.|\\/)",a="(-|\\/)",t=new RegExp("(^|\\D)(\\d{4})"+e+"(\\d{2})"+e+"(\\d{2})(\\D|$)","gi"),u=new RegExp("(^|\\D)(\\d{2})"+a+"(\\d{2})"+a+"(\\d{4})(\\D|$)","gi");return r.replace(t,"$1$6.$4.$2$7").replace(u,"$1$4.$2.$6$7")}},Aa={name:"ru/date/weekday",handler:function(r){var e="( |\xA0)",a=o("ru/monthGenCase"),t=o("ru/weekday"),u=new RegExp("(\\d)"+e+"("+a+"),"+e+"("+t+")","gi");return r.replace(u,function(){var i=arguments;return i[1]+i[2]+i[3].toLowerCase()+","+i[4]+i[5].toLowerCase()})}};d.addRules([Ea,Aa]);var wa={name:"ru/money/currency",handler:function(r){var e="([$\u20AC\xA5\u04B0\xA3\u20A4\u20BD])",a="[ \xA0\u2009\u202F]",t=new RegExp("(^|[\\D]{2})"+e+" ?("+K+"("+a+"\\d{3})*)("+a+"?(\u0442\u044B\u0441\\.|\u043C\u043B\u043D|\u043C\u043B\u0440\u0434|\u0442\u0440\u043B\u043D))?","gm"),u=new RegExp("(^|[\\D])("+K+") ?"+e,"gm");return r.replace(t,function(i,s,l,h,g,v,A,y){return s+h+(y?"\xA0"+y:"")+"\xA0"+l}).replace(u,"$1$2\xA0$4")},disabled:!0},ka={name:"ru/money/ruble",handler:function(r){var e="$1\xA0\u20BD",a="(\\d+)( |\xA0)?(\u0440|\u0440\u0443\u0431)\\.",t=new RegExp("^"+a+"$","g"),u=new RegExp(a+"(?=[!?,:;])","g"),i=new RegExp(a+"(?=\\s+[A-\u042F\u0401])","g");return r.replace(t,e).replace(u,e).replace(i,e+".")},disabled:!0};d.addRules([wa,ka]);var qa={name:"ru/nbsp/abbr",handler:function(r){function e(t,u,i,s){return i==="\u0434\u0434"&&s==="\u043C\u043C"||["\u0440\u0444","\u0440\u0443","\u0440\u0443\u0441","\u043E\u0440\u0433","\u0443\u043A\u0440","\u0431\u0433","\u0441\u0440\u0431"].indexOf(s)>-1?t:u+i+".\xA0"+s+"."}var a=new RegExp("(^|\\s|".concat(c,")([\u0430-\u044F\u0451]{1,3})\\. ?([\u0430-\u044F\u0451]{1,3})\\."),"g");return r.replace(a,e).replace(a,e)}},Ta={name:"ru/nbsp/addr",handler:function(r){return r.replace(/(\s|^)(дом|д\.|кв\.|под\.|п-д) *(\d+)/gi,"$1$2\xA0$3").replace(/(\s|^)(мкр-н|мк-н|мкр\.|мкрн)\s/gi,"$1$2\xA0").replace(/(\s|^)(эт\.) *(-?\d+)/gi,"$1$2\xA0$3").replace(/(\s|^)(\d+) +этаж([^а-яё]|$)/gi,"$1$2\xA0\u044D\u0442\u0430\u0436$3").replace(/(\s|^)литер\s([А-Я]|$)/gi,"$1\u043B\u0438\u0442\u0435\u0440\xA0$2").replace(/(\s|^)(обл|кр|ст|пос|с|д|ул|пер|пр|пр-т|просп|пл|бул|б-р|наб|ш|туп|оф|комн?|уч|вл|влад|стр|кор)\. *([а-яёa-z\d]+)/gi,"$1$2.\xA0$3").replace(/(\D[ \u00A0]|^)г\. ?([А-ЯЁ])/gm,"$1\u0433.\xA0$2")}},Ba={name:"ru/nbsp/afterNumberSign",handler:function(r){return r.replace(/№[ \u00A0\u2009]?(\d|п\/п)/g,"\u2116\u202F$1")}},La={name:"ru/nbsp/beforeParticle",index:"+5",handler:function(r){var e="(\u043B\u0438|\u043B\u044C|\u0436\u0435|\u0436|\u0431\u044B|\u0431)",a=new RegExp("([\u0410-\u042F\u0401\u0430-\u044F\u0451]) "+e+'(?=[,;:?!"\u2018\u201C\xBB])',"g"),t=new RegExp("([\u0410-\u042F\u0401\u0430-\u044F\u0451])[ \xA0]"+e+"[ \xA0]","g");return r.replace(a,"$1\xA0$2").replace(t,"$1\xA0$2 ")}},Sa={name:"ru/nbsp/centuries",handler:function(r){var e=o("common/dash"),a="(^|\\s)([VIX]+)",t='(?=[,;:?!"\u2018\u201C\xBB]|$)',u=new RegExp(a+"[ \xA0]?\u0432\\.?"+t,"gm"),i=new RegExp(a+"("+e+")([VIX]+)[ \xA0]?\u0432\\.?([ \xA0]?\u0432\\.?)?"+t,"gm");return r.replace(u,"$1$2\xA0\u0432.").replace(i,"$1$2$3$4\xA0\u0432\u0432.")}},Ca={name:"ru/nbsp/dayMonth",handler:function(r){var e=new RegExp("(\\d{1,2}) ("+o("ru/shortMonth")+")","gi");return r.replace(e,"$1\xA0$2")}},Ia={name:"ru/nbsp/initials",handler:function(r){var e="\xA0\u202F ",a=o("ru/quote"),t=new RegExp("(^|["+e+a.left+c+'"])([\u0410-\u042F\u0401])\\.['+e+"]?([\u0410-\u042F\u0401])\\.["+e+"]?([\u0410-\u042F\u0401][\u0430-\u044F\u0451]+)","gm");return r.replace(t,"$1$2.\xA0$3.\xA0$4")}},Da={name:"ru/nbsp/m",index:"+5",handler:function(r){var e=new RegExp("(^|[\\s,.\\("+c+"])(\\d+)[ \xA0]?(\u043C\u043C?|\u0441\u043C|\u043A\u043C|\u0434\u043C|\u0433\u043C|mm?|km|cm|dm)([23\xB2\xB3])?([\\s\\).!?,;"+c+"]|$)","gm");return r.replace(e,function(a,t,u,i,s,l){var h={2:"\xB2","\xB2":"\xB2",3:"\xB3","\xB3":"\xB3","":""}[s||""];return t+u+"\xA0"+i+h+(l==="\xA0"?" ":l)})}},Ma={name:"ru/nbsp/mln",handler:function(r){return r.replace(/(\d) ?(тыс|млн|млрд|трлн)(\.|\s|$)/gi,"$1\xA0$2$3")}},Pa={name:"ru/nbsp/ooo",handler:function(r){return r.replace(/(^|[^a-яёA-ЯЁ])(ООО|ОАО|ЗАО|НИИ|ПБОЮЛ) /g,"$1$2\xA0")}},Na={name:"ru/nbsp/page",handler:function(r){var e=new RegExp("(^|[)\\s"+c+"])(\u0441\u0442\u0440|\u0433\u043B|\u0440\u0438\u0441|\u0438\u043B\u043B?|\u0441\u0442|\u043F|c)\\. *(\\d+)([\\s.,?!;:]|$)","gim");return r.replace(e,"$1$2.\xA0$3$4")}},za={name:"ru/nbsp/ps",handler:function(r){var e=new RegExp("(^|\\s|".concat(c,")[p\u0437]\\.[ \xA0]?([p\u0437]\\.[ \xA0]?)?[s\u044B]\\.:? "),"gim");return r.replace(e,function(a,t,u){return t+(u?"P.\xA0P.\xA0S. ":"P.\xA0S. ")})}},Fa={name:"ru/nbsp/rubleKopek",handler:function(r){return r.replace(/(\d) ?(?=(руб|коп)\.)/g,"$1\xA0")}},Oa={name:"ru/nbsp/see",handler:function(r){var e=new RegExp("(^|\\s|".concat(c,"|\\()(\u0441\u043C|\u0438\u043C)\\.[ \xA0]?([\u0430-\u044F\u04510-9a-z]+)([\\s.,?!]|$)"),"gi");return r.replace(e,function(a,t,u,i,s){return(t==="\xA0"?" ":t)+u+".\xA0"+i+s})}},ja={name:"ru/nbsp/year",handler:function(r){return r.replace(/(^|\D)(\d{4}) ?г([ ,;.\n]|$)/g,"$1$2\xA0\u0433$3")}},Ua={name:"ru/nbsp/years",index:"+5",handler:function(r){var e=o("common/dash"),a=new RegExp("(^|\\D)(\\d{4})("+e+')(\\d{4})[ \xA0]?\u0433\\.?([ \xA0]?\u0433\\.)?(?=[,;:?!"\u2018\u201C\xBB\\s]|$)',"gm");return r.replace(a,"$1$2$3$4\xA0\u0433\u0433.")}};d.addRules([qa,Ta,Ba,La,Sa,Ca,Ia,Da,Ma,Pa,Na,za,Fa,Oa,ja,Ua]);var Ha={name:"ru/number/comma",handler:function(r){return r.replace(/(^|\s)(\d+)\.(\d+[\u00A0\u2009\u202F ]*?[%‰°×x])/gim,"$1$2,$3")}},Qa={name:"ru/number/ordinals",handler:function(r,e,a){var t=new RegExp("(\\d[%\u2030]?)-(\u044B\u0439|\u043E\u0439|\u0430\u044F|\u043E\u0435|\u044B\u0435|\u044B\u043C|\u043E\u043C|\u044B\u0445|\u043E\u0433\u043E|\u043E\u043C\u0443|\u044B\u043C\u0438)(?!["+a.getData("char")+"])","g");return r.replace(t,function(u,i,s){var l={\u043E\u0439:"\u0439",\u044B\u0439:"\u0439",\u0430\u044F:"\u044F",\u043E\u0435:"\u0435",\u044B\u0435:"\u0435",\u044B\u043C:"\u043C",\u043E\u043C:"\u043C",\u044B\u0445:"\u0445",\u043E\u0433\u043E:"\u0433\u043E",\u043E\u043C\u0443:"\u043C\u0443",\u044B\u043C\u0438:"\u043C\u0438"};return i+"-"+l[s]})}};d.addRules([Ha,Qa]);function T(n,r){var e=new RegExp('<span class="('+r.join("|")+')">([^]*?)</span>',"g");return n.replace(e,"$2")}function M(n,r){return n.replace(/<title>[^]*?<\/title>/i,function(e){return T(e,r)})}var ee=["typograf-oa-lbracket","typograf-oa-n-lbracket","typograf-oa-sp-lbracket"],P="ru/optalign/bracket",Wa={name:P,handler:function(r){return r.replace(/( |\u00A0)\(/g,'<span class="typograf-oa-sp-lbracket">$1</span><span class="typograf-oa-lbracket">(</span>').replace(/^\(/gm,'<span class="typograf-oa-n-lbracket">(</span>')},disabled:!0,htmlAttrs:!1},Ga={name:P,queue:"start",handler:function(r){return T(r,ee)}},Xa={name:P,queue:"end",handler:function(r){return M(r,ee)}},re=["typograf-oa-comma","typograf-oa-comma-sp"],N="ru/optalign/comma",Ka={name:N,handler:function(r,e,a){var t=new RegExp("(["+a.getData("char")+"\\d\u0301]+), ","gi");return r.replace(t,'$1<span class="typograf-oa-comma">,</span><span class="typograf-oa-comma-sp"> </span>')},disabled:!0,htmlAttrs:!1},Va={name:N,queue:"start",handler:function(r){return T(r,re)}},Ya={name:N,queue:"end",handler:function(r){return M(r,re)}},ae=["typograf-oa-lquote","typograf-oa-n-lquote","typograf-oa-sp-lquote"],z="ru/optalign/quote",Za={name:z,handler:function(r){var e=this.getSetting("common/punctuation/quote","ru"),a="(["+e.left[0]+(e.left[1]||"")+"])",t=new RegExp(`(^|

|`+c+")("+a+")","g"),u=new RegExp(`([^
`+c+`])([ \xA0
])(`+a+")","gi");return r.replace(t,'$1<span class="typograf-oa-n-lquote">$2</span>').replace(u,'$1<span class="typograf-oa-sp-lquote">$2</span><span class="typograf-oa-lquote">$3</span>')},disabled:!0,htmlAttrs:!1},Ja={name:z,queue:"start",handler:function(r){return T(r,ae)}},en={name:z,queue:"end",handler:function(r){return M(r,ae)}};d.addRules([Wa,Ka,Za]),d.addInnerRules([Ga,Xa,Va,Ya,Ja,en]);var rn={name:"ru/other/accent",handler:function(r){return r.replace(/([а-яё])([АЕЁИОУЫЭЮЯ])([^А-ЯЁ\w]|$)/g,function(e,a,t,u){return a+t.toLowerCase()+"\u0301"+u})},disabled:!0},ne=5,te="7",F=[],an=8,nn=2;[4162,416332,8512,851111,4722,4725,391379,8442,4732,4152,4154451,4154459,4154455,41544513,8142,8332,8612,8622,3525,812,8342,8152,3812,4862,3422,342633,8112,9142,8452,3432,3434,3435,4812,8432,8439,3822,4872,3412,3511,3512,3022,4112,4852,4855,3852,3854,8182,818,90,3472,4741,4764,4832,4922,8172,8202,8722,4932,493,3952,3951,3953,411533,4842,3842,3843,8212,4942,"39131-39179","39190-39199",391,4712,4742,8362,495,499,4966,4964,4967,498,8312,8313,3832,383612,3532,8412,4232,423370,423630,8632,8642,8482,4242,8672,8652,4752,4822,482502,4826300,3452,8422,4212,3466,3462,8712,8352,"901-934","936-939","950-953",958,"960-969","977-989","991-997",999].forEach(function(n){if(typeof n=="string")for(var r=n.split("-"),e=+r[0];e<=+r[1];e++)F.push(e);else F.push(n)});function ue(n){var r=n[0],e="",a,t;if(n.length<8)return ie(n);if(n.length>10)if(r==="+")if(n[1]===te)a=!0,n=n.substr(2);else return n;else r==="8"&&(t=!0,n=n.substr(1));for(var u=an;u>=nn;u--){var i=+n.substr(0,u);if(F.indexOf(i)>-1){e=n.substr(0,u),n=n.substr(u);break}}return e||(e=n.substr(0,ne),n=n.substr(ne)),(a?"+"+te+"\xA0":"")+(t?"8\xA0":"")+tn(e)+"\xA0"+ie(n)}function tn(n){var r=+n,e=n.length,a=[n],t=!1;if(e>3)switch(e){case 4:a=[n.substr(0,2),n.substr(2,2)];break;case 5:a=[n.substr(0,3),n.substr(3,3)];break;case 6:a=[n.substr(0,2),n.substr(2,2),n.substr(4,2)];break}else t=r>900&&r<=999||r===495||r===499;return a=a.join("-"),t?a:"("+a+")"}function ie(n){var r="";return n.length%2&&(r=n[0],r+=n.length<=5?"-":"",n=n.substr(1,n.length-1)),r+n.split(/(?=(?:\d\d)+$)/).join("-")}function se(n){return n.replace(/[^\d+]/g,"")}var un={name:"ru/other/phone-number",live:!1,handler:function(r){var e=new RegExp("(^|,| |"+c+")(\\+7[\\d\\(\\) \xA0-]{10,18})(?=,|;|"+c+"|$)","gm");return r.replace(e,function(a,t,u){var i=se(u);return i.length===12?t+ue(i):a}).replace(/(^|[^а-яё])([☎☏✆📠📞📱]|т\.|тел\.|ф\.|моб\.|факс|сотовый|мобильный|телефон)(:?\s*?)([+\d(][\d \u00A0\-()]{3,}\d)/gi,function(a,t,u,i,s){var l=se(s);return l.length>=5?t+u+i+ue(l):a})}};d.addRules([rn,un]);var sn={name:"ru/punctuation/ano",handler:function(r){var e=new RegExp("([^\xAB\u201E[(!?,:;\\-\u2012\u2013\u2014\\s"+c+"])(\\s+)(\u0430|\u043D\u043E)(?= |\xA0|\\n)","g");return r.replace(e,"$1,$2$3")}},ln={name:"ru/punctuation/exclamation",live:!1,handler:function(r){return r.replace(/(^|[^!])!{2}($|[^!])/gm,"$1!$2").replace(/(^|[^!])!{4}($|[^!])/gm,"$1!!!$2")}},on={name:"ru/punctuation/exclamationQuestion",index:"+5",handler:function(r){var e=new RegExp("(^|[^!])!\\?([^?]|$)","g");return r.replace(e,"$1?!$2")}},cn={name:"ru/punctuation/hellipQuestion",handler:function(r){return r.replace(/(^|[^.])(\.\.\.|…),/g,"$1\u2026").replace(/(!|\?)(\.\.\.|…)(?=[^.]|$)/g,"$1..")}};d.addRules([sn,ln,on,cn]);var hn={name:"ru/space/afterHellip",handler:function(r){return r.replace(/([а-яё])(\.\.\.|…)([А-ЯЁ])/g,"$1$2 $3").replace(/([?!]\.\.)([а-яёa-z])/gi,"$1 $2")}},fn={name:"ru/space/year",handler:function(r,e,a){var t=new RegExp("(^| |\xA0)(\\d{3,4})(\u0433\u043E\u0434([\u0430\u0443\u0435]|\u043E\u043C)?)([^"+a.getData("char")+"]|$)","g");return r.replace(t,"$1$2 $3$5")}};d.addRules([hn,fn]);var dn={name:"ru/symbols/NN",handler:function(r){return r.replace(/№№/g,"\u2116")}};d.addRules([dn]);var le={A:"\u0410",a:"\u0430",B:"\u0412",E:"\u0415",e:"\u0435",K:"\u041A",M:"\u041C",H:"\u041D",O:"\u041E",o:"\u043E",P:"\u0420",p:"\u0440",C:"\u0421",c:"\u0441",T:"\u0422",y:"\u0443",X:"\u0425",x:"\u0445"},pn=Object.keys(le).join(""),gn={name:"ru/typo/switchingKeyboardLayout",handler:function(r){var e=new RegExp("(["+pn+"]{1,3})(?=[\u0410-\u042F\u0401\u0430-\u044F\u0451]+?)","g");return r.replace(e,function(a,t){for(var u="",i=0;i<t.length;i++)u+=le[t[i]];return u})}};return d.addRules([gn]),d})});var kn={};En(kn,{default:()=>fe});module.exports=wn(kn);var x=require("@raycast/api"),he=An(ce());async function fe(){let{LANGUAGE:f,HTML_ENTITIES:p}=(0,x.getPreferenceValues)(),m=new he.default({locale:[f],htmlEntity:{type:p}});try{let b=await(0,x.getSelectedText)(),$=m.execute(b);await x.Clipboard.paste($),await(0,x.showHUD)("\u2713")}catch{await(0,x.showHUD)("No text selected")}}
/*! Bundled license information:

typograf/dist/typograf.js:
  (*! typograf | © 2022 Denis Seleznev | MIT  License | https://github.com/typograf/typograf *)
*/
