{
  "version": 3,
  "sources": ["../node_modules/typograf/dist/typograf.js", "../src/index.ts"],
  "sourcesContent": ["/*! typograf | \u00A9 2022 Denis Seleznev | MIT  License | https://github.com/typograf/typograf */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Typograf = factory());\n}(this, function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var groupIndexes = {\n    symbols: 110,\n    space: 210,\n    dash: 310,\n    punctuation: 410,\n    nbsp: 510,\n    'number': 610,\n    money: 710,\n    date: 810,\n    other: 910,\n    optalign: 1010,\n    typo: 1110,\n    html: 1210\n  };\n\n  // http://www.w3.org/TR/html4/sgml/entities\n  var visibleEntities = [['iexcl', 161], ['cent', 162], ['pound', 163], ['curren', 164], ['yen', 165], ['brvbar', 166], ['sect', 167], ['uml', 168], ['copy', 169], ['ordf', 170], ['laquo', 171], ['not', 172], ['reg', 174], ['macr', 175], ['deg', 176], ['plusmn', 177], ['sup2', 178], ['sup3', 179], ['acute', 180], ['micro', 181], ['para', 182], ['middot', 183], ['cedil', 184], ['sup1', 185], ['ordm', 186], ['raquo', 187], ['frac14', 188], ['frac12', 189], ['frac34', 190], ['iquest', 191], ['Agrave', 192], ['Aacute', 193], ['Acirc', 194], ['Atilde', 195], ['Auml', 196], ['Aring', 197], ['AElig', 198], ['Ccedil', 199], ['Egrave', 200], ['Eacute', 201], ['Ecirc', 202], ['Euml', 203], ['Igrave', 204], ['Iacute', 205], ['Icirc', 206], ['Iuml', 207], ['ETH', 208], ['Ntilde', 209], ['Ograve', 210], ['Oacute', 211], ['Ocirc', 212], ['Otilde', 213], ['Ouml', 214], ['times', 215], ['Oslash', 216], ['Ugrave', 217], ['Uacute', 218], ['Ucirc', 219], ['Uuml', 220], ['Yacute', 221], ['THORN', 222], ['szlig', 223], ['agrave', 224], ['aacute', 225], ['acirc', 226], ['atilde', 227], ['auml', 228], ['aring', 229], ['aelig', 230], ['ccedil', 231], ['egrave', 232], ['eacute', 233], ['ecirc', 234], ['euml', 235], ['igrave', 236], ['iacute', 237], ['icirc', 238], ['iuml', 239], ['eth', 240], ['ntilde', 241], ['ograve', 242], ['oacute', 243], ['ocirc', 244], ['otilde', 245], ['ouml', 246], ['divide', 247], ['oslash', 248], ['ugrave', 249], ['uacute', 250], ['ucirc', 251], ['uuml', 252], ['yacute', 253], ['thorn', 254], ['yuml', 255], ['fnof', 402], ['Alpha', 913], ['Beta', 914], ['Gamma', 915], ['Delta', 916], ['Epsilon', 917], ['Zeta', 918], ['Eta', 919], ['Theta', 920], ['Iota', 921], ['Kappa', 922], ['Lambda', 923], ['Mu', 924], ['Nu', 925], ['Xi', 926], ['Omicron', 927], ['Pi', 928], ['Rho', 929], ['Sigma', 931], ['Tau', 932], ['Upsilon', 933], ['Phi', 934], ['Chi', 935], ['Psi', 936], ['Omega', 937], ['alpha', 945], ['beta', 946], ['gamma', 947], ['delta', 948], ['epsilon', 949], ['zeta', 950], ['eta', 951], ['theta', 952], ['iota', 953], ['kappa', 954], ['lambda', 955], ['mu', 956], ['nu', 957], ['xi', 958], ['omicron', 959], ['pi', 960], ['rho', 961], ['sigmaf', 962], ['sigma', 963], ['tau', 964], ['upsilon', 965], ['phi', 966], ['chi', 967], ['psi', 968], ['omega', 969], ['thetasym', 977], ['upsih', 978], ['piv', 982], ['bull', 8226], ['hellip', 8230], ['prime', 8242], ['Prime', 8243], ['oline', 8254], ['frasl', 8260], ['weierp', 8472], ['image', 8465], ['real', 8476], ['trade', 8482], ['alefsym', 8501], ['larr', 8592], ['uarr', 8593], ['rarr', 8594], ['darr', 8595], ['harr', 8596], ['crarr', 8629], ['lArr', 8656], ['uArr', 8657], ['rArr', 8658], ['dArr', 8659], ['hArr', 8660], ['forall', 8704], ['part', 8706], ['exist', 8707], ['empty', 8709], ['nabla', 8711], ['isin', 8712], ['notin', 8713], ['ni', 8715], ['prod', 8719], ['sum', 8721], ['minus', 8722], ['lowast', 8727], ['radic', 8730], ['prop', 8733], ['infin', 8734], ['ang', 8736], ['and', 8743], ['or', 8744], ['cap', 8745], ['cup', 8746], ['int', 8747], ['there4', 8756], ['sim', 8764], ['cong', 8773], ['asymp', 8776], ['ne', 8800], ['equiv', 8801], ['le', 8804], ['ge', 8805], ['sub', 8834], ['sup', 8835], ['nsub', 8836], ['sube', 8838], ['supe', 8839], ['oplus', 8853], ['otimes', 8855], ['perp', 8869], ['sdot', 8901], ['lceil', 8968], ['rceil', 8969], ['lfloor', 8970], ['rfloor', 8971], ['lang', 9001], ['rang', 9002], ['spades', 9824], ['clubs', 9827], ['hearts', 9829], ['diams', 9830], ['loz', 9674], ['OElig', 338], ['oelig', 339], ['Scaron', 352], ['scaron', 353], ['Yuml', 376], ['circ', 710], ['tilde', 732], ['ndash', 8211], ['mdash', 8212], ['lsquo', 8216], ['rsquo', 8217], ['sbquo', 8218], ['ldquo', 8220], ['rdquo', 8221], ['bdquo', 8222], ['dagger', 8224], ['Dagger', 8225], ['permil', 8240], ['lsaquo', 8249], ['rsaquo', 8250], ['euro', 8364], ['NestedGreaterGreater', 8811], ['NestedLessLess', 8810]];\n\n  var invisibleEntities = [['nbsp', 160], ['thinsp', 8201], ['ensp', 8194], ['emsp', 8195], ['shy', 173], ['zwnj', 8204], ['zwj', 8205], ['lrm', 8206], ['rlm', 8207]];\n\n  var HtmlEntities = /*#__PURE__*/function () {\n    function HtmlEntities() {\n      _classCallCheck(this, HtmlEntities);\n\n      this._entities = this._prepareEntities([].concat(visibleEntities, invisibleEntities));\n      this._entitiesByName = {};\n      this._entitiesByNameEntity = {};\n      this._entitiesByDigitEntity = {};\n      this._entitiesByUtf = {};\n\n      this._entities.forEach(function (entity) {\n        this._entitiesByName[entity.name] = entity;\n        this._entitiesByNameEntity[entity.nameEntity] = entity;\n        this._entitiesByDigitEntity[entity.digitEntity] = entity;\n        this._entitiesByUtf[entity.utf] = entity;\n      }, this);\n\n      this._invisibleEntities = this._prepareEntities(invisibleEntities);\n    }\n    /**\n     * Entities as name or digit to UTF-8.\n     *\n     * @param {Object} context\n     */\n\n\n    _createClass(HtmlEntities, [{\n      key: \"toUtf\",\n      value: function toUtf(context) {\n        var _this = this;\n\n        if (context.text.search(/&#/) !== -1) {\n          context.text = this.decHexToUtf(context.text);\n        }\n\n        if (context.text.search(/&[a-z]/i) !== -1) {\n          // 2 - min length of entity without & and ;. Example: &DD;\n          // 31 - max length of entity without & and ;. Example: &CounterClockwiseContourIntegral;\n          context.text = context.text.replace(/&[a-z\\d]{2,31};/gi, function (key) {\n            var entity = _this._entitiesByNameEntity[key];\n            return entity ? entity.utf : key;\n          });\n        }\n      }\n      /**\n       * Entities in decimal or hexadecimal form to UTF-8.\n       *\n       * @param {string} text\n       * @returns {string}\n       */\n\n    }, {\n      key: \"decHexToUtf\",\n      value: function decHexToUtf(text) {\n        return text.replace(/&#(\\d{1,6});/gi, function ($0, $1) {\n          return String.fromCharCode(parseInt($1, 10));\n        }).replace(/&#x([\\da-f]{1,6});/gi, function ($0, $1) {\n          return String.fromCharCode(parseInt($1, 16));\n        });\n      }\n      /**\n       * Restore HTML entities in text.\n       *\n       * @param {Object} context\n       */\n\n    }, {\n      key: \"restore\",\n      value: function restore(context) {\n        var params = context.prefs.htmlEntity;\n        var type = params.type;\n        var entities = this._entities;\n\n        if (type === 'name' || type === 'digit') {\n          if (params.onlyInvisible || params.list) {\n            entities = [];\n\n            if (params.onlyInvisible) {\n              entities = entities.concat(this._invisibleEntities);\n            }\n\n            if (params.list) {\n              entities = entities.concat(this._prepareListParam(params.list));\n            }\n          }\n\n          context.text = this._restoreEntitiesByIndex(context.text, type + 'Entity', entities);\n        }\n      }\n      /**\n       * Get a entity by utf using the type.\n       *\n       * @param {string} symbol\n       * @param {string} [type]\n       * @returns {string}\n       */\n\n    }, {\n      key: \"getByUtf\",\n      value: function getByUtf(symbol, type) {\n        var result = '';\n\n        switch (type) {\n          case 'digit':\n            result = this._entitiesByDigitEntity[symbol];\n            break;\n\n          case 'name':\n            result = this._entitiesByNameEntity[symbol];\n            break;\n\n          default:\n            result = symbol;\n            break;\n        }\n\n        return result;\n      }\n    }, {\n      key: \"_prepareEntities\",\n      value: function _prepareEntities(entities) {\n        var result = [];\n        entities.forEach(function (entity) {\n          var _entity = _slicedToArray(entity, 2),\n              name = _entity[0],\n              digit = _entity[1];\n\n          var utf = String.fromCharCode(digit);\n          result.push({\n            name: name,\n            nameEntity: '&' + name + ';',\n            // &nbsp;\n            digitEntity: '&#' + digit + ';',\n            // &#160;\n            utf: utf,\n            // \\u00A0\n            reName: new RegExp('&' + name + ';', 'g'),\n            reUtf: new RegExp(utf, 'g')\n          });\n        }, this);\n        return result;\n      }\n    }, {\n      key: \"_prepareListParam\",\n      value: function _prepareListParam(list) {\n        var result = [];\n        list.forEach(function (name) {\n          var entity = this._entitiesByName[name];\n\n          if (entity) {\n            result.push(entity);\n          }\n        }, this);\n        return result;\n      }\n    }, {\n      key: \"_restoreEntitiesByIndex\",\n      value: function _restoreEntitiesByIndex(text, type, entities) {\n        entities.forEach(function (entity) {\n          text = text.replace(entity.reUtf, entity[type]);\n        });\n        return text;\n      }\n    }]);\n\n    return HtmlEntities;\n  }();\n\n  var HtmlEntities$1 = new HtmlEntities();\n  /**\n   * @typedef HtmlEntity\n   *\n   * @property {string} type - 'default' - UTF-8, 'digit' - &#160;, 'name' - &nbsp;\n   * @property {boolean} [onlyInvisible]\n   * @property {string[]} [list]\n   */\n\n  var locales = [];\n  /**\n   * Add a locale.\n   *\n   * @param {string} locale\n   */\n\n  function addLocale(locale) {\n    var code = (locale || '').split('/')[0];\n\n    if (code && code !== 'common' && !hasLocale(code)) {\n      locales.push(code);\n      locales.sort();\n    }\n  }\n  /**\n   * Get locales.\n   *\n   * @returns {Array}\n   */\n\n  function getLocales() {\n    return locales;\n  }\n  /**\n   * Has a locale.\n  *\n   * @param {string} locale\n   *\n   * @returns {boolean}\n   */\n\n  function hasLocale(locale) {\n    return locale === 'common' || locales.indexOf(locale) !== -1;\n  }\n  function prepareLocale(locale1, locale2) {\n    var locale = locale1 || locale2;\n    var result = locale;\n\n    if (!Array.isArray(locale)) {\n      result = [locale];\n    }\n\n    return result;\n  }\n\n  var data = {};\n  /**\n   * Get data for use in rules.\n   *\n   * @param {string} key\n   *\n   * @returns {*}\n   */\n\n  function getData(key) {\n    return data[key];\n  }\n  /**\n   * Set data for use in rules.\n   *\n   * @param {string|Object} key\n   * @param {*} [value]\n   */\n\n  function setData(key, value) {\n    if (typeof key === 'string') {\n      addLocale(key);\n      data[key] = value;\n    } else if (_typeof(key) === 'object') {\n      Object.keys(key).forEach(function (k) {\n        addLocale(k);\n        data[k] = key[k];\n      });\n    }\n  }\n\n  var inlineElements = ['a', 'abbr', 'acronym', 'b', 'bdo', 'big', 'br', 'button', 'cite', 'code', 'dfn', 'em', 'i', 'img', 'input', 'kbd', 'label', 'map', 'object', 'q', 'samp', 'script', 'select', 'small', 'span', 'strong', 'sub', 'sup', 'textarea', 'time', 'tt', 'var'];\n\n  var regExpUrl = new RegExp('(https?|file|ftp)://([a-zA-Z0-9/+-=%&:_.~?]+[a-zA-Z0-9#+]*)', 'g');\n  var regExpNumber = '\\\\d+([.,]\\\\d+)?';\n  var regExpDigit = /\\d/;\n  function isDigit(symbol) {\n    return symbol.search(regExpDigit) > -1;\n  }\n\n  var privateLabel = \"\\uF000\";\n  var privateSeparateLabel = \"\\uF001\";\n\n  var SafeTags = /*#__PURE__*/function () {\n    function SafeTags() {\n      _classCallCheck(this, SafeTags);\n\n      var html = [['<!--', '-->'], ['<!ENTITY', '>'], ['<!DOCTYPE', '>'], ['<\\\\?xml', '\\\\?>'], ['<!\\\\[CDATA\\\\[', '\\\\]\\\\]>']];\n      ['code', 'kbd', 'object', 'pre', 'samp', 'script', 'style', 'var'].forEach(function (tag) {\n        html.push(['<' + tag + '(\\\\s[^>]*?)?>', '</' + tag + '>']);\n      }, this);\n      this._tags = {\n        own: [],\n        html: html.map(this._prepareRegExp),\n        url: [regExpUrl]\n      };\n      this._groups = ['own', 'html', 'url'];\n    }\n    /**\n     * Add own safe tag.\n     *\n     * @param {RegExp|string[]} tag\n     */\n\n\n    _createClass(SafeTags, [{\n      key: \"add\",\n      value: function add(tag) {\n        this._tags.own.push(this._prepareRegExp(tag));\n      }\n      /**\n       * Show safe tags.\n       *\n       * @param {Object} context\n       * @param {string} group\n       */\n\n    }, {\n      key: \"show\",\n      value: function show(context, group) {\n        var reReplace = new RegExp(privateLabel + 'tf\\\\d+' + privateLabel, 'g');\n        var reSearch = new RegExp(privateLabel + 'tf\\\\d');\n\n        var replaceLabel = function replaceLabel(match) {\n          return context.safeTags.hidden[group][match] || match;\n        };\n\n        for (var i = 0, len = this._tags[group].length; i < len; i++) {\n          context.text = context.text.replace(reReplace, replaceLabel);\n\n          if (context.text.search(reSearch) === -1) {\n            break;\n          }\n        }\n      }\n      /**\n       * Hide safe tags.\n       *\n       * @param {Object} context\n       * @param {string} group\n       */\n\n    }, {\n      key: \"hide\",\n      value: function hide(context, group) {\n        context.safeTags = context.safeTags || {\n          hidden: {},\n          i: 0\n        };\n        context.safeTags.hidden[group] = {};\n\n        var pasteLabel = this._pasteLabel.bind(this, context, group);\n\n        this._tags[group].forEach(function (tag) {\n          context.text = context.text.replace(this._prepareRegExp(tag), pasteLabel);\n        }, this);\n      }\n      /**\n       * Hide HTML tags.\n       *\n       * @param {Object} context\n       */\n\n    }, {\n      key: \"hideHTMLTags\",\n      value: function hideHTMLTags(context) {\n        if (context.isHTML) {\n          var pasteLabel = this._pasteLabel.bind(this, context, 'html');\n\n          context.text = context.text.replace(/<\\/?[a-z][^]*?>/gi, pasteLabel) // Tags\n          .replace(/&lt;\\/?[a-z][^]*?&gt;/gi, pasteLabel) // Escaping tags\n          .replace(/&[gl]t;/gi, pasteLabel);\n        }\n      }\n      /**\n       * Get previous label.\n       *\n       * @param {string} text\n       * @param {number} position\n       *\n       * @returns {string|false}\n       */\n\n    }, {\n      key: \"getPrevLabel\",\n      value: function getPrevLabel(text, position) {\n        for (var i = position - 1; i >= 0; i--) {\n          if (text[i] === privateLabel) {\n            return text.slice(i, position + 1);\n          }\n        }\n\n        return false;\n      }\n      /**\n       * Get next label.\n       *\n       * @param {string} text\n       * @param {number} position\n       *\n       * @returns {string|false}\n       */\n\n    }, {\n      key: \"getNextLabel\",\n      value: function getNextLabel(text, position) {\n        for (var i = position + 1; i < text.length; i++) {\n          if (text[i] === privateLabel) {\n            return text.slice(position, i + 1);\n          }\n        }\n\n        return false;\n      }\n      /**\n       * Get a tag by a label.\n       *\n       * @param {Object} context\n       * @param {string} label\n       *\n       * @returns {Object|boolean}\n       */\n\n    }, {\n      key: \"getTagByLabel\",\n      value: function getTagByLabel(context, label) {\n        var result = false;\n\n        this._groups.some(function (group) {\n          var value = context.safeTags.hidden[group][label];\n\n          if (typeof value !== 'undefined') {\n            result = {\n              group: group,\n              value: value\n            };\n          }\n\n          return result;\n        });\n\n        return result;\n      }\n      /**\n       * Get info about a tag.\n       *\n       * @param {Object|undefined} tag\n       *\n       * @returns {Object|undefined}\n       */\n\n    }, {\n      key: \"getTagInfo\",\n      value: function getTagInfo(tag) {\n        if (!tag) {\n          return;\n        }\n\n        var result = {\n          group: tag.group\n        };\n\n        switch (tag.group) {\n          case 'html':\n            result.name = tag.value.split(/[<\\s>]/)[1];\n            result.isInline = inlineElements.indexOf(result.name) > -1;\n            result.isClosing = tag.value.search(/^<\\//) > -1;\n            break;\n\n          case 'url':\n            result.isInline = true;\n            break;\n\n          case 'own':\n            result.isInline = false;\n            break;\n        }\n\n        return result;\n      }\n    }, {\n      key: \"_pasteLabel\",\n      value: function _pasteLabel(context, group, match) {\n        var safeTags = context.safeTags;\n        var key = privateLabel + 'tf' + safeTags.i + privateLabel;\n        safeTags.hidden[group][key] = match;\n        safeTags.i++;\n        return key;\n      }\n    }, {\n      key: \"_prepareRegExp\",\n      value: function _prepareRegExp(tag) {\n        var re;\n\n        if (tag instanceof RegExp) {\n          re = tag;\n        } else {\n          var _tag = _slicedToArray(tag, 3),\n              startTag = _tag[0],\n              endTag = _tag[1],\n              middle = _tag[2];\n\n          if (typeof middle === 'undefined') {\n            middle = '[^]*?';\n          }\n\n          re = new RegExp(startTag + middle + endTag, 'gi');\n        }\n\n        return re;\n      }\n    }]);\n\n    return SafeTags;\n  }();\n\n  function repeat(symbol, count) {\n    var result = '';\n\n    for (;;) {\n      if ((count & 1) === 1) {\n        result += symbol;\n      }\n\n      count >>>= 1;\n\n      if (count === 0) {\n        break;\n      }\n\n      symbol += symbol;\n    }\n\n    return result;\n  }\n  function replaceNbsp(text) {\n    return text.replace(/\\u00A0/g, ' ');\n  }\n  function replace(text, re) {\n    for (var i = 0; i < re.length; i++) {\n      text = text.replace(re[i][0], re[i][1]);\n    }\n\n    return text;\n  }\n  function isHTML(text) {\n    return text.search(/(<\\/?[a-z]|<!|&[lg]t;)/i) !== -1;\n  }\n  function removeCR(text) {\n    return text.replace(/\\r\\n?/g, '\\n');\n  }\n  function fixLineEnding(text, type) {\n    if (type === 'CRLF') {\n      // Windows\n      return text.replace(/\\n/g, '\\r\\n');\n    } else if (type === 'CR') {\n      // Mac\n      return text.replace(/\\n/g, '\\r');\n    }\n\n    return text;\n  }\n\n  /**\n   * Get a deep copy of a object.\n   *\n   * @param {*} obj\n   *\n   * @returns {*}\n   */\n  function deepCopy(obj) {\n    return _typeof(obj) === 'object' ? JSON.parse(JSON.stringify(obj)) : obj;\n  }\n\n  /**\n   * @constructor\n   * @param {Object} [prefs]\n   * @param {string} [prefs.locale] Locale\n   * @param {string} [prefs.lineEnding] Line ending. 'LF' (Unix), 'CR' (Mac) or 'CRLF' (Windows). Default: 'LF'.\n   * @param {HtmlEntity} [prefs.htmlEntity]\n   * @param {boolean} [prefs.live] Live mode\n   * @param {string|string[]} [prefs.enableRule] Enable a rule\n   * @param {string|string[]} [prefs.disableRule] Disable a rule\n   */\n\n  var Typograf = /*#__PURE__*/function () {\n    function Typograf(prefs) {\n      _classCallCheck(this, Typograf);\n\n      this._prefs = _typeof(prefs) === 'object' ? prefs : {};\n      this._prefs.locale = prepareLocale(this._prefs.locale);\n      this._prefs.live = this._prefs.live || false;\n      this._safeTags = new SafeTags();\n      this._settings = {};\n      this._enabledRules = {};\n      this._innerRulesByQueues = {};\n      this._innerRules = [].concat(this._innerRules);\n\n      this._innerRules.forEach(function (rule) {\n        var q = rule.queue || 'default';\n        this._innerRulesByQueues[q] = this._innerRulesByQueues[q] || [];\n\n        this._innerRulesByQueues[q].push(rule);\n      }, this);\n\n      this._rulesByQueues = {};\n      this._rules = [].concat(this._rules);\n\n      this._rules.forEach(function (rule) {\n        var q = rule.queue || 'default';\n\n        this._prepareRule(rule);\n\n        this._rulesByQueues[q] = this._rulesByQueues[q] || [];\n\n        this._rulesByQueues[q].push(rule);\n      }, this);\n\n      this._prefs.disableRule && this.disableRule(this._prefs.disableRule);\n      this._prefs.enableRule && this.enableRule(this._prefs.enableRule);\n      this._separatePartsTags = ['title', 'p', 'h[1-6]', 'select', 'legend'];\n    }\n    /**\n     * Add a rule.\n     *\n     * @static\n     * @param {TypografRule} rule\n     *\n     * @returns {Typograf} this\n     */\n\n\n    _createClass(Typograf, [{\n      key: \"execute\",\n      value:\n      /**\n       * Execute typographical rules for text.\n       *\n       * @param {string} text\n       * @param {Object} [prefs]\n       * @param {string} [prefs.locale] Locale\n       * @param {HtmlEntity} [prefs.htmlEntity] Type of HTML entities\n       * @param {string} [prefs.lineEnding] Line ending. 'LF' (Unix), 'CR' (Mac) or 'CRLF' (Windows). Default: 'LF'.\n       *\n       * @returns {string}\n       */\n      function execute(text, prefs) {\n        text = '' + text;\n\n        if (!text) {\n          return '';\n        }\n\n        var context = this._prepareContext(text);\n\n        this._preparePrefs(context, prefs);\n\n        return this._process(context);\n      }\n    }, {\n      key: \"_prepareContext\",\n      value: function _prepareContext(text) {\n        return {\n          text: text,\n          isHTML: isHTML(text),\n          prefs: deepCopy(this._prefs),\n          getData: function getData$$1(key) {\n            if (key === 'char') {\n              return this.prefs.locale.map(function (item) {\n                return getData(item + '/' + key);\n              }).join('');\n            } else {\n              return getData(this.prefs.locale[0] + '/' + key);\n            }\n          }\n        };\n      }\n    }, {\n      key: \"_preparePrefs\",\n      value: function _preparePrefs(context, prefs) {\n        prefs = prefs || {};\n        var contextPrefs = context.prefs;\n\n        for (var _i = 0, _arr = ['htmlEntity', 'lineEnding', 'processingSeparateParts', 'ruleFilter']; _i < _arr.length; _i++) {\n          var name = _arr[_i];\n\n          if (name in prefs) {\n            contextPrefs[name] = prefs[name];\n          } else if (name in this._prefs) {\n            contextPrefs[name] = this._prefs[name];\n          }\n        }\n\n        contextPrefs.htmlEntity = contextPrefs.htmlEntity || {};\n        contextPrefs.locale = prepareLocale(prefs.locale, this._prefs.locale);\n        var locale = contextPrefs.locale;\n        var locale0 = locale[0];\n\n        if (!locale.length || !locale0) {\n          throw Error('Not defined the property \"locale\".');\n        }\n\n        if (!hasLocale(locale0)) {\n          throw Error('\"' + locale0 + '\" is not supported locale.');\n        }\n      }\n    }, {\n      key: \"_splitBySeparateParts\",\n      value: function _splitBySeparateParts(context) {\n        if (!context.isHTML || context.prefs.processingSeparateParts === false) {\n          return [context.text];\n        }\n\n        var text = [],\n            reTags = new RegExp('<(' + this._separatePartsTags.join('|') + ')(\\\\s[^>]*?)?>[^]*?</\\\\1>', 'gi');\n        var position = 0;\n        context.text.replace(reTags, function ($0, $1, $2, itemPosition) {\n          if (position !== itemPosition) {\n            text.push((position ? privateSeparateLabel : '') + context.text.slice(position, itemPosition) + privateSeparateLabel);\n          }\n\n          text.push($0);\n          position = itemPosition + $0.length;\n          return $0;\n        });\n        text.push(position ? privateSeparateLabel + context.text.slice(position, context.text.length) : context.text);\n        return text;\n      }\n    }, {\n      key: \"_process\",\n      value: function _process(context) {\n        var _this = this;\n\n        context.text = removeCR(context.text);\n\n        this._executeRules(context, 'start');\n\n        this._safeTags.hide(context, 'own');\n\n        this._executeRules(context, 'hide-safe-tags-own');\n\n        this._safeTags.hide(context, 'html');\n\n        this._executeRules(context, 'hide-safe-tags-html');\n\n        var isRootHTML = context.isHTML,\n            re = new RegExp(privateSeparateLabel, 'g');\n        context.text = this._splitBySeparateParts(context).map(function (item) {\n          context.text = item;\n          context.isHTML = isHTML(item);\n\n          _this._safeTags.hideHTMLTags(context);\n\n          _this._safeTags.hide(context, 'url');\n\n          _this._executeRules(context, 'hide-safe-tags-url');\n\n          _this._executeRules(context, 'hide-safe-tags');\n\n          HtmlEntities$1.toUtf(context);\n\n          if (_this._prefs.live) {\n            context.text = replaceNbsp(context.text);\n          }\n\n          _this._executeRules(context, 'utf');\n\n          _this._executeRules(context);\n\n          HtmlEntities$1.restore(context);\n\n          _this._executeRules(context, 'html-entities');\n\n          _this._safeTags.show(context, 'url');\n\n          _this._executeRules(context, 'show-safe-tags-url');\n\n          return context.text.replace(re, '');\n        }).join('');\n        context.isHTML = isRootHTML;\n\n        this._safeTags.show(context, 'html');\n\n        this._executeRules(context, 'show-safe-tags-html');\n\n        this._safeTags.show(context, 'own');\n\n        this._executeRules(context, 'show-safe-tags-own');\n\n        this._executeRules(context, 'end');\n\n        return fixLineEnding(context.text, context.prefs.lineEnding);\n      }\n      /**\n       * Get a setting.\n       *\n       * @param {string} ruleName\n       * @param {string} setting\n       *\n       * @returns {*}\n       */\n\n    }, {\n      key: \"getSetting\",\n      value: function getSetting(ruleName, setting) {\n        return this._settings[ruleName] && this._settings[ruleName][setting];\n      }\n      /**\n       * Set a setting.\n       *\n       * @param {string} ruleName\n       * @param {string} setting\n       * @param {*} [value]\n       *\n       * @returns {Typograf}\n       */\n\n    }, {\n      key: \"setSetting\",\n      value: function setSetting(ruleName, setting, value) {\n        this._settings[ruleName] = this._settings[ruleName] || {};\n        this._settings[ruleName][setting] = value;\n        return this;\n      }\n      /**\n       * Is enabled a rule.\n       *\n       * @param {string} ruleName\n       *\n       * @returns {boolean}\n       */\n\n    }, {\n      key: \"isEnabledRule\",\n      value: function isEnabledRule(ruleName) {\n        return this._enabledRules[ruleName];\n      }\n      /**\n       * Is disabled a rule.\n       *\n       * @param {string} ruleName\n       *\n       * @returns {boolean}\n       */\n\n    }, {\n      key: \"isDisabledRule\",\n      value: function isDisabledRule(ruleName) {\n        return !this._enabledRules[ruleName];\n      }\n      /**\n       * Enable a rule.\n       *\n       * @param {string|string[]} ruleName\n       *\n       * @returns {Typograf} this\n       */\n\n    }, {\n      key: \"enableRule\",\n      value: function enableRule(ruleName) {\n        return this._enable(ruleName, true);\n      }\n      /**\n       * Disable a rule.\n       *\n       * @param {string|string[]} ruleName\n       *\n       * @returns {Typograf} this\n       */\n\n    }, {\n      key: \"disableRule\",\n      value: function disableRule(ruleName) {\n        return this._enable(ruleName, false);\n      }\n      /**\n       * Add safe tag.\n       *\n       * @example\n       * // var t = new Typograf({locale: 'ru'});\n       * // t.addSafeTag('<mytag>', '</mytag>');\n       * // t.addSafeTag('<mytag>', '</mytag>', '.*?');\n       * // t.addSafeTag(/<mytag>.*?</mytag>/gi);\n       *\n       * @param {string|RegExp} startTag\n       * @param {string} [endTag]\n       * @param {string} [middle]\n       *\n       * @returns {Typograf} this\n      */\n\n    }, {\n      key: \"addSafeTag\",\n      value: function addSafeTag(startTag, endTag, middle) {\n        var tag = startTag instanceof RegExp ? startTag : [startTag, endTag, middle];\n\n        this._safeTags.add(tag);\n\n        return this;\n      }\n    }, {\n      key: \"_executeRules\",\n      value: function _executeRules(context, queue) {\n        queue = queue || 'default';\n        var rules = this._rulesByQueues[queue];\n        var innerRules = this._innerRulesByQueues[queue];\n        innerRules && innerRules.forEach(function (rule) {\n          this._ruleIterator(context, rule);\n        }, this);\n        rules && rules.forEach(function (rule) {\n          this._ruleIterator(context, rule);\n        }, this);\n      }\n    }, {\n      key: \"_ruleIterator\",\n      value: function _ruleIterator(context, rule) {\n        var rlocale = rule._locale;\n        var live = this._prefs.live;\n\n        if (live === true && rule.live === false || live === false && rule.live === true) {\n          return;\n        }\n\n        if ((rlocale === 'common' || rlocale === context.prefs.locale[0]) && this.isEnabledRule(rule.name)) {\n          if (context.prefs.ruleFilter && !context.prefs.ruleFilter(rule)) {\n            return;\n          }\n\n          this._onBeforeRule && this._onBeforeRule(rule.name, context.text, context);\n          context.text = rule.handler.call(this, context.text, this._settings[rule.name], context);\n          this._onAfterRule && this._onAfterRule(rule.name, context.text, context);\n        }\n      }\n    }, {\n      key: \"_prepareRule\",\n      value: function _prepareRule(rule) {\n        var name = rule.name;\n\n        var t = _typeof(rule.settings);\n\n        var settings = {};\n\n        if (t === 'object') {\n          settings = deepCopy(rule.settings);\n        } else if (t === 'function') {\n          settings = rule.settings(rule);\n        }\n\n        this._settings[name] = settings;\n        this._enabledRules[name] = rule._enabled;\n      }\n    }, {\n      key: \"_enable\",\n      value: function _enable(rule, enabled) {\n        if (Array.isArray(rule)) {\n          rule.forEach(function (el) {\n            this._enableByMask(el, enabled);\n          }, this);\n        } else {\n          this._enableByMask(rule, enabled);\n        }\n\n        return this;\n      }\n    }, {\n      key: \"_enableByMask\",\n      value: function _enableByMask(rule, enabled) {\n        if (!rule) {\n          return;\n        }\n\n        if (rule.search(/\\*/) !== -1) {\n          var re = new RegExp(rule.replace(/\\//g, '\\\\/').replace(/\\*/g, '.*'));\n\n          this._rules.forEach(function (el) {\n            var name = el.name;\n\n            if (re.test(name)) {\n              this._enabledRules[name] = enabled;\n            }\n          }, this);\n        } else {\n          this._enabledRules[rule] = enabled;\n        }\n      }\n    }, {\n      key: \"_getRule\",\n      value: function _getRule(name) {\n        var rule = null;\n\n        this._rules.some(function (item) {\n          if (item.name === name) {\n            rule = item;\n            return true;\n          }\n\n          return false;\n        });\n\n        return rule;\n      }\n    }], [{\n      key: \"addRule\",\n      value: function addRule(rule) {\n        var _rule$name$split = rule.name.split('/'),\n            _rule$name$split2 = _slicedToArray(_rule$name$split, 3),\n            locale = _rule$name$split2[0],\n            group = _rule$name$split2[1],\n            name = _rule$name$split2[2];\n\n        rule._enabled = rule.disabled === true ? false : true;\n        rule._locale = locale;\n        rule._group = group;\n        rule._name = name;\n        this.addLocale(rule._locale);\n\n        this._setIndex(rule);\n\n        this.prototype._rules.push(rule);\n\n        this._sortRules(this.prototype._rules);\n\n        return this;\n      }\n      /**\n       * Add rules.\n       *\n       * @static\n       * @param {TypografRule[]} rules\n       * \n       * @returns {Typograf} this\n       */\n\n    }, {\n      key: \"addRules\",\n      value: function addRules(rules) {\n        var _this2 = this;\n\n        rules.forEach(function (item) {\n          _this2.addRule(item);\n        });\n        return this;\n      }\n      /**\n       * Add internal rule.\n       * Internal rules are executed before main.\n       *\n       * @static\n       * @param {TypografRule} rule\n       *\n       * @returns {Typograf} this\n       */\n\n    }, {\n      key: \"addInnerRule\",\n      value: function addInnerRule(rule) {\n        this.prototype._innerRules.push(rule);\n\n        rule._locale = rule.name.split('/')[0];\n        return this;\n      }\n      /**\n       * Add internal rules.\n       * Internal rules are executed before main.\n       *\n       * @static\n       * @param {TypografRule[]} rules\n       *\n       * @returns {Typograf} this\n       */\n\n    }, {\n      key: \"addInnerRules\",\n      value: function addInnerRules(rules) {\n        var _this3 = this;\n\n        rules.forEach(function (item) {\n          _this3.addInnerRule(item);\n        });\n        return this;\n      }\n    }, {\n      key: \"_setIndex\",\n      value: function _setIndex(rule) {\n        var index = rule.index;\n\n        var t = _typeof(index);\n\n        var groupIndex = groupIndexes[rule._group];\n\n        if (t === 'undefined') {\n          index = groupIndex;\n        } else if (t === 'string') {\n          index = (groupIndex || 0) + parseInt(rule.index, 10);\n        }\n\n        rule._index = index;\n      }\n    }, {\n      key: \"_sortRules\",\n      value: function _sortRules(rules) {\n        rules.sort(function (a, b) {\n          return a._index > b._index ? 1 : -1;\n        });\n      }\n    }]);\n\n    return Typograf;\n  }();\n  Typograf.version = '6.14.1';\n  Typograf.addLocale = addLocale;\n  Typograf.getLocales = getLocales;\n  Typograf.hasLocale = hasLocale;\n  Typograf.setData = setData;\n  Typograf.getData = getData; // @deprecated\n\n  Typograf.deepCopy = deepCopy;\n  Typograf.prototype._rules = [];\n  Typograf.prototype._innerRules = [];\n  /**\n   * @typedef TypografRule\n   * @type {object}\n   * \n   * @property {string} name Name of rule\n   * @property {Function} handler Processing function\n   * @property {number} [index] Sorting index for rule\n   * @property {boolean} [disabled] Rule is disabled by default\n   * @property {boolean} [live] Live mode\n   * @property {Object} [settings] Settings for rule\n   */\n\n  var common = {\n    'common/char': 'a-z',\n    'common/dash': '--?|\u2012|\u2013|\u2014',\n    // --, &#8210, &ndash, &mdash\n    'common/quote': '\u00AB\u2039\u00BB\u203A\u201E\u201C\u201F\u201D\"'\n  };\n\n  var be = {\n    'be/char': '\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u044B\u044C\u044D\u044E\u044F\u0451\u0456\u045E\u0491',\n    'be/quote': {\n      left: '\u00AB\u201C',\n      right: '\u00BB\u201D'\n    }\n  };\n\n  var bg = {\n    'bg/char': '\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044C\u044E\u044F',\n    'bg/quote': {\n      left: '\u201E\u2019',\n      right: '\u201C\u2019'\n    }\n  };\n\n  var ca = {\n    'ca/char': 'abcdefghijlmnopqrstuvxyz\u00E0\u00E7\u00E8\u00E9\u00ED\u00EF\u00F2\u00F3\u00FA\u00FC',\n    'ca/quote': {\n      left: '\u00AB\u201C',\n      right: '\u00BB\u201D'\n    }\n  };\n\n  var da = {\n    'da/char': 'a-z\u00E5\u00E6\u00F8',\n    'da/quote': {\n      left: '\u00BB\u203A',\n      right: '\u00AB\u2039'\n    }\n  };\n\n  var de = {\n    'de/char': 'a-z\u00DF\u00E4\u00F6\u00FC',\n    'de/quote': {\n      left: '\u201E\u201A',\n      right: '\u201C\u2018'\n    }\n  };\n\n  var el = {\n    'el/char': '\u0390\u03AC\u03AD\u03AE\u03AF\u03B0\u03B1\u03B2\u03B3\u03B4\u03B5\u03B6\u03B7\u03B8\u03B9\u03BA\u03BB\u03BC\u03BD\u03BE\u03BF\u03C0\u03C1\u03C2\u03C3\u03C4\u03C5\u03C6\u03C7\u03C8\u03C9\u03CA\u03CB\u03CC\u03CD\u03CE\u03F2\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D',\n    'el/quote': {\n      left: '\u00AB\u201C',\n      right: '\u00BB\u201D'\n    }\n  };\n\n  var enGB = {\n    'en-GB/char': 'a-z',\n    'en-GB/quote': {\n      left: '\u2018\u201C',\n      right: '\u2019\u201D'\n    }\n  };\n\n  var enUS = {\n    'en-US/char': 'a-z',\n    'en-US/quote': {\n      left: '\u201C\u2018',\n      right: '\u201D\u2019'\n    }\n  };\n\n  var eo = {\n    'eo/char': 'abcdefghijklmnoprstuvz\u0109\u011D\u0125\u0135\u015D\u016D',\n    'eo/quote': {\n      left: '\u201C\u2018',\n      right: '\u201D\u2019'\n    }\n  };\n\n  var es = {\n    'es/char': 'a-z\u00E1\u00E9\u00ED\u00F1\u00F3\u00FA\u00FC',\n    'es/quote': {\n      left: '\u00AB\u201C',\n      right: '\u00BB\u201D'\n    }\n  };\n\n  var et = {\n    'et/char': 'abdefghijklmnoprstuvz\u00E4\u00F5\u00F6\u00FC\u0161\u017E',\n    'et/quote': {\n      left: '\u201E\u00AB',\n      right: '\u201C\u00BB'\n    }\n  };\n\n  var fi = {\n    'fi/char': 'abcdefghijklmnopqrstuvy\u00F6\u00E4\u00E5',\n    'fi/quote': {\n      left: '\u201D\u2019',\n      right: '\u201D\u2019'\n    }\n  };\n\n  var fr = {\n    'fr/char': 'a-z\u00E0\u00E2\u00E7\u00E8\u00E9\u00EA\u00EB\u00EE\u00EF\u00F4\u00FB\u00FC\u0153\u00E6',\n    'fr/quote': {\n      left: '\u00AB\u2039',\n      right: '\u00BB\u203A',\n      spacing: true\n    }\n  };\n\n  var ga = {\n    'ga/char': 'abcdefghilmnoprstuvwxyz\u00E1\u00E9\u00ED\u00F3\u00FA',\n    'ga/quote': {\n      left: '\u201C\u2018',\n      right: '\u201D\u2019'\n    }\n  };\n\n  var hu = {\n    'hu/char': 'a-z\u00E1\u00E4\u00E9\u00ED\u00F3\u00F6\u00FA\u00FC\u0151\u0171',\n    'hu/quote': {\n      left: '\u201E\u00BB',\n      right: '\u201D\u00AB'\n    }\n  };\n\n  var it = {\n    'it/char': 'a-z\u00E0\u00E9\u00E8\u00EC\u00F2\u00F9',\n    'it/quote': {\n      left: '\u00AB\u201C',\n      right: '\u00BB\u201D'\n    }\n  };\n\n  var lv = {\n    'lv/char': 'abcdefghijklmnopqrstuvxz\u00E6\u0153',\n    'lv/quote': {\n      left: '\u00AB\u201E',\n      right: '\u00BB\u201C'\n    }\n  };\n\n  var nl = {\n    'nl/char': 'a-z\u00E4\u00E7\u00E8\u00E9\u00EA\u00EB\u00EE\u00EF\u00F1\u00F6\u00FB\u00FC',\n    'nl/quote': {\n      left: '\u2018\u201C',\n      right: '\u2019\u201D'\n    }\n  };\n\n  var no = {\n    'no/char': 'a-z\u00E5\u00E6\u00E8\u00E9\u00EA\u00F2\u00F3\u00F4\u00F8',\n    'no/quote': {\n      left: '\u00AB\u2019',\n      right: '\u00BB\u2019'\n    }\n  };\n\n  var pl = {\n    'pl/char': 'abcdefghijklmnoprstuvwxyz\u00F3\u0105\u0107\u0119\u0142\u0144\u015B\u017A\u017C',\n    'pl/quote': {\n      left: '\u201E\u00AB',\n      right: '\u201D\u00BB'\n    }\n  };\n\n  var ro = {\n    'ro/char': 'abcdefghijklmnoprstuvxz\u00EE\u0103\u0219\u021B',\n    'ro/quote': {\n      left: '\u201E\u00AB',\n      right: '\u201D\u00BB'\n    }\n  };\n\n  var ru = {\n    'ru/char': '\u0430-\u044F\u0451',\n    'ru/dashBefore': '(^| |\\\\n)',\n    'ru/dashAfter': \"(?=[\\xA0 ,.?:!]|$)\",\n    'ru/dashAfterDe': \"(?=[,.?:!]|[\\xA0 ][^\\u0410-\\u042F\\u0401]|$)\",\n    'ru/l': '\u0430-\u044F\u0451a-z',\n    'ru/L': '\u0410-\u042F\u0401A-Z',\n    'ru/month': '\u044F\u043D\u0432\u0430\u0440\u044C|\u0444\u0435\u0432\u0440\u0430\u043B\u044C|\u043C\u0430\u0440\u0442|\u0430\u043F\u0440\u0435\u043B\u044C|\u043C\u0430\u0439|\u0438\u044E\u043D\u044C|\u0438\u044E\u043B\u044C|\u0430\u0432\u0433\u0443\u0441\u0442|\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C|\u043E\u043A\u0442\u044F\u0431\u0440\u044C|\u043D\u043E\u044F\u0431\u0440\u044C|\u0434\u0435\u043A\u0430\u0431\u0440\u044C',\n    'ru/monthGenCase': '\u044F\u043D\u0432\u0430\u0440\u044F|\u0444\u0435\u0432\u0440\u0430\u043B\u044F|\u043C\u0430\u0440\u0442\u0430|\u0430\u043F\u0440\u0435\u043B\u044F|\u043C\u0430\u044F|\u0438\u044E\u043D\u044F|\u0438\u044E\u043B\u044F|\u0430\u0432\u0433\u0443\u0441\u0442\u0430|\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F|\u043E\u043A\u0442\u044F\u0431\u0440\u044F|\u043D\u043E\u044F\u0431\u0440\u044F|\u0434\u0435\u043A\u0430\u0431\u0440\u044F',\n    'ru/monthPreCase': '\u044F\u043D\u0432\u0430\u0440\u0435|\u0444\u0435\u0432\u0440\u0430\u043B\u0435|\u043C\u0430\u0440\u0442\u0435|\u0430\u043F\u0440\u0435\u043B\u0435|\u043C\u0430\u0435|\u0438\u044E\u043D\u0435|\u0438\u044E\u043B\u0435|\u0430\u0432\u0433\u0443\u0441\u0442\u0435|\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435|\u043E\u043A\u0442\u044F\u0431\u0440\u0435|\u043D\u043E\u044F\u0431\u0440\u0435|\u0434\u0435\u043A\u0430\u0431\u0440\u0435',\n    'ru/quote': {\n      left: '\u00AB\u201E\u201A',\n      right: '\u00BB\u201C\u2018',\n      removeDuplicateQuotes: true\n    },\n    'ru/shortMonth': '\u044F\u043D\u0432|\u0444\u0435\u0432|\u043C\u0430\u0440|\u0430\u043F\u0440|\u043C\u0430[\u0435\u0439\u044F]|\u0438\u044E\u043D|\u0438\u044E\u043B|\u0430\u0432\u0433|\u0441\u0435\u043D|\u043E\u043A\u0442|\u043D\u043E\u044F|\u0434\u0435\u043A',\n    'ru/weekday': '\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A|\u0432\u0442\u043E\u0440\u043D\u0438\u043A|\u0441\u0440\u0435\u0434\u0430|\u0447\u0435\u0442\u0432\u0435\u0440\u0433|\u043F\u044F\u0442\u043D\u0438\u0446\u0430|\u0441\u0443\u0431\u0431\u043E\u0442\u0430|\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435'\n  };\n\n  var sk = {\n    'sk/char': 'abcdefghijklmnoprstuvwxyz\u00E1\u00E4\u00E9\u00ED\u00F3\u00F4\u00FA\u00FD\u010D\u010F\u013E\u0148\u0155\u0161\u0165\u017E',\n    'sk/quote': {\n      left: '\u201E\u201A',\n      right: '\u201C\u2018'\n    }\n  };\n\n  var sl = {\n    'sl/char': 'a-z\u010D\u0161\u017E',\n    'sl/quote': {\n      left: '\u201E\u201A',\n      right: '\u201C\u2018'\n    }\n  };\n\n  var sr = {\n    'sr/char': 'abcdefghijklmnoprstuvz\u0107\u010D\u0111\u0161\u017E',\n    'sr/quote': {\n      left: '\u201E\u2019',\n      right: '\u201D\u2019'\n    }\n  };\n\n  var sv = {\n    'sv/char': 'a-z\u00E4\u00E5\u00E9\u00F6',\n    'sv/quote': {\n      left: '\u201D\u2019',\n      right: '\u201D\u2019'\n    }\n  };\n\n  var tr = {\n    'tr/char': 'abcdefghijklmnoprstuvyz\u00E2\u00E7\u00EE\u00F6\u00FB\u00FC\u011F\u0131\u015F',\n    'tr/quote': {\n      left: '\u201C\u2018',\n      right: '\u201D\u2019'\n    }\n  };\n\n  var uk = {\n    'uk/char': '\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044C\u044E\u044F\u0454\u0456\u0457\u0491',\n    'uk/quote': {\n      left: '\u00AB\u201E',\n      right: '\u00BB\u201C'\n    }\n  };\n\n  var data$1 = [common, be, bg, ca, da, de, el, enGB, enUS, eo, es, et, fi, fr, ga, hu, it, lv, nl, no, pl, ro, ru, sk, sl, sr, sv, tr, uk];\n  data$1.forEach(function (item) {\n    return setData(item);\n  });\n\n  var eMail = {\n    name: 'common/html/e-mail',\n    queue: 'end',\n    handler: function handler(text, settings, context) {\n      return context.isHTML ? text : text.replace(/(^|[\\s;(])([\\w\\-.]{2,64})@([\\w\\-.]{2,64})\\.([a-z]{2,64})([)\\s.,!?]|$)/gi, '$1<a href=\"mailto:$2@$3.$4\">$2@$3.$4</a>$5');\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n\n  var escape = {\n    name: 'common/html/escape',\n    index: '+100',\n    queue: 'end',\n    handler: function handler(text) {\n      var entityMap = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        '\\'': '&#39;',\n        '/': '&#x2F;'\n      };\n      return text.replace(/[&<>\"'/]/g, function (s) {\n        return entityMap[s];\n      });\n    },\n    disabled: true\n  };\n\n  var nbr = {\n    name: 'common/html/nbr',\n    index: '+10',\n    queue: 'end',\n    handler: function handler(text) {\n      return text.replace(/([^\\n>])\\n(?=[^\\n])/g, '$1<br/>\\n');\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n\n  var blockElements = ['address', 'article', 'aside', 'blockquote', 'canvas', 'dd', 'div', 'dl', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'li', 'main', 'nav', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table', 'tfoot', 'ul', 'video'];\n\n  var p = {\n    name: 'common/html/p',\n    index: '+5',\n    queue: 'end',\n    handler: function handler(text) {\n      var blockRe = new RegExp('<(' + blockElements.join('|') + ')[>\\\\s]');\n      var separator = '\\n\\n';\n      var buffer = text.split(separator);\n      buffer.forEach(function (text, i, data) {\n        if (!text.trim()) {\n          return;\n        }\n\n        if (!blockRe.test(text)) {\n          data[i] = text.replace(/^(\\s*)/, '$1<p>').replace(/(\\s*)$/, '</p>$1');\n        }\n      });\n      return buffer.join(separator);\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n\n  var processingAttrs = {\n    name: 'common/html/processingAttrs',\n    queue: 'hide-safe-tags-own',\n    // After \"hide-safe-tags-own\", before \"hide-safe-tags-html\".\n    handler: function handler(text, settings, context) {\n      var that = this;\n      var reAttrs = new RegExp('(^|\\\\s)(' + settings.attrs.join('|') + ')=(\"[^\"]*?\"|\\'[^\\']*?\\')', 'gi');\n      var prefs = deepCopy(context.prefs);\n\n      prefs.ruleFilter = function (rule) {\n        return rule.htmlAttrs !== false;\n      };\n\n      return text.replace(/(<[-\\w]+\\s)([^>]+?)(?=>)/g, function (match, tagName, attrs) {\n        var resultAttrs = attrs.replace(reAttrs, function (submatch, space, attrName, attrValue) {\n          var lquote = attrValue[0];\n          var rquote = attrValue[attrValue.length - 1];\n          var value = attrValue.slice(1, -1);\n          return space + attrName + '=' + lquote + that.execute(value, prefs) + rquote;\n        });\n        return tagName + resultAttrs;\n      });\n    },\n    settings: {\n      attrs: ['title', 'placeholder']\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n\n  var quot = {\n    name: 'common/html/quot',\n    queue: 'hide-safe-tags',\n    handler: function handler(text) {\n      return text.replace(/&quot;/g, '\"');\n    }\n  };\n\n  var stripTags = {\n    name: 'common/html/stripTags',\n    index: '+99',\n    queue: 'end',\n    handler: function handler(text) {\n      return text.replace(/<[^>]+>/g, '');\n    },\n    disabled: true\n  };\n\n  var url = {\n    name: 'common/html/url',\n    queue: 'end',\n    handler: function handler(text, settings, context) {\n      return context.isHTML ? text : text.replace(regExpUrl, function ($0, protocol, path) {\n        path = path.replace(/([^/]+\\/?)(\\?|#)$/, '$1') // Remove ending ? and #\n        .replace(/^([^/]+)\\/$/, '$1'); // Remove ending /\n\n        if (protocol === 'http') {\n          path = path.replace(/^([^/]+)(:80)([^\\d]|\\/|$)/, '$1$3'); // Remove 80 port\n        } else if (protocol === 'https') {\n          path = path.replace(/^([^/]+)(:443)([^\\d]|\\/|$)/, '$1$3'); // Remove 443 port\n        }\n\n        var url = path;\n        var fullUrl = protocol + '://' + path;\n        var firstPart = '<a href=\"' + fullUrl + '\">';\n\n        if (protocol === 'http' || protocol === 'https') {\n          url = url.replace(/^www\\./, '');\n          return firstPart + (protocol === 'http' ? url : protocol + '://' + url) + '</a>';\n        }\n\n        return firstPart + fullUrl + '</a>';\n      });\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n\n  Typograf.addRules([eMail, escape, nbr, p, processingAttrs, quot, stripTags, url]);\n\n  var afterNumber = {\n    name: 'common/nbsp/afterNumber',\n    handler: function handler(text, settings, context) {\n      var re = '(^|\\\\s)(\\\\d{1,5}) ([' + context.getData('char') + ']+)';\n      return text.replace(new RegExp(re, 'gi'), \"$1$2\\xA0$3\");\n    },\n    disabled: true\n  };\n\n  var afterParagraphMark = {\n    name: 'common/nbsp/afterParagraphMark',\n    handler: function handler(text) {\n      return text.replace(/\u00B6 ?(?=\\d)/g, \"\\xB6\\xA0\");\n    }\n  };\n\n  var afterSectionMark = {\n    name: 'common/nbsp/afterSectionMark',\n    handler: function handler(text, settings, context) {\n      // \\u2009 - THIN SPACE\n      // \\u202F - NARROW NO-BREAK SPACE\n      var locale = context.prefs.locale[0];\n      return text.replace(/\u00A7[ \\u00A0\\u2009]?(?=\\d|I|V|X)/g, locale === 'ru' ? \"\\xA7\\u202F\" : \"\\xA7\\xA0\");\n    }\n  };\n\n  var afterShortWord = {\n    name: 'common/nbsp/afterShortWord',\n    handler: function handler(text, settings, context) {\n      var len = settings.lengthShortWord;\n      var before = \" \\xA0(\" + privateLabel + getData('common/quote');\n      var subStr = '(^|[' + before + '])([' + context.getData('char') + ']{1,' + len + '}) ';\n      var newSubStr = \"$1$2\\xA0\";\n      var re = new RegExp(subStr, 'gim');\n      return text.replace(re, newSubStr).replace(re, newSubStr);\n    },\n    settings: {\n      lengthShortWord: 2\n    }\n  };\n\n  var beforeShortLastNumber = {\n    name: 'common/nbsp/beforeShortLastNumber',\n    handler: function handler(text, settings, context) {\n      var ch = context.getData('char');\n      var CH = ch.toUpperCase();\n      var re = new RegExp('([' + ch + CH + ']) (?=\\\\d{1,' + settings.lengthLastNumber + '}[-+\u2212%\\'\"' + context.getData('quote').right + ')]?([.!?\u2026]( [' + CH + ']|$)|$))', 'gm');\n      return text.replace(re, \"$1\\xA0\");\n    },\n    live: false,\n    settings: {\n      lengthLastNumber: 2\n    }\n  };\n\n  var beforeShortLastWord = {\n    name: 'common/nbsp/beforeShortLastWord',\n    handler: function handler(text, settings, context) {\n      var ch = context.getData('char');\n      var CH = ch.toUpperCase();\n      var re = new RegExp('([' + ch + '\\\\d]) ([' + ch + CH + ']{1,' + settings.lengthLastWord + '}[.!?\u2026])( [' + CH + ']|$)', 'g');\n      return text.replace(re, \"$1\\xA0$2$3\");\n    },\n    settings: {\n      lengthLastWord: 3\n    }\n  };\n\n  var dpi = {\n    name: 'common/nbsp/dpi',\n    handler: function handler(text) {\n      return text.replace(/(\\d) ?(lpi|dpi)(?!\\w)/, \"$1\\xA0$2\");\n    }\n  };\n\n  function replaceNbsp$1($0, $1, $2, $3) {\n    return $1 + $2.replace(/([^\\u00A0])\\u00A0([^\\u00A0])/g, '$1 $2') + $3;\n  }\n\n  var nowrap = {\n    name: 'common/nbsp/nowrap',\n    queue: 'end',\n    handler: function handler(text) {\n      return text.replace(/(<nowrap>)(.*?)(<\\/nowrap>)/g, replaceNbsp$1).replace(/(<nobr>)(.*?)(<\\/nobr>)/g, replaceNbsp$1);\n    }\n  };\n\n  var replaceNbsp$2 = {\n    name: 'common/nbsp/replaceNbsp',\n    queue: 'utf',\n    live: false,\n    handler: replaceNbsp,\n    disabled: true\n  };\n\n  Typograf.addRules([afterNumber, afterParagraphMark, afterSectionMark, afterShortWord, beforeShortLastNumber, beforeShortLastWord, dpi, nowrap, replaceNbsp$2]);\n\n  var digitGrouping = {\n    name: 'common/number/digitGrouping',\n    index: '310',\n    disabled: true,\n    handler: function handler(text, settings) {\n      return text.replace(new RegExp(\"(^ ?|\\\\D |\".concat(privateLabel, \")(\\\\d{1,3}([ \\xA0\\u202F\\u2009]\\\\d{3})+)(?! ?[\\\\d-])\"), 'gm'), function ($0, $1, $2) {\n        return $1 + $2.replace(/\\s/g, settings.space);\n      }) // https://www.bipm.org/utils/common/pdf/si-brochure/SI-Brochure-9-EN.pdf #5.4.4\n      .replace(/(\\d{5,}([.,]\\d+)?)/g, function ($0, $1) {\n        var decimalMarker = $1.match(/[.,]/);\n\n        var _ref = decimalMarker ? $1.split(decimalMarker) : [$1],\n            _ref2 = _slicedToArray(_ref, 2),\n            integerPart = _ref2[0],\n            fractionalPart = _ref2[1];\n\n        integerPart = integerPart.replace(/(\\d)(?=(\\d{3})+([^\\d]|$))/g, '$1' + settings.space);\n        return decimalMarker ? integerPart + decimalMarker + fractionalPart : integerPart;\n      });\n    },\n    settings: {\n      space: \"\\u202F\"\n    }\n  };\n\n  var fraction = {\n    name: 'common/number/fraction',\n    handler: function handler(text) {\n      return text.replace(/(^|\\D)1\\/2(\\D|$)/g, '$1\u00BD$2').replace(/(^|\\D)1\\/4(\\D|$)/g, '$1\u00BC$2').replace(/(^|\\D)3\\/4(\\D|$)/g, '$1\u00BE$2');\n    }\n  };\n\n  var mathSigns = {\n    name: 'common/number/mathSigns',\n    handler: function handler(text) {\n      return replace(text, [[/!=/g, '\u2260'], [/<=/g, '\u2264'], [/(^|[^=])>=/g, '$1\u2265'], [/<=>/g, '\u21D4'], [/<</g, '\u226A'], [/>>/g, '\u226B'], [/~=/g, '\u2245'], [/(^|[^+])\\+-/g, '$1\u00B1']]);\n    }\n  };\n\n  var times = {\n    name: 'common/number/times',\n    handler: function handler(text) {\n      return text.replace(/(\\d)[ \\u00A0]?[x\u0445][ \\u00A0]?(\\d)/g, '$1\u00D7$2');\n    }\n  };\n\n  Typograf.addRules([digitGrouping, fraction, mathSigns, times]);\n\n  var delBOM = {\n    name: 'common/other/delBOM',\n    queue: 'start',\n    index: -1,\n    handler: function handler(text) {\n      if (text.charCodeAt(0) === 0xFEFF) {\n        return text.slice(1);\n      }\n\n      return text;\n    }\n  };\n\n  var repeatWord = {\n    name: 'common/other/repeatWord',\n    handler: function handler(text, settings, context) {\n      var punc = '[;:,.?! \\n' + getData('common/quote') + ']';\n      var re = new RegExp('(' + punc + '|^)' + '([' + context.getData('char') + ']{' + settings.min + ',}) ' + '\\\\2(' + punc + '|$)', 'gi');\n      return text.replace(re, '$1$2$3');\n    },\n    settings: {\n      min: 2\n    },\n    disabled: true\n  };\n\n  Typograf.addRules([delBOM, repeatWord]);\n\n  var apostrophe = {\n    name: 'common/punctuation/apostrophe',\n    handler: function handler(text, settings, context) {\n      var letters = '([' + context.getData('char') + '])';\n      var re = new RegExp(letters + '\\'' + letters, 'gi');\n      return text.replace(re, '$1\u2019$2');\n    }\n  };\n\n  var delDoublePunctuation = {\n    name: 'common/punctuation/delDoublePunctuation',\n    handler: function handler(text) {\n      return text.replace(/(^|[^,]),,(?!,)/g, '$1,').replace(/(^|[^:])::(?!:)/g, '$1:').replace(/(^|[^!?.])\\.\\.(?!\\.)/g, '$1.').replace(/(^|[^;]);;(?!;)/g, '$1;').replace(/(^|[^?])\\?\\?(?!\\?)/g, '$1?');\n    }\n  };\n\n  var hellip = {\n    name: 'common/punctuation/hellip',\n    handler: function handler(text, settings, context) {\n      return context.prefs.locale[0] === 'ru' ? text.replace(/(^|[^.])\\.{3,4}(?=[^.]|$)/g, '$1\u2026') : text.replace(/(^|[^.])\\.{3}(\\.?)(?=[^.]|$)/g, '$1\u2026$2');\n    }\n  };\n\n  var MAX_LEVEL_WITH_ERRORS = 2;\n  var Quote = {\n    bufferQuotes: {\n      left: \"\\uF005\\uF006\\uF007\",\n      right: \"\\uF008\\uF009\\uF0A0\"\n    },\n    beforeLeft: \" \\n\\t\\xA0[(\",\n    afterRight: \" \\n\\t\\xA0!?.:;#*,\\u2026)\\\\]\",\n    process: function process(params) {\n      var text = params.context.text;\n      var count = this.count(text);\n\n      if (!count.total) {\n        return text;\n      }\n\n      var originalSettings = params.settings;\n      var isEqualQuotes = params.settings.left[0] === params.settings.right[0]; // For SW, FI\n\n      if (isEqualQuotes) {\n        params.settings = deepCopy(params.settings);\n        params.settings.left = this.bufferQuotes.left.slice(0, params.settings.left.length);\n        params.settings.right = this.bufferQuotes.right.slice(0, params.settings.right.length);\n      } // For FR\n\n\n      if (params.settings.spacing) {\n        text = this.removeSpacing(text, params.settings);\n      }\n\n      text = this.set(text, params); // For FR\n\n      if (params.settings.spacing) {\n        text = this.setSpacing(text, params.settings);\n      } // For RU\n\n\n      if (params.settings.removeDuplicateQuotes) {\n        text = this.removeDuplicates(text, params.settings);\n      } // For SW, FI\n\n\n      if (isEqualQuotes) {\n        text = this.returnOriginalQuotes(text, originalSettings, params.settings);\n        params.settings = originalSettings;\n      }\n\n      return text;\n    },\n    returnOriginalQuotes: function returnOriginalQuotes(text, originalSettings, bufferSettings) {\n      var buffer = {};\n\n      for (var i = 0; i < bufferSettings.left.length; i++) {\n        buffer[bufferSettings.left[i]] = originalSettings.left[i];\n        buffer[bufferSettings.right[i]] = originalSettings.right[i];\n      }\n\n      return text.replace(new RegExp('[' + bufferSettings.left + bufferSettings.right + ']', 'g'), function (quote) {\n        return buffer[quote];\n      });\n    },\n    count: function count(text) {\n      var count = {\n        total: 0\n      };\n      text.replace(new RegExp('[' + getData('common/quote') + ']', 'g'), function (quote) {\n        if (!count[quote]) {\n          count[quote] = 0;\n        }\n\n        count[quote]++;\n        count.total++;\n        return quote;\n      });\n      return count;\n    },\n    removeDuplicates: function removeDuplicates(text, settings) {\n      var lquote = settings.left[0];\n      var lquote2 = settings.left[1] || lquote;\n      var rquote = settings.right[0];\n\n      if (lquote !== lquote2) {\n        return text;\n      }\n\n      return text // \u00AB\u00ABword\u00BB word\u00BB -> \u00ABword\u00BB word\u00BB\n      .replace(new RegExp(lquote + lquote, 'g'), lquote) // \u00ABword \u00ABword\u00BB\u00BB -> \u00ABword \u00ABword\u00BB\n      .replace(new RegExp(rquote + rquote, 'g'), rquote);\n    },\n    removeSpacing: function removeSpacing(text, settings) {\n      for (var i = 0, len = settings.left.length; i < len; i++) {\n        var lquote = settings.left[i];\n        var rquote = settings.right[i];\n        text = text.replace(new RegExp(lquote + \"([ \\u202F\\xA0])\", 'g'), lquote).replace(new RegExp(\"([ \\u202F\\xA0])\" + rquote, 'g'), rquote);\n      }\n\n      return text;\n    },\n    setSpacing: function setSpacing(text, settings) {\n      for (var i = 0, len = settings.left.length; i < len; i++) {\n        var lquote = settings.left[i];\n        var rquote = settings.right[i];\n        text = text.replace(new RegExp(lquote + \"([^\\u202F])\", 'g'), lquote + \"\\u202F$1\").replace(new RegExp(\"([^\\u202F])\" + rquote, 'g'), \"$1\\u202F\" + rquote);\n      }\n\n      return text;\n    },\n    set: function set(text, params) {\n      var quotes = getData('common/quote');\n      var lquote = params.settings.left[0];\n      var lquote2 = params.settings.left[1] || lquote;\n      var rquote = params.settings.right[0];\n      var reL = new RegExp('(^|[' + this.beforeLeft + '])([' + quotes + ']+)(?=[^\\\\s' + privateLabel + '])', 'gim');\n      var reR = new RegExp('([^\\\\s' + privateLabel + '])([' + quotes + ']+)(?=[' + this.afterRight + ']|$)', 'gim');\n      text = text.replace(reL, function ($0, $1, $2) {\n        return $1 + repeat(lquote, $2.length);\n      }).replace(reR, function ($0, $1, $2) {\n        return $1 + repeat(rquote, $2.length);\n      });\n      text = this.setAboveTags(text, params);\n\n      if (lquote !== lquote2) {\n        text = this.setInner(text, params.settings);\n      }\n\n      return text;\n    },\n    setAboveTags: function setAboveTags(text, params) {\n      var _this = this;\n\n      var quotes = getData('common/quote');\n      var lquote = params.settings.left[0];\n      var rquote = params.settings.right[0];\n      return text.replace(new RegExp('(^|.)([' + quotes + '])(.|$)', 'gm'), function (original, prev, quote, next, pos) {\n        if (prev !== privateLabel && next !== privateLabel) {\n          return original;\n        }\n\n        if (prev === privateLabel && next === privateLabel) {\n          if (quote === '\"') {\n            return prev + _this.getAboveTwoTags(text, pos + 1, params) + next;\n          }\n\n          return original;\n        }\n\n        if (prev === privateLabel) {\n          var hasRight = _this.afterRight.indexOf(next) > -1;\n\n          var prevInfo = _this.getPrevTagInfo(text, pos - 1, params);\n\n          if (hasRight && prevInfo && prevInfo.group === 'html') {\n            return prev + (prevInfo.isClosing ? rquote : lquote) + next;\n          }\n\n          return prev + (!next || hasRight ? rquote : lquote) + next;\n        } else {\n          var hasLeft = _this.beforeLeft.indexOf(prev) > -1;\n\n          var nextInfo = _this.getNextTagInfo(text, pos + 1, params);\n\n          if (hasLeft && nextInfo && nextInfo.group === 'html') {\n            return prev + (nextInfo.isClosing ? rquote : lquote) + next;\n          }\n\n          return prev + (!prev || hasLeft ? lquote : rquote) + next;\n        }\n      });\n    },\n    getAboveTwoTags: function getAboveTwoTags(text, pos, params) {\n      var prevInfo = this.getPrevTagInfo(text, pos, params);\n      var nextInfo = this.getNextTagInfo(text, pos, params);\n\n      if (prevInfo) {\n        if (prevInfo.group === 'html') {\n          if (!prevInfo.isClosing) {\n            return params.settings.left[0];\n          }\n\n          if (nextInfo && nextInfo.isClosing && prevInfo.isClosing) {\n            return params.settings.right[0];\n          }\n        }\n      }\n\n      return text[pos];\n    },\n    getPrevTagInfo: function getPrevTagInfo(text, pos, params) {\n      var prevLabel = params.safeTags.getPrevLabel(text, pos - 1);\n\n      if (prevLabel) {\n        var prevTag = params.safeTags.getTagByLabel(params.context, prevLabel);\n\n        if (prevTag) {\n          return params.safeTags.getTagInfo(prevTag);\n        }\n      }\n\n      return null;\n    },\n    getNextTagInfo: function getNextTagInfo(text, pos, params) {\n      var nextLabel = params.safeTags.getNextLabel(text, pos + 1);\n\n      if (nextLabel) {\n        var nextTag = params.safeTags.getTagByLabel(params.context, nextLabel);\n\n        if (nextTag) {\n          return params.safeTags.getTagInfo(nextTag);\n        }\n      }\n\n      return null;\n    },\n    setInner: function setInner(text, settings) {\n      var lquote = settings.left[0];\n      var rquote = settings.right[0];\n      var minLevel = 0;\n      var maxLevel = this.getMaxLevel(text, lquote, rquote, settings.left.length);\n      var level = minLevel;\n      var result = '';\n\n      for (var i = 0, len = text.length; i < len; i++) {\n        var letter = text[i];\n\n        if (letter === lquote) {\n          result += settings.left[level > maxLevel - 1 ? maxLevel - 1 : level];\n          level++;\n\n          if (level > maxLevel) {\n            level = maxLevel;\n          }\n        } else if (letter === rquote) {\n          level--;\n\n          if (level < minLevel) {\n            level = minLevel;\n          }\n\n          result += settings.right[level];\n        } else {\n          if (letter === '\"') {\n            level = minLevel;\n          }\n\n          result += letter;\n        }\n      }\n\n      return result;\n    },\n    getMaxLevel: function getMaxLevel(text, leftQuote, rightQuote, length) {\n      var count = this.count(text);\n      return count[leftQuote] === count[rightQuote] ? length : Math.min(length, MAX_LEVEL_WITH_ERRORS);\n    }\n  };\n  var quote = {\n    name: 'common/punctuation/quote',\n    handler: function handler(text, commonSettings, context) {\n      var locale = context.prefs.locale[0];\n      var settings = commonSettings[locale];\n\n      if (!settings) {\n        return text;\n      }\n\n      return Quote.process({\n        context: context,\n        settings: settings,\n        safeTags: this._safeTags\n      });\n    },\n    settings: function settings() {\n      var settings = {};\n      getLocales().forEach(function (locale) {\n        settings[locale] = deepCopy(getData(locale + '/quote'));\n      });\n      return settings;\n    }\n  };\n\n  var quoteLink = {\n    name: 'common/punctuation/quoteLink',\n    queue: 'show-safe-tags-html',\n    index: '+5',\n    handler: function handler(text, settings, context) {\n      var quotes = this.getSetting('common/punctuation/quote', context.prefs.locale[0]);\n\n      if (!quotes) {\n        return text;\n      }\n\n      var lquote1 = HtmlEntities$1.getByUtf(quotes.left[0]);\n      var rquote1 = HtmlEntities$1.getByUtf(quotes.right[0]);\n      var lquote2 = HtmlEntities$1.getByUtf(quotes.left[1]);\n      var rquote2 = HtmlEntities$1.getByUtf(quotes.right[1]);\n      lquote2 = lquote2 ? '|' + lquote2 : '';\n      rquote2 = rquote2 ? '|' + rquote2 : '';\n      var re = new RegExp('(<[aA]\\\\s[^>]*?>)(' + lquote1 + lquote2 + ')([^]*?)(' + rquote1 + rquote2 + ')(</[aA]>)', 'g');\n      return text.replace(re, '$2$1$3$5$4');\n    }\n  };\n\n  Typograf.addRules([apostrophe, delDoublePunctuation, hellip, quote, quoteLink]);\n\n  var beforeBracket = {\n    name: 'common/space/beforeBracket',\n    handler: function handler(text, settings, context) {\n      var re = new RegExp('([' + context.getData('char') + '.!?,;\u2026)])\\\\(', 'gi');\n      return text.replace(re, '$1 (');\n    }\n  };\n\n  var bracket = {\n    name: 'common/space/bracket',\n    handler: function handler(text) {\n      return text.replace(/(\\() +/g, '(').replace(/ +\\)/g, ')');\n    }\n  };\n\n  var delBeforePercent = {\n    name: 'common/space/delBeforePercent',\n    handler: function handler(text) {\n      return text.replace(/(\\d)( |\\u00A0)(%|\u2030|\u2031)/g, '$1$3');\n    }\n  };\n\n  var delBeforePunctuation = {\n    name: 'common/space/delBeforePunctuation',\n    handler: function handler(text) {\n      return text.replace(/(^|[^!?:;,.\u2026]) ([!?:;,])(?!\\))/g, '$1$2');\n    }\n  };\n\n  var delBetweenExclamationMarks = {\n    name: 'common/space/delBetweenExclamationMarks',\n    handler: function handler(text) {\n      return text.replace(/([!?]) (?=[!?])/g, '$1');\n    }\n  };\n\n  var delBeforeDot = {\n    name: 'common/space/delBeforeDot',\n    handler: function handler(text) {\n      return text.replace(/(^|[^!?:;,.\u2026]) (\\.|\\.\\.\\.)(\\s|$)/g, '$1$2$3');\n    }\n  };\n\n  var delLeadingBlanks = {\n    name: 'common/space/delLeadingBlanks',\n    handler: function handler(text) {\n      return text.replace(/^[ \\t]+/mg, '');\n    },\n    disabled: true\n  };\n\n  var delRepeatN = {\n    name: 'common/space/delRepeatN',\n    index: '-1',\n    handler: function handler(text, settings) {\n      var maxConsecutiveLineBreaks = settings.maxConsecutiveLineBreaks;\n      var consecutiveLineBreaksRegex = new RegExp(\"\\n{\".concat(maxConsecutiveLineBreaks + 1, \",}\"), 'g');\n      var replaceValue = repeat('\\n', maxConsecutiveLineBreaks);\n      return text.replace(consecutiveLineBreaksRegex, replaceValue);\n    },\n    settings: {\n      maxConsecutiveLineBreaks: 2\n    }\n  };\n\n  var delRepeatSpace = {\n    name: 'common/space/delRepeatSpace',\n    index: '-1',\n    handler: function handler(text) {\n      return text.replace(/([^\\n \\t])[ \\t]{2,}(?![\\n \\t])/g, '$1 ');\n    }\n  };\n\n  var delTrailingBlanks = {\n    name: 'common/space/delTrailingBlanks',\n    index: '-3',\n    handler: function handler(text) {\n      return text.replace(/[ \\t]+\\n/g, '\\n');\n    }\n  };\n\n  var insertFinalNewline = {\n    name: 'common/space/insertFinalNewline',\n    live: false,\n    disabled: true,\n    queue: 'end',\n    handler: function handler(text) {\n      return text[text.length - 1] === '\\n' ? text : text + '\\n';\n    }\n  };\n\n  var replaceTab = {\n    name: 'common/space/replaceTab',\n    index: '-5',\n    handler: function handler(text) {\n      return text.replace(/\\t/g, '    ');\n    }\n  };\n\n  var squareBracket = {\n    name: 'common/space/squareBracket',\n    handler: function handler(text) {\n      return text.replace(/(\\[) +/g, '[').replace(/ +\\]/g, ']');\n    }\n  };\n\n  var trimLeft = {\n    name: 'common/space/trimLeft',\n    index: '-4',\n    handler: String.prototype.trimLeft ? function (text) {\n      return text.trimLeft();\n    } :\n    /* istanbul ignore next */\n    function (text) {\n      return text.replace(/^[\\s\\uFEFF\\xA0]+/g, '');\n    }\n  };\n\n  var trimRight = {\n    name: 'common/space/trimRight',\n    index: '-3',\n    live: false,\n    handler: String.prototype.trimRight ? function (text) {\n      return text.trimRight();\n    } :\n    /* istanbul ignore next */\n    function (text) {\n      return text.replace(/[\\s\\uFEFF\\xA0]+$/g, '');\n    }\n  };\n\n  var reColon = new RegExp('(\\\\D):([^)\",:.?\\\\s\\\\/\\\\\\\\' + privateLabel + '])', 'g');\n  var afterColon = {\n    name: 'common/space/afterColon',\n    handler: function handler(text) {\n      return text.replace(reColon, '$1: $2');\n    }\n  };\n\n  var reComma = new RegExp('(.),([^)\",:.?\\\\s\\\\/\\\\\\\\' + privateLabel + '])', 'g');\n  var afterComma = {\n    name: 'common/space/afterComma',\n    handler: function handler(text) {\n      return text.replace(reComma, function ($0, $1, $2) {\n        return isDigit($1) && isDigit($2) ? $0 : $1 + ', ' + $2;\n      });\n    }\n  };\n\n  var reQuestionMark = new RegExp('\\\\?([^).\u2026!;?\\\\s[\\\\])' + privateLabel + getData('common/quote') + '])', 'g');\n  var afterQuestionMark = {\n    name: 'common/space/afterQuestionMark',\n    handler: function handler(text) {\n      return text.replace(reQuestionMark, '? $1');\n    }\n  };\n\n  var reExclamationMark = new RegExp('!([^).\u2026!;?\\\\s[\\\\])' + privateLabel + getData('common/quote') + '])', 'g');\n  var afterExclamationMark = {\n    name: 'common/space/afterExclamationMark',\n    handler: function handler(text) {\n      return text.replace(reExclamationMark, '! $1');\n    }\n  };\n\n  var reSemicolon = new RegExp(';([^).\u2026!;?\\\\s[\\\\])' + privateLabel + getData('common/quote') + '])', 'g');\n  var afterSemicolon = {\n    name: 'common/space/afterSemicolon',\n    handler: function handler(text) {\n      return text.replace(reSemicolon, '; $1');\n    }\n  };\n\n  Typograf.addRules([afterColon, afterComma, afterQuestionMark, afterExclamationMark, afterSemicolon, beforeBracket, bracket, delBeforeDot, delBeforePercent, delBeforePunctuation, delBetweenExclamationMarks, delLeadingBlanks, delRepeatN, delRepeatSpace, delTrailingBlanks, insertFinalNewline, replaceTab, squareBracket, trimLeft, trimRight]);\n\n  var arrow = {\n    name: 'common/symbols/arrow',\n    handler: function handler(text) {\n      return replace(text, [[/(^|[^-])->(?!>)/g, '$1\u2192'], [/(^|[^<])<-(?!-)/g, '$1\u2190']]);\n    }\n  };\n\n  var cf = {\n    name: 'common/symbols/cf',\n    handler: function handler(text) {\n      var re = new RegExp(\"(^|[\\\\s(\\\\[+\\u2248\\xB1\\u2212\\u2014\\u2013\\\\-])(\\\\d+(?:[.,]\\\\d+)?)[ \\xA0\\u2009]?(C|F)([\\\\W\\\\s.,:!?\\\")\\\\]]|$)\", 'mg');\n      return text.replace(re, \"$1$2\\u2009\\xB0$3$4\");\n    }\n  };\n\n  var copy = {\n    name: 'common/symbols/copy',\n    handler: function handler(text) {\n      return replace(text, [[/\\(r\\)/gi, '\u00AE'], [/(copyright )?\\((c|\u0441)\\)/gi, '\u00A9'], [/\\(tm\\)/gi, '\u2122']]);\n    }\n  };\n\n  Typograf.addRules([arrow, cf, copy]);\n\n  var main = {\n    name: 'en-US/dash/main',\n    index: '-5',\n    handler: function handler(text) {\n      var dashes = getData('common/dash');\n      var nonBreakingSpace = \"\\xA0\";\n      var emDash = \"\\u2014\";\n      var spaceBefore = \"[ \".concat(nonBreakingSpace, \"]\"); // white space or a non-breaking space\n\n      var spaceAfter = \"[ \".concat(nonBreakingSpace, \"\\n]\"); // same as spaceBefore, but includes line break\n\n      var re = new RegExp(\"\".concat(spaceBefore, \"(\").concat(dashes, \")(\").concat(spaceAfter, \")\"), 'g');\n      return text.replace(re, \"\".concat(nonBreakingSpace).concat(emDash, \"$2\"));\n    }\n  };\n\n  Typograf.addRules([main]);\n\n  var centuries = {\n    name: 'ru/dash/centuries',\n    handler: function handler(text, settings) {\n      var dashes = '(' + getData('common/dash') + ')';\n      var re = new RegExp(\"(X|I|V)[ |\\xA0]?\" + dashes + \"[ |\\xA0]?(X|I|V)\", 'g');\n      return text.replace(re, '$1' + settings.dash + '$3');\n    },\n    settings: {\n      dash: \"\\u2013\" // &ndash;\n\n    }\n  };\n\n  var daysMonth = {\n    name: 'ru/dash/daysMonth',\n    handler: function handler(text, settings) {\n      var re = new RegExp('(^|\\\\s)([123]?\\\\d)' + '(' + getData('common/dash') + ')' + \"([123]?\\\\d)[ \\xA0]\" + '(' + getData('ru/monthGenCase') + ')', 'g');\n      return text.replace(re, '$1$2' + settings.dash + \"$4\\xA0$5\");\n    },\n    settings: {\n      dash: \"\\u2013\" // &ndash;\n\n    }\n  };\n\n  var de$1 = {\n    name: 'ru/dash/de',\n    handler: function handler(text) {\n      var re = new RegExp('([a-\u044F\u0451]+) \u0434\u0435' + getData('ru/dashAfterDe'), 'g');\n      return text.replace(re, '$1-\u0434\u0435');\n    },\n    disabled: true\n  };\n\n  var decade = {\n    name: 'ru/dash/decade',\n    handler: function handler(text, settings) {\n      var re = new RegExp('(^|\\\\s)(\\\\d{3}|\\\\d)0' + '(' + getData('common/dash') + ')' + \"(\\\\d{3}|\\\\d)0(-\\u0435[ \\xA0])\" + \"(?=\\u0433\\\\.?[ \\xA0]?\\u0433|\\u0433\\u043E\\u0434)\", 'g');\n      return text.replace(re, '$1$20' + settings.dash + '$40$5');\n    },\n    settings: {\n      dash: \"\\u2013\" // &ndash;\n\n    }\n  };\n\n  var directSpeech = {\n    name: 'ru/dash/directSpeech',\n    handler: function handler(text) {\n      var dashes = getData('common/dash');\n      var re1 = new RegExp(\"([\\\"\\xBB\\u2018\\u201C,])[ |\\xA0]?(\".concat(dashes, \")[ |\\xA0]\"), 'g');\n      var re2 = new RegExp(\"(^|\".concat(privateLabel, \")(\").concat(dashes, \")( |\\xA0)\"), 'gm');\n      var re3 = new RegExp(\"([.\\u2026?!])[ \\xA0](\".concat(dashes, \")[ \\xA0]\"), 'g');\n      return text.replace(re1, \"$1\\xA0\\u2014 \").replace(re2, \"$1\\u2014\\xA0\").replace(re3, \"$1 \\u2014\\xA0\");\n    }\n  };\n\n  var izpod = {\n    name: 'ru/dash/izpod',\n    handler: function handler(text) {\n      var re = new RegExp(getData('ru/dashBefore') + '(\u0418|\u0438)\u0437 \u043F\u043E\u0434' + getData('ru/dashAfter'), 'g');\n      return text.replace(re, '$1$2\u0437-\u043F\u043E\u0434');\n    }\n  };\n\n  var izza = {\n    name: 'ru/dash/izza',\n    handler: function handler(text) {\n      var re = new RegExp(getData('ru/dashBefore') + '(\u0418|\u0438)\u0437 \u0437\u0430' + getData('ru/dashAfter'), 'g');\n      return text.replace(re, '$1$2\u0437-\u0437\u0430');\n    }\n  };\n\n  var ka = {\n    name: 'ru/dash/ka',\n    handler: function handler(text) {\n      var re = new RegExp('([a-\u044F\u0451]+) \u043A\u0430(\u0441\u044C)?' + getData('ru/dashAfter'), 'g');\n      return text.replace(re, '$1-\u043A\u0430$2');\n    }\n  };\n\n  var koe = {\n    name: 'ru/dash/koe',\n    handler: function handler(text) {\n      var re = new RegExp(getData('ru/dashBefore') + '([\u041A\u043A]\u043E[\u0435\u0439])\\\\s([\u0430-\u044F\u0451]{3,})' + getData('ru/dashAfter'), 'g');\n      return text.replace(re, '$1$2-$3');\n    }\n  };\n\n  var main$1 = {\n    name: 'ru/dash/main',\n    index: '-5',\n    handler: function handler(text) {\n      var dashes = getData('common/dash');\n      var re = new RegExp(\"([ \\xA0])(\" + dashes + \")([ \\xA0\\\\n])\", 'g');\n      return text.replace(re, \"\\xA0\\u2014$3\");\n    }\n  };\n\n  var month = {\n    name: 'ru/dash/month',\n    handler: function handler(text, settings) {\n      var months = '(' + getData('ru/month') + ')';\n      var monthsPre = '(' + getData('ru/monthPreCase') + ')';\n      var dashes = getData('common/dash');\n      var re = new RegExp(months + ' ?(' + dashes + ') ?' + months, 'gi');\n      var rePre = new RegExp(monthsPre + ' ?(' + dashes + ') ?' + monthsPre, 'gi');\n      var newSubStr = '$1' + settings.dash + '$3';\n      return text.replace(re, newSubStr).replace(rePre, newSubStr);\n    },\n    settings: {\n      dash: \"\\u2013\" // &ndash;\n\n    }\n  };\n\n  var surname = {\n    name: 'ru/dash/surname',\n    handler: function handler(text) {\n      var re = new RegExp('([\u0410-\u042F\u0401][\u0430-\u044F\u0451]+)\\\\s-([\u0430-\u044F\u0451]{1,3})(?![^\u0430-\u044F\u0451]|$)', 'g');\n      return text.replace(re, \"$1\\xA0\\u2014$2\");\n    }\n  };\n\n  var taki = {\n    name: 'ru/dash/taki',\n    handler: function handler(text) {\n      var re = new RegExp('(\u0432\u0435\u0440\u043D\u043E|\u0434\u043E\u0432\u043E\u043B\u044C\u043D\u043E|\u043E\u043F\u044F\u0442\u044C|\u043F\u0440\u044F\u043C\u043E|\u0442\u0430\u043A|\u0432\u0441[\u0435\u0451]|\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E|\u043D\u0435\u0443\u0436\u0435\u043B\u0438)\\\\s(\u0442\u0430\u043A\u0438)' + getData('ru/dashAfter'), 'g');\n      return text.replace(re, '$1-$2');\n    }\n  };\n\n  var time = {\n    name: 'ru/dash/time',\n    handler: function handler(text, settings) {\n      var re = new RegExp(getData('ru/dashBefore') + '(\\\\d?\\\\d:[0-5]\\\\d)' + getData('common/dash') + '(\\\\d?\\\\d:[0-5]\\\\d)' + getData('ru/dashAfter'), 'g');\n      return text.replace(re, '$1$2' + settings.dash + '$3');\n    },\n    settings: {\n      dash: \"\\u2013\" // &ndash;\n\n    }\n  };\n\n  var to = {\n    name: 'ru/dash/to',\n    handler: function handler(text) {\n      var words = ['\u043E\u0442\u043A\u0443\u0434\u0430', '\u043A\u0443\u0434\u0430', '\u0433\u0434\u0435', '\u043A\u043E\u0433\u0434\u0430', '\u0437\u0430\u0447\u0435\u043C', '\u043F\u043E\u0447\u0435\u043C\u0443', '\u043A\u0430\u043A', '\u043A\u0430\u043A\u043E[\u0435\u0439\u043C]', '\u043A\u0430\u043A\u0430\u044F', '\u043A\u0430\u043A\u0438[\u0435\u043C\u0445]', '\u043A\u0430\u043A\u0438\u043C\u0438', '\u043A\u0430\u043A\u0443\u044E', '\u0447\u0442\u043E', '\u0447\u0435\u0433\u043E', '\u0447\u0435[\u0439\u043C]', '\u0447\u044C\u0438\u043C?', '\u043A\u0442\u043E', '\u043A\u043E\u0433\u043E', '\u043A\u043E\u043C\u0443', '\u043A\u0435\u043C'];\n      var re = new RegExp('(' + words.join('|') + ')( | -|- )(\u0442\u043E|\u043B\u0438\u0431\u043E|\u043D\u0438\u0431\u0443\u0434\u044C)' + getData('ru/dashAfter'), 'gi');\n      return text.replace(re, '$1-$3');\n    }\n  };\n\n  var weekday = {\n    name: 'ru/dash/weekday',\n    handler: function handler(text, settings) {\n      var part = '(' + getData('ru/weekday') + ')';\n      var re = new RegExp(part + ' ?(' + getData('common/dash') + ') ?' + part, 'gi');\n      return text.replace(re, '$1' + settings.dash + '$3');\n    },\n    settings: {\n      dash: \"\\u2013\" // &ndash;\n\n    }\n  };\n\n  var years = {\n    name: 'ru/dash/years',\n    handler: function handler(text, settings) {\n      var dashes = getData('common/dash');\n      var re = new RegExp(\"(\\\\D|^)(\\\\d{4})[ \\xA0]?(\" + dashes + \")[ \\xA0]?(\\\\d{4})(?=[ \\xA0]?\\u0433)\", 'g');\n      return text.replace(re, function ($0, $1, $2, $3, $4) {\n        if (parseInt($2, 10) < parseInt($4, 10)) {\n          return $1 + $2 + settings.dash + $4;\n        }\n\n        return $0;\n      });\n    },\n    settings: {\n      dash: \"\\u2013\" // &ndash;\n\n    }\n  };\n\n  Typograf.addRules([centuries, daysMonth, de$1, decade, directSpeech, izpod, izza, ka, koe, main$1, month, surname, taki, time, to, weekday, years]);\n\n  var fromISO = {\n    name: 'ru/date/fromISO',\n    handler: function handler(text) {\n      var sp1 = '(-|\\\\.|\\\\/)';\n      var sp2 = '(-|\\\\/)';\n      var re1 = new RegExp('(^|\\\\D)(\\\\d{4})' + sp1 + '(\\\\d{2})' + sp1 + '(\\\\d{2})(\\\\D|$)', 'gi');\n      var re2 = new RegExp('(^|\\\\D)(\\\\d{2})' + sp2 + '(\\\\d{2})' + sp2 + '(\\\\d{4})(\\\\D|$)', 'gi');\n      return text.replace(re1, '$1$6.$4.$2$7').replace(re2, '$1$4.$2.$6$7');\n    }\n  };\n\n  var weekday$1 = {\n    name: 'ru/date/weekday',\n    handler: function handler(text) {\n      var space = \"( |\\xA0)\";\n      var monthCase = getData('ru/monthGenCase');\n      var weekday = getData('ru/weekday');\n      var re = new RegExp('(\\\\d)' + space + '(' + monthCase + '),' + space + '(' + weekday + ')', 'gi');\n      return text.replace(re, function () {\n        var a = arguments;\n        return a[1] + a[2] + a[3].toLowerCase() + ',' + a[4] + a[5].toLowerCase();\n      });\n    }\n  };\n\n  Typograf.addRules([fromISO, weekday$1]);\n\n  var currency = {\n    name: 'ru/money/currency',\n    handler: function handler(text) {\n      var currency = '([$\u20AC\u00A5\u04B0\u00A3\u20A4\u20BD])';\n      var space = \"[ \\xA0\\u2009\\u202F]\";\n      var re1 = new RegExp('(^|[\\\\D]{2})' + currency + ' ?(' + regExpNumber + '(' + space + '\\\\d{3})*)(' + space + '?(\u0442\u044B\u0441\\\\.|\u043C\u043B\u043D|\u043C\u043B\u0440\u0434|\u0442\u0440\u043B\u043D))?', 'gm');\n      var re2 = new RegExp('(^|[\\\\D])(' + regExpNumber + ') ?' + currency, 'gm');\n      return text.replace(re1, function ($0, $1, $2, $3, $4, $5, $6, $7) {\n        return $1 + $3 + ($7 ? \"\\xA0\" + $7 : '') + \"\\xA0\" + $2;\n      }).replace(re2, \"$1$2\\xA0$4\");\n    },\n    disabled: true\n  };\n\n  var ruble = {\n    name: 'ru/money/ruble',\n    handler: function handler(text) {\n      var newSubstr = \"$1\\xA0\\u20BD\";\n      var commonPart = \"(\\\\d+)( |\\xA0)?(\\u0440|\\u0440\\u0443\\u0431)\\\\.\";\n      var re1 = new RegExp('^' + commonPart + '$', 'g');\n      var re2 = new RegExp(commonPart + '(?=[!?,:;])', 'g');\n      var re3 = new RegExp(commonPart + '(?=\\\\s+[A-\u042F\u0401])', 'g');\n      return text.replace(re1, newSubstr).replace(re2, newSubstr).replace(re3, newSubstr + '.');\n    },\n    disabled: true\n  };\n\n  Typograf.addRules([currency, ruble]);\n\n  var abbr = {\n    name: 'ru/nbsp/abbr',\n    handler: function handler(text) {\n      function abbr($0, $1, $2, $3) {\n        // \u0434\u0434.\u043C\u043C.\u0433\u0433\u0433\u0433\n        if ($2 === '\u0434\u0434' && $3 === '\u043C\u043C') {\n          return $0;\n        } // \u042F\u0432\u043B\u044F\u044E\u0442\u0441\u044F \u043B\u0438 \u0441\u043E\u043A\u0440\u0430\u0449\u0435\u043D\u0438\u044F \u0441\u0441\u044B\u043B\u043A\u043E\u0439\n\n\n        if (['\u0440\u0444', '\u0440\u0443', '\u0440\u0443\u0441', '\u043E\u0440\u0433', '\u0443\u043A\u0440', '\u0431\u0433', '\u0441\u0440\u0431'].indexOf($3) > -1) {\n          return $0;\n        }\n\n        return $1 + $2 + '.' + \"\\xA0\" + $3 + '.';\n      }\n\n      var re = new RegExp(\"(^|\\\\s|\".concat(privateLabel, \")([\\u0430-\\u044F\\u0451]{1,3})\\\\. ?([\\u0430-\\u044F\\u0451]{1,3})\\\\.\"), 'g');\n      return text.replace(re, abbr) // \u0414\u043B\u044F \u0442\u0440\u043E\u0439\u043D\u044B\u0445 \u0441\u043E\u043A\u0440\u0430\u0449\u0435\u043D\u0438\u0439 - \u0430.\u0435.\u043C.\n      .replace(re, abbr);\n    }\n  };\n\n  var addr = {\n    name: 'ru/nbsp/addr',\n    handler: function handler(text) {\n      return text.replace(/(\\s|^)(\u0434\u043E\u043C|\u0434\\.|\u043A\u0432\\.|\u043F\u043E\u0434\\.|\u043F-\u0434) *(\\d+)/gi, \"$1$2\\xA0$3\").replace(/(\\s|^)(\u043C\u043A\u0440-\u043D|\u043C\u043A-\u043D|\u043C\u043A\u0440\\.|\u043C\u043A\u0440\u043D)\\s/gi, \"$1$2\\xA0\") // \u043C\u0438\u043A\u0440\u043E\u0440\u0430\u0439\u043E\u043D\n      .replace(/(\\s|^)(\u044D\u0442\\.) *(-?\\d+)/gi, \"$1$2\\xA0$3\").replace(/(\\s|^)(\\d+) +\u044D\u0442\u0430\u0436([^\u0430-\u044F\u0451]|$)/gi, \"$1$2\\xA0\\u044D\\u0442\\u0430\\u0436$3\").replace(/(\\s|^)\u043B\u0438\u0442\u0435\u0440\\s([\u0410-\u042F]|$)/gi, \"$1\\u043B\\u0438\\u0442\\u0435\\u0440\\xA0$2\")\n      /*\n          \u043E\u0431\u043B\u0430\u0441\u0442\u044C, \u043A\u0440\u0430\u0439, \u0441\u0442\u0430\u043D\u0446\u0438\u044F, \u043F\u043E\u0441\u0435\u043B\u043E\u043A, \u0441\u0435\u043B\u043E,\n          \u0434\u0435\u0440\u0435\u0432\u043D\u044F, \u0443\u043B\u0438\u0446\u0430, \u043F\u0435\u0440\u0435\u0443\u043B\u043E\u043A, \u043F\u0440\u043E\u0435\u0437\u0434, \u043F\u0440\u043E\u0441\u043F\u0435\u043A\u0442,\n          \u0431\u0443\u043B\u044C\u0432\u0430\u0440, \u043F\u043B\u043E\u0449\u0430\u0434\u044C, \u043D\u0430\u0431\u0435\u0440\u0435\u0436\u043D\u0430\u044F, \u0448\u043E\u0441\u0441\u0435,\n          \u0442\u0443\u043F\u0438\u043A, \u043E\u0444\u0438\u0441, \u043A\u043E\u043C\u043D\u0430\u0442\u0430, \u0443\u0447\u0430\u0441\u0442\u043E\u043A, \u0432\u043B\u0430\u0434\u0435\u043D\u0438\u0435, \u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435, \u043A\u043E\u0440\u043F\u0443\u0441\n      */\n      .replace(/(\\s|^)(\u043E\u0431\u043B|\u043A\u0440|\u0441\u0442|\u043F\u043E\u0441|\u0441|\u0434|\u0443\u043B|\u043F\u0435\u0440|\u043F\u0440|\u043F\u0440-\u0442|\u043F\u0440\u043E\u0441\u043F|\u043F\u043B|\u0431\u0443\u043B|\u0431-\u0440|\u043D\u0430\u0431|\u0448|\u0442\u0443\u043F|\u043E\u0444|\u043A\u043E\u043C\u043D?|\u0443\u0447|\u0432\u043B|\u0432\u043B\u0430\u0434|\u0441\u0442\u0440|\u043A\u043E\u0440)\\. *([\u0430-\u044F\u0451a-z\\d]+)/gi, \"$1$2.\\xA0$3\") // \u0433\u043E\u0440\u043E\u0434\n      .replace(/(\\D[ \\u00A0]|^)\u0433\\. ?([\u0410-\u042F\u0401])/gm, \"$1\\u0433.\\xA0$2\");\n    }\n  };\n\n  var afterNumberSign = {\n    name: 'ru/nbsp/afterNumberSign',\n    handler: function handler(text) {\n      // \\u2009 - THIN SPACE\n      // \\u202F - NARROW NO-BREAK SPACE\n      return text.replace(/\u2116[ \\u00A0\\u2009]?(\\d|\u043F\\/\u043F)/g, \"\\u2116\\u202F$1\");\n    }\n  };\n\n  var beforeParticle = {\n    name: 'ru/nbsp/beforeParticle',\n    index: '+5',\n    handler: function handler(text) {\n      var particles = '(\u043B\u0438|\u043B\u044C|\u0436\u0435|\u0436|\u0431\u044B|\u0431)';\n      var re1 = new RegExp('([\u0410-\u042F\u0401\u0430-\u044F\u0451]) ' + particles + '(?=[,;:?!\"\u2018\u201C\u00BB])', 'g');\n      var re2 = new RegExp(\"([\\u0410-\\u042F\\u0401\\u0430-\\u044F\\u0451])[ \\xA0]\" + particles + \"[ \\xA0]\", 'g');\n      return text.replace(re1, \"$1\\xA0$2\").replace(re2, \"$1\\xA0$2 \");\n    }\n  };\n\n  var centuries$1 = {\n    name: 'ru/nbsp/centuries',\n    handler: function handler(text) {\n      var dashes = getData('common/dash');\n      var before = '(^|\\\\s)([VIX]+)';\n      var after = '(?=[,;:?!\"\u2018\u201C\u00BB]|$)';\n      var re1 = new RegExp(before + \"[ \\xA0]?\\u0432\\\\.?\" + after, 'gm');\n      var re2 = new RegExp(before + '(' + dashes + ')' + \"([VIX]+)[ \\xA0]?\\u0432\\\\.?([ \\xA0]?\\u0432\\\\.?)?\" + after, 'gm');\n      return text.replace(re1, \"$1$2\\xA0\\u0432.\").replace(re2, \"$1$2$3$4\\xA0\\u0432\\u0432.\");\n    }\n  };\n\n  var dayMonth = {\n    name: 'ru/nbsp/dayMonth',\n    handler: function handler(text) {\n      var re = new RegExp('(\\\\d{1,2}) (' + getData('ru/shortMonth') + ')', 'gi');\n      return text.replace(re, \"$1\\xA0$2\");\n    }\n  };\n\n  var initials = {\n    name: 'ru/nbsp/initials',\n    handler: function handler(text) {\n      var spaces = \"\\xA0\\u202F \"; // nbsp, thinsp\n\n      var quote = getData('ru/quote');\n      var re = new RegExp('(^|[' + spaces + quote.left + privateLabel + '\"])([\u0410-\u042F\u0401])\\\\.[' + spaces + ']?([\u0410-\u042F\u0401])\\\\.[' + spaces + ']?([\u0410-\u042F\u0401][\u0430-\u044F\u0451]+)', 'gm');\n      return text.replace(re, \"$1$2.\\xA0$3.\\xA0$4\");\n    }\n  };\n\n  var m = {\n    name: 'ru/nbsp/m',\n    index: '+5',\n    handler: function handler(text) {\n      var re = new RegExp('(^|[\\\\s,.\\\\(' + privateLabel + '])' + \"(\\\\d+)[ \\xA0]?(\\u043C\\u043C?|\\u0441\\u043C|\\u043A\\u043C|\\u0434\\u043C|\\u0433\\u043C|mm?|km|cm|dm)([23\\xB2\\xB3])?([\\\\s\\\\).!?,;\" + privateLabel + ']|$)', 'gm');\n      return text.replace(re, function ($0, $1, $2, $3, $4, $5) {\n        var pow = {\n          '2': '\u00B2',\n          '\u00B2': '\u00B2',\n          '3': '\u00B3',\n          '\u00B3': '\u00B3',\n          '': ''\n        }[$4 || ''];\n        return $1 + $2 + \"\\xA0\" + $3 + pow + ($5 === \"\\xA0\" ? ' ' : $5);\n      });\n    }\n  };\n\n  var mln = {\n    name: 'ru/nbsp/mln',\n    handler: function handler(text) {\n      return text.replace(/(\\d) ?(\u0442\u044B\u0441|\u043C\u043B\u043D|\u043C\u043B\u0440\u0434|\u0442\u0440\u043B\u043D)(\\.|\\s|$)/gi, \"$1\\xA0$2$3\");\n    }\n  };\n\n  var ooo = {\n    name: 'ru/nbsp/ooo',\n    handler: function handler(text) {\n      return text.replace(/(^|[^a-\u044F\u0451A-\u042F\u0401])(\u041E\u041E\u041E|\u041E\u0410\u041E|\u0417\u0410\u041E|\u041D\u0418\u0418|\u041F\u0411\u041E\u042E\u041B) /g, \"$1$2\\xA0\");\n    }\n  };\n\n  var page = {\n    name: 'ru/nbsp/page',\n    handler: function handler(text) {\n      var re = new RegExp('(^|[)\\\\s' + privateLabel + '])' + '(\u0441\u0442\u0440|\u0433\u043B|\u0440\u0438\u0441|\u0438\u043B\u043B?|\u0441\u0442|\u043F|c)\\\\. *(\\\\d+)([\\\\s.,?!;:]|$)', 'gim');\n      return text.replace(re, \"$1$2.\\xA0$3$4\");\n    }\n  };\n\n  var ps = {\n    name: 'ru/nbsp/ps',\n    handler: function handler(text) {\n      var re = new RegExp(\"(^|\\\\s|\".concat(privateLabel, \")[p\\u0437]\\\\.[ \\xA0]?([p\\u0437]\\\\.[ \\xA0]?)?[s\\u044B]\\\\.:? \"), 'gim');\n      return text.replace(re, function ($0, $1, $2) {\n        return $1 + ($2 ? \"P.\\xA0P.\\xA0S. \" : \"P.\\xA0S. \");\n      });\n    }\n  };\n\n  var rubleKopek = {\n    name: 'ru/nbsp/rubleKopek',\n    handler: function handler(text) {\n      return text.replace(/(\\d) ?(?=(\u0440\u0443\u0431|\u043A\u043E\u043F)\\.)/g, \"$1\\xA0\");\n    }\n  };\n\n  var see = {\n    name: 'ru/nbsp/see',\n    handler: function handler(text) {\n      var re = new RegExp(\"(^|\\\\s|\".concat(privateLabel, \"|\\\\()(\\u0441\\u043C|\\u0438\\u043C)\\\\.[ \\xA0]?([\\u0430-\\u044F\\u04510-9a-z]+)([\\\\s.,?!]|$)\"), 'gi');\n      return text.replace(re, function ($0, $1, $2, $3, $4) {\n        return ($1 === \"\\xA0\" ? ' ' : $1) + $2 + \".\\xA0\" + $3 + $4;\n      });\n    }\n  };\n\n  var year = {\n    name: 'ru/nbsp/year',\n    handler: function handler(text) {\n      return text.replace(/(^|\\D)(\\d{4}) ?\u0433([ ,;.\\n]|$)/g, \"$1$2\\xA0\\u0433$3\");\n    }\n  };\n\n  var years$1 = {\n    name: 'ru/nbsp/years',\n    index: '+5',\n    handler: function handler(text) {\n      var dashes = getData('common/dash');\n      var re = new RegExp('(^|\\\\D)(\\\\d{4})(' + dashes + \")(\\\\d{4})[ \\xA0]?\\u0433\\\\.?([ \\xA0]?\\u0433\\\\.)?(?=[,;:?!\\\"\\u2018\\u201C\\xBB\\\\s]|$)\", 'gm');\n      return text.replace(re, \"$1$2$3$4\\xA0\\u0433\\u0433.\");\n    }\n  };\n\n  Typograf.addRules([abbr, addr, afterNumberSign, beforeParticle, centuries$1, dayMonth, initials, m, mln, ooo, page, ps, rubleKopek, see, year, years$1]);\n\n  var comma = {\n    name: 'ru/number/comma',\n    handler: function handler(text) {\n      // \\u00A0 - NO-BREAK SPACE\n      // \\u2009 - THIN SPACE\n      // \\u202F - NARROW NO-BREAK SPACE\n      return text.replace(/(^|\\s)(\\d+)\\.(\\d+[\\u00A0\\u2009\\u202F ]*?[%\u2030\u00B0\u00D7x])/gim, '$1$2,$3');\n    }\n  };\n\n  var ordinals = {\n    name: 'ru/number/ordinals',\n    handler: function handler(text, settings, context) {\n      var re = new RegExp('(\\\\d[%\u2030]?)-(\u044B\u0439|\u043E\u0439|\u0430\u044F|\u043E\u0435|\u044B\u0435|\u044B\u043C|\u043E\u043C|\u044B\u0445|\u043E\u0433\u043E|\u043E\u043C\u0443|\u044B\u043C\u0438)(?![' + context.getData('char') + '])', 'g');\n      return text.replace(re, function ($0, $1, $2) {\n        var parts = {\n          '\u043E\u0439': '\u0439',\n          '\u044B\u0439': '\u0439',\n          '\u0430\u044F': '\u044F',\n          '\u043E\u0435': '\u0435',\n          '\u044B\u0435': '\u0435',\n          '\u044B\u043C': '\u043C',\n          '\u043E\u043C': '\u043C',\n          '\u044B\u0445': '\u0445',\n          '\u043E\u0433\u043E': '\u0433\u043E',\n          '\u043E\u043C\u0443': '\u043C\u0443',\n          '\u044B\u043C\u0438': '\u043C\u0438'\n        };\n        return $1 + '-' + parts[$2];\n      });\n    }\n  };\n\n  Typograf.addRules([comma, ordinals]);\n\n  function removeOptAlignTags(text, classNames) {\n    var re = new RegExp('<span class=\"(' + classNames.join('|') + ')\">([^]*?)</span>', 'g');\n    return text.replace(re, '$2');\n  }\n  function removeOptAlignTagsFromTitle(text, classNames) {\n    return text.replace(/<title>[^]*?<\\/title>/i, function (text) {\n      return removeOptAlignTags(text, classNames);\n    });\n  }\n\n  var classNames = ['typograf-oa-lbracket', 'typograf-oa-n-lbracket', 'typograf-oa-sp-lbracket'];\n  var name = 'ru/optalign/bracket';\n  var bracket$1 = {\n    name: name,\n    handler: function handler(text) {\n      return text.replace(/( |\\u00A0)\\(/g, '<span class=\"typograf-oa-sp-lbracket\">$1</span><span class=\"typograf-oa-lbracket\">(</span>').replace(/^\\(/gm, '<span class=\"typograf-oa-n-lbracket\">(</span>');\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n  var innerStartBracket = {\n    name: name,\n    queue: 'start',\n    handler: function handler(text) {\n      return removeOptAlignTags(text, classNames);\n    }\n  };\n  var innerEndBracket = {\n    name: name,\n    queue: 'end',\n    handler: function handler(text) {\n      return removeOptAlignTagsFromTitle(text, classNames);\n    }\n  };\n\n  var classNames$1 = ['typograf-oa-comma', 'typograf-oa-comma-sp'];\n  var name$1 = 'ru/optalign/comma';\n  var comma$1 = {\n    name: name$1,\n    handler: function handler(text, settings, context) {\n      var re = new RegExp('([' + context.getData('char') + \"\\\\d\\u0301]+), \", 'gi');\n      return text.replace(re, '$1<span class=\"typograf-oa-comma\">,</span><span class=\"typograf-oa-comma-sp\"> </span>');\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n  var innerStartComma = {\n    name: name$1,\n    queue: 'start',\n    handler: function handler(text) {\n      return removeOptAlignTags(text, classNames$1);\n    }\n  };\n  var innerEndComma = {\n    name: name$1,\n    queue: 'end',\n    handler: function handler(text) {\n      return removeOptAlignTagsFromTitle(text, classNames$1);\n    }\n  };\n\n  var classNames$2 = ['typograf-oa-lquote', 'typograf-oa-n-lquote', 'typograf-oa-sp-lquote'];\n  var name$2 = 'ru/optalign/quote';\n  var quote$1 = {\n    name: name$2,\n    handler: function handler(text) {\n      var quote = this.getSetting('common/punctuation/quote', 'ru');\n      var lquotes = '([' + quote.left[0] + (quote.left[1] || '') + '])';\n      var reNewLine = new RegExp('(^|\\n\\n|' + privateLabel + ')(' + lquotes + ')', 'g');\n      var reInside = new RegExp('([^\\n' + privateLabel + \"])([ \\xA0\\n])(\" + lquotes + ')', 'gi');\n      return text.replace(reNewLine, '$1<span class=\"typograf-oa-n-lquote\">$2</span>').replace(reInside, '$1<span class=\"typograf-oa-sp-lquote\">$2</span><span class=\"typograf-oa-lquote\">$3</span>');\n    },\n    disabled: true,\n    htmlAttrs: false\n  };\n  var innerStartQuote = {\n    name: name$2,\n    queue: 'start',\n    handler: function handler(text) {\n      return removeOptAlignTags(text, classNames$2);\n    }\n  };\n  var innerEndQuote = {\n    name: name$2,\n    queue: 'end',\n    handler: function handler(text) {\n      return removeOptAlignTagsFromTitle(text, classNames$2);\n    }\n  };\n\n  Typograf.addRules([bracket$1, comma$1, quote$1]);\n  Typograf.addInnerRules([innerStartBracket, innerEndBracket, innerStartComma, innerEndComma, innerStartQuote, innerEndQuote]);\n\n  var accent = {\n    name: 'ru/other/accent',\n    handler: function handler(text) {\n      return text.replace(/([\u0430-\u044F\u0451])([\u0410\u0415\u0401\u0418\u041E\u0423\u042B\u042D\u042E\u042F])([^\u0410-\u042F\u0401\\w]|$)/g, function ($0, $1, $2, $3) {\n        return $1 + $2.toLowerCase() + \"\\u0301\" + $3;\n      });\n    },\n    disabled: true\n  };\n\n  var defaultCityCodeLength = 5;\n  var countryCode = '7';\n  var exceptions = [];\n  var exceptionsMax = 8;\n  var exceptionsMin = 2;\n  [4162, 416332, 8512, 851111, 4722, 4725, 391379, 8442, 4732, 4152, 4154451, 4154459, 4154455, 41544513, 8142, 8332, 8612, 8622, 3525, 812, 8342, 8152, 3812, 4862, 3422, 342633, 8112, 9142, 8452, 3432, 3434, 3435, 4812, 8432, 8439, 3822, 4872, 3412, 3511, 3512, 3022, 4112, 4852, 4855, 3852, 3854, 8182, 818, 90, 3472, 4741, 4764, 4832, 4922, 8172, 8202, 8722, 4932, 493, 3952, 3951, 3953, 411533, 4842, 3842, 3843, 8212, 4942, '39131-39179', '39190-39199', 391, 4712, 4742, 8362, 495, 499, 4966, 4964, 4967, 498, 8312, 8313, 3832, 383612, 3532, 8412, 4232, 423370, 423630, 8632, 8642, 8482, 4242, 8672, 8652, 4752, 4822, 482502, 4826300, 3452, 8422, 4212, 3466, 3462, 8712, 8352, '901-934', '936-939', '950-953', 958, '960-969', '977-989', '991-997', 999].forEach(function (num) {\n    if (typeof num === 'string') {\n      var buf = num.split('-');\n\n      for (var i = +buf[0]; i <= +buf[1]; i++) {\n        exceptions.push(i);\n      }\n    } else {\n      exceptions.push(num);\n    }\n  });\n\n  function phone(num) {\n    var firstSym = num[0];\n    var cityCode = '';\n    var hasPlusWithCode;\n    var hasEight;\n\n    if (num.length < 8) {\n      return phoneBlocks(num);\n    } // 8 495 123-45-67, +7 495 123-45-67\n\n\n    if (num.length > 10) {\n      if (firstSym === '+') {\n        if (num[1] === countryCode) {\n          hasPlusWithCode = true;\n          num = num.substr(2);\n        } else {\n          return num;\n        }\n      } else if (firstSym === '8') {\n        hasEight = true;\n        num = num.substr(1);\n      }\n    }\n\n    for (var cityCodeLen = exceptionsMax; cityCodeLen >= exceptionsMin; cityCodeLen--) {\n      var code = +num.substr(0, cityCodeLen);\n\n      if (exceptions.indexOf(code) > -1) {\n        cityCode = num.substr(0, cityCodeLen);\n        num = num.substr(cityCodeLen);\n        break;\n      }\n    }\n\n    if (!cityCode) {\n      cityCode = num.substr(0, defaultCityCodeLength);\n      num = num.substr(defaultCityCodeLength);\n    }\n\n    return (hasPlusWithCode ? '+' + countryCode + \"\\xA0\" : '') + (hasEight ? \"8\\xA0\" : '') + prepareCode(cityCode) + \"\\xA0\" + phoneBlocks(num);\n  }\n\n  function prepareCode(code) {\n    var numCode = +code;\n    var len = code.length;\n    var result = [code];\n    var withoutBrackets = false;\n\n    if (len > 3) {\n      switch (len) {\n        case 4:\n          result = [code.substr(0, 2), code.substr(2, 2)];\n          break;\n\n        case 5:\n          result = [code.substr(0, 3), code.substr(3, 3)];\n          break;\n\n        case 6:\n          result = [code.substr(0, 2), code.substr(2, 2), code.substr(4, 2)];\n          break;\n      }\n    } else {\n      // \u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0435 \u0438 \u043C\u043E\u0441\u043A\u043E\u0432\u0441\u043A\u0438\u0435 \u043D\u043E\u043C\u0435\u0440\u0430 \u0431\u0435\u0437 \u0441\u043A\u043E\u0431\u043E\u043A\n      withoutBrackets = numCode > 900 && numCode <= 999 || numCode === 495 || numCode === 499;\n    }\n\n    result = result.join('-');\n    return withoutBrackets ? result : '(' + result + ')';\n  }\n\n  function phoneBlocks(num) {\n    var add = '';\n\n    if (num.length % 2) {\n      add = num[0];\n      add += num.length <= 5 ? '-' : '';\n      num = num.substr(1, num.length - 1);\n    }\n\n    return add + num.split(/(?=(?:\\d\\d)+$)/).join('-');\n  }\n\n  function clearPhone(text) {\n    return text.replace(/[^\\d+]/g, '');\n  }\n\n  var phoneNumber = {\n    name: 'ru/other/phone-number',\n    live: false,\n    handler: function handler(text) {\n      var re = new RegExp('(^|,| |' + privateLabel + \")(\\\\+7[\\\\d\\\\(\\\\) \\xA0-]{10,18})(?=,|;|\" + privateLabel + '|$)', 'gm');\n      return text.replace(re, function ($0, $1, $2) {\n        var buf = clearPhone($2);\n        return buf.length === 12 ? $1 + phone(buf) : $0;\n      }).replace( // eslint-disable-next-line no-misleading-character-class\n      /(^|[^\u0430-\u044F\u0451])([\u260E\u260F\u2706\uD83D\uDCE0\uD83D\uDCDE\uD83D\uDCF1]|\u0442\\.|\u0442\u0435\u043B\\.|\u0444\\.|\u043C\u043E\u0431\\.|\u0444\u0430\u043A\u0441|\u0441\u043E\u0442\u043E\u0432\u044B\u0439|\u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439|\u0442\u0435\u043B\u0435\u0444\u043E\u043D)(:?\\s*?)([+\\d(][\\d \\u00A0\\-()]{3,}\\d)/gi, function ($0, $1, $2, $3, $4) {\n        var buf = clearPhone($4);\n\n        if (buf.length >= 5) {\n          return $1 + $2 + $3 + phone(buf);\n        }\n\n        return $0;\n      });\n    }\n  };\n\n  Typograf.addRules([accent, phoneNumber]);\n\n  var ano = {\n    name: 'ru/punctuation/ano',\n    handler: function handler(text) {\n      var re = new RegExp('([^\u00AB\u201E[(!?,:;\\\\-\u2012\u2013\u2014\\\\s' + privateLabel + \"])(\\\\s+)(\\u0430|\\u043D\\u043E)(?= |\\xA0|\\\\n)\", 'g');\n      return text.replace(re, '$1,$2$3');\n    }\n  };\n\n  var exclamation = {\n    name: 'ru/punctuation/exclamation',\n    live: false,\n    handler: function handler(text) {\n      return text.replace(/(^|[^!])!{2}($|[^!])/gm, '$1!$2').replace(/(^|[^!])!{4}($|[^!])/gm, '$1!!!$2');\n    }\n  };\n\n  var exclamationQuestion = {\n    name: 'ru/punctuation/exclamationQuestion',\n    index: '+5',\n    handler: function handler(text) {\n      var re = new RegExp('(^|[^!])!\\\\?([^?]|$)', 'g');\n      return text.replace(re, '$1?!$2');\n    }\n  };\n\n  var hellipQuestion = {\n    name: 'ru/punctuation/hellipQuestion',\n    handler: function handler(text) {\n      return text.replace(/(^|[^.])(\\.\\.\\.|\u2026),/g, '$1\u2026').replace(/(!|\\?)(\\.\\.\\.|\u2026)(?=[^.]|$)/g, '$1..');\n    }\n  };\n\n  Typograf.addRules([ano, exclamation, exclamationQuestion, hellipQuestion]);\n\n  var afterHellip = {\n    name: 'ru/space/afterHellip',\n    handler: function handler(text) {\n      return text.replace(/([\u0430-\u044F\u0451])(\\.\\.\\.|\u2026)([\u0410-\u042F\u0401])/g, '$1$2 $3').replace(/([?!]\\.\\.)([\u0430-\u044F\u0451a-z])/gi, '$1 $2');\n    }\n  };\n\n  var year$1 = {\n    name: 'ru/space/year',\n    handler: function handler(text, settings, context) {\n      var re = new RegExp(\"(^| |\\xA0)(\\\\d{3,4})(\\u0433\\u043E\\u0434([\\u0430\\u0443\\u0435]|\\u043E\\u043C)?)([^\" + context.getData('char') + ']|$)', 'g');\n      return text.replace(re, '$1$2 $3$5');\n    }\n  };\n\n  Typograf.addRules([afterHellip, year$1]);\n\n  var nn = {\n    name: 'ru/symbols/NN',\n    handler: function handler(text) {\n      return text.replace(/\u2116\u2116/g, '\u2116');\n    }\n  };\n\n  Typograf.addRules([nn]);\n\n  var replacements = {\n    A: '\u0410',\n    // Latin: Russian\n    a: '\u0430',\n    B: '\u0412',\n    E: '\u0415',\n    e: '\u0435',\n    K: '\u041A',\n    M: '\u041C',\n    H: '\u041D',\n    O: '\u041E',\n    o: '\u043E',\n    P: '\u0420',\n    p: '\u0440',\n    C: '\u0421',\n    c: '\u0441',\n    T: '\u0422',\n    y: '\u0443',\n    X: '\u0425',\n    x: '\u0445'\n  };\n  var keys = Object.keys(replacements).join('');\n  var switchingKeyboardLayout = {\n    name: 'ru/typo/switchingKeyboardLayout',\n    handler: function handler(text) {\n      var re = new RegExp('([' + keys + ']{1,3})(?=[\u0410-\u042F\u0401\u0430-\u044F\u0451]+?)', 'g');\n      return text.replace(re, function (str, $1) {\n        var result = '';\n\n        for (var i = 0; i < $1.length; i++) {\n          result += replacements[$1[i]];\n        }\n\n        return result;\n      });\n    }\n  };\n\n  Typograf.addRules([switchingKeyboardLayout]);\n\n  return Typograf;\n\n}));\n", "import {\n  Clipboard,\n  getPreferenceValues,\n  getSelectedText,\n  showHUD,\n} from \"@raycast/api\";\nimport Typograf from \"typograf\";\n\nexport default async function main() {\n  const { LANGUAGE, HTML_ENTITIES } = getPreferenceValues();\n\n  const tp = new Typograf({\n    locale: [LANGUAGE],\n    htmlEntity: { type: HTML_ENTITIES },\n  });\n\n  try {\n    const selectedText = await getSelectedText();\n    const transformedText = tp.execute(selectedText);\n\n    await Clipboard.paste(transformedText);\n    await showHUD(\"\u2713\");\n  } catch (error) {\n    await showHUD(\"No text selected\");\n  }\n}\n"],
  "mappings": "qoBAAA,IAAAA,GAAAC,GAAA,CAAAC,EAAAC,IAAA,EACC,SAAUC,EAAQC,EAAS,CAC1B,OAAOH,GAAY,UAAY,OAAOC,EAAW,IAAcA,EAAO,QAAUE,EAAQ,EACxF,OAAO,QAAW,YAAc,OAAO,IAAM,OAAOA,CAAO,GAC1DD,EAASA,GAAU,KAAMA,EAAO,SAAWC,EAAQ,EACtD,GAAEH,EAAM,UAAY,CAAE,aAEpB,SAASI,EAAQC,EAAK,CACpB,0BAEA,OAAOD,EAAwB,OAAO,QAArB,YAA2C,OAAO,OAAO,UAA1B,SAAqC,SAAUC,EAAK,CAClG,OAAO,OAAOA,CAChB,EAAI,SAAUA,EAAK,CACjB,OAAOA,GAAqB,OAAO,QAArB,YAA+BA,EAAI,cAAgB,QAAUA,IAAQ,OAAO,UAAY,SAAW,OAAOA,CAC1H,EAAGD,EAAQC,CAAG,CAChB,CAEA,SAASC,EAAgBC,EAAUC,EAAa,CAC9C,GAAI,EAAED,aAAoBC,GACxB,MAAM,IAAI,UAAU,mCAAmC,CAE3D,CAEA,SAASC,EAAkBC,EAAQC,EAAO,CACxC,QAASC,EAAI,EAAGA,EAAID,EAAM,OAAQC,IAAK,CACrC,IAAIC,EAAaF,EAAMC,CAAC,EACxBC,EAAW,WAAaA,EAAW,YAAc,GACjDA,EAAW,aAAe,GACtB,UAAWA,IAAYA,EAAW,SAAW,IACjD,OAAO,eAAeH,EAAQG,EAAW,IAAKA,CAAU,CAC1D,CACF,CAEA,SAASC,EAAaN,EAAaO,EAAYC,EAAa,CAC1D,OAAID,GAAYN,EAAkBD,EAAY,UAAWO,CAAU,EAC/DC,GAAaP,EAAkBD,EAAaQ,CAAW,EAC3D,OAAO,eAAeR,EAAa,YAAa,CAC9C,SAAU,EACZ,CAAC,EACMA,CACT,CAEA,SAASS,EAAeC,EAAKN,EAAG,CAC9B,OAAOO,GAAgBD,CAAG,GAAKE,GAAsBF,EAAKN,CAAC,GAAKS,GAA4BH,EAAKN,CAAC,GAAKU,GAAiB,CAC1H,CAEA,SAASH,GAAgBD,EAAK,CAC5B,GAAI,MAAM,QAAQA,CAAG,EAAG,OAAOA,CACjC,CAEA,SAASE,GAAsBF,EAAKN,EAAG,CACrC,IAAIW,EAAKL,GAAO,KAAO,KAAO,OAAO,OAAW,KAAeA,EAAI,OAAO,QAAQ,GAAKA,EAAI,YAAY,EAEvG,GAAIK,GAAM,KACV,KAAIC,EAAO,CAAC,EACRC,EAAK,GACLC,EAAK,GAELC,EAAIC,EAER,GAAI,CACF,IAAKL,EAAKA,EAAG,KAAKL,CAAG,EAAG,EAAEO,GAAME,EAAKJ,EAAG,KAAK,GAAG,QAC9CC,EAAK,KAAKG,EAAG,KAAK,EAEd,EAAAf,GAAKY,EAAK,SAAWZ,IAH4Ba,EAAK,GAG1D,CAEJ,OAASI,EAAK,CACZH,EAAK,GACLE,EAAKC,CACP,QAAE,CACA,GAAI,CACE,CAACJ,GAAMF,EAAG,QAAa,MAAMA,EAAG,OAAU,CAChD,QAAE,CACA,GAAIG,EAAI,MAAME,CAChB,CACF,CAEA,OAAOJ,EACT,CAEA,SAASH,GAA4BS,EAAGC,EAAQ,CAC9C,GAAKD,EACL,IAAI,OAAOA,GAAM,SAAU,OAAOE,EAAkBF,EAAGC,CAAM,EAC7D,IAAIE,EAAI,OAAO,UAAU,SAAS,KAAKH,CAAC,EAAE,MAAM,EAAG,EAAE,EAErD,GADIG,IAAM,UAAYH,EAAE,cAAaG,EAAIH,EAAE,YAAY,MACnDG,IAAM,OAASA,IAAM,MAAO,OAAO,MAAM,KAAKH,CAAC,EACnD,GAAIG,IAAM,aAAe,2CAA2C,KAAKA,CAAC,EAAG,OAAOD,EAAkBF,EAAGC,CAAM,EACjH,CAEA,SAASC,EAAkBd,EAAKgB,EAAK,EAC/BA,GAAO,MAAQA,EAAMhB,EAAI,UAAQgB,EAAMhB,EAAI,QAE/C,QAASN,EAAI,EAAGuB,EAAO,IAAI,MAAMD,CAAG,EAAGtB,EAAIsB,EAAKtB,IAAKuB,EAAKvB,CAAC,EAAIM,EAAIN,CAAC,EAEpE,OAAOuB,CACT,CAEA,SAASb,IAAmB,CAC1B,MAAM,IAAI,UAAU;AAAA,mFAA2I,CACjK,CAEA,IAAIc,GAAe,CACjB,QAAS,IACT,MAAO,IACP,KAAM,IACN,YAAa,IACb,KAAM,IACN,OAAU,IACV,MAAO,IACP,KAAM,IACN,MAAO,IACP,SAAU,KACV,KAAM,KACN,KAAM,IACR,EAGIC,GAAkB,CAAC,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,UAAW,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,SAAU,GAAG,EAAG,CAAC,KAAM,GAAG,EAAG,CAAC,KAAM,GAAG,EAAG,CAAC,KAAM,GAAG,EAAG,CAAC,UAAW,GAAG,EAAG,CAAC,KAAM,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,UAAW,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,MAAO,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,QAAS,GAAG,EAAG,CAAC,OAAQ,GAAG,EAAG,CAAC,Q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",
  "names": ["require_typograf", "__commonJSMin", "exports", "module", "global", "factory", "_typeof", "obj", "_classCallCheck", "instance", "Constructor", "_defineProperties", "target", "props", "i", "descriptor", "_createClass", "protoProps", "staticProps", "_slicedToArray", "arr", "_arrayWithHoles", "_iterableToArrayLimit", "_unsupportedIterableToArray", "_nonIterableRest", "_i", "_arr", "_n", "_d", "_s", "_e", "err", "o", "minLen", "_arrayLikeToArray", "n", "len", "arr2", "groupIndexes", "visibleEntities", "invisibleEntities", "HtmlEntities", "entity", "context", "_this", "key", "text", "$0", "$1", "params", "type", "entities", "symbol", "result", "_entity", "name", "digit", "utf", "list", "HtmlEntities$1", "locales", "addLocale", "locale", "code", "hasLocale", "getLocales", "prepareLocale", "locale1", "locale2", "data", "getData", "setData", "value", "k", "inlineElements", "regExpUrl", "regExpNumber", "regExpDigit", "isDigit", "privateLabel", "privateSeparateLabel", "SafeTags", "html", "tag", "group", "reReplace", "reSearch", "replaceLabel", "match", "pasteLabel", "position", "label", "safeTags", "re", "_tag", "startTag", "endTag", "middle", "repeat", "count", "replaceNbsp", "replace", "isHTML", "removeCR", "fixLineEnding", "deepCopy", "Typograf", "prefs", "rule", "q", "item", "contextPrefs", "locale0", "reTags", "$2", "itemPosition", "isRootHTML", "ruleName", "setting", "queue", "rules", "innerRules", "rlocale", "live", "settings", "enabled", "el", "_rule$name$split", "_rule$name$split2", "_this2", "_this3", "index", "groupIndex", "b", "common", "be", "bg", "ca", "da", "de", "enGB", "enUS", "eo", "es", "et", "fi", "fr", "ga", "hu", "it", "lv", "nl", "no", "pl", "ro", "ru", "sk", "sl", "sr", "sv", "tr", "uk", "data$1", "eMail", "escape", "entityMap", "s", "nbr", "blockElements", "p", "blockRe", "separator", "buffer", "processingAttrs", "that", "reAttrs", "tagName", "attrs", "resultAttrs", "submatch", "space", "attrName", "attrValue", "lquote", "rquote", "quot", "stripTags", "url", "protocol", "path", "fullUrl", "firstPart", "afterNumber", "afterParagraphMark", "afterSectionMark", "afterShortWord", "before", "subStr", "newSubStr", "beforeShortLastNumber", "ch", "CH", "beforeShortLastWord", "dpi", "replaceNbsp$1", "$3", "nowrap", "replaceNbsp$2", "digitGrouping", "decimalMarker", "_ref", "_ref2", "integerPart", "fractionalPart", "fraction", "mathSigns", "times", "delBOM", "repeatWord", "punc", "apostrophe", "letters", "delDoublePunctuation", "hellip", "MAX_LEVEL_WITH_ERRORS", "Quote", "originalSettings", "isEqualQuotes", "bufferSettings", "quote", "lquote2", "quotes", "reL", "reR", "original", "prev", "next", "pos", "hasRight", "prevInfo", "hasLeft", "nextInfo", "prevLabel", "prevTag", "nextLabel", "nextTag", "minLevel", "maxLevel", "level", "letter", "leftQuote", "rightQuote", "length", "commonSettings", "quoteLink", "lquote1", "rquote1", "rquote2", "beforeBracket", "bracket", "delBeforePercent", "delBeforePunctuation", "delBetweenExclamationMarks", "delBeforeDot", "delLeadingBlanks", "delRepeatN", "maxConsecutiveLineBreaks", "consecutiveLineBreaksRegex", "replaceValue", "delRepeatSpace", "delTrailingBlanks", "insertFinalNewline", "replaceTab", "squareBracket", "trimLeft", "trimRight", "reColon", "afterColon", "reComma", "afterComma", "reQuestionMark", "afterQuestionMark", "reExclamationMark", "afterExclamationMark", "reSemicolon", "afterSemicolon", "arrow", "cf", "copy", "main", "dashes", "nonBreakingSpace", "emDash", "spaceBefore", "spaceAfter", "centuries", "daysMonth", "de$1", "decade", "directSpeech", "re1", "re2", "re3", "izpod", "izza", "ka", "koe", "main$1", "month", "months", "monthsPre", "rePre", "surname", "taki", "time", "to", "words", "weekday", "part", "years", "$4", "fromISO", "sp1", "sp2", "weekday$1", "monthCase", "a", "currency", "$5", "$6", "$7", "ruble", "newSubstr", "commonPart", "abbr", "addr", "afterNumberSign", "beforeParticle", "particles", "centuries$1", "after", "dayMonth", "initials", "spaces", "m", "pow", "mln", "ooo", "page", "ps", "rubleKopek", "see", "year", "years$1", "comma", "ordinals", "parts", "removeOptAlignTags", "classNames", "removeOptAlignTagsFromTitle", "bracket$1", "innerStartBracket", "innerEndBracket", "classNames$1", "name$1", "comma$1", "innerStartComma", "innerEndComma", "classNames$2", "name$2", "quote$1", "lquotes", "reNewLine", "reInside", "innerStartQuote", "innerEndQuote", "accent", "defaultCityCodeLength", "countryCode", "exceptions", "exceptionsMax", "exceptionsMin", "num", "buf", "phone", "firstSym", "cityCode", "hasPlusWithCode", "hasEight", "phoneBlocks", "cityCodeLen", "prepareCode", "numCode", "withoutBrackets", "add", "clearPhone", "phoneNumber", "ano", "exclamation", "exclamationQuestion", "hellipQuestion", "afterHellip", "year$1", "nn", "replacements", "keys", "switchingKeyboardLayout", "str", "index_exports", "__export", "main", "__toCommonJS", "import_api", "import_typograf", "LANGUAGE", "HTML_ENTITIES", "tp", "Typograf", "selectedText", "transformedText"]
}
