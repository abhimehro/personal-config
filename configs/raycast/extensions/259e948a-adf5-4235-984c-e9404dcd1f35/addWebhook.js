"use strict";var C=Object.create;var c=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var M=(o,t)=>{for(var r in t)c(o,r,{get:t[r],enumerable:!0})},h=(o,t,r,m)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of w(t))!y.call(o,s)&&s!==r&&c(o,s,{get:()=>t[s],enumerable:!(m=W(t,s))||m.enumerable});return o};var S=(o,t,r)=>(r=o!=null?C(k(o)):{},h(t||!o||!o.__esModule?c(r,"default",{value:o,enumerable:!0}):r,o)),v=o=>h(c({},"__esModule",{value:!0}),o);var x={};M(x,{default:()=>b});module.exports=v(x);var i=require("@raycast/api");var l=require("@raycast/api");var p=require("@raycast/api"),d=p.environment.supportPath+"/discord-extension-saved-data.json";var u=S(require("fs"));function f(o){if(console.log(o.name.length),o.name.length<1){(0,l.showToast)({title:"Channel Name is Required!",style:l.Toast.Style.Failure});return}if(!F(o.url)){(0,l.showToast)({title:"Invalid Webhook URL",message:"Please enter a valid webhook URL",style:l.Toast.Style.Failure});return}let t=D();if(t.find(r=>r.name===o.name)){(0,l.showToast)({title:"Webhook already exists",message:"Webhook with that name already exists"});return}t.push(o),u.default.writeFileSync(d,JSON.stringify(t)),(0,l.showToast)({title:"Webhook added",message:"Webhook added successfully"}),(0,l.popToRoot)()}function D(){u.default.existsSync(d)||u.default.writeFileSync(d,JSON.stringify([]));let o=u.default.readFileSync(d,"utf8");return JSON.parse(o)}function F(o){let t=o.split("/");return!(o.length<10||!o.startsWith("http")||t[t.length-1].length!=68)}var e=require("@raycast/api"),n=require("react/jsx-runtime");function g(){return(0,n.jsxs)(e.Form.Dropdown,{id:"color",title:"Color",children:[(0,n.jsx)(e.Form.Dropdown.Item,{title:"Blue",value:e.Color.Blue,icon:{source:e.Icon.Message,tintColor:e.Color.Blue}}),(0,n.jsx)(e.Form.Dropdown.Item,{title:"Green",value:e.Color.Green,icon:{source:e.Icon.Message,tintColor:e.Color.Green}}),(0,n.jsx)(e.Form.Dropdown.Item,{title:"Brown",value:e.Color.Brown,icon:{source:e.Icon.Message,tintColor:e.Color.Brown}}),(0,n.jsx)(e.Form.Dropdown.Item,{title:"Magenta",value:e.Color.Magenta,icon:{source:e.Icon.Message,tintColor:e.Color.Magenta}}),(0,n.jsx)(e.Form.Dropdown.Item,{title:"Orange",value:e.Color.Orange,icon:{source:e.Icon.Message,tintColor:e.Color.Orange}}),(0,n.jsx)(e.Form.Dropdown.Item,{title:"Purple",value:e.Color.Purple,icon:{source:e.Icon.Message,tintColor:e.Color.Purple}}),(0,n.jsx)(e.Form.Dropdown.Item,{title:"Red",value:e.Color.Red,icon:{source:e.Icon.Message,tintColor:e.Color.Red}}),(0,n.jsx)(e.Form.Dropdown.Item,{title:"Yellow",value:e.Color.Yellow,icon:{source:e.Icon.Message,tintColor:e.Color.Yellow}})]})}var a=require("react/jsx-runtime");function b(){function o(t){f(t)}return(0,a.jsxs)(i.Form,{actions:(0,a.jsx)(i.ActionPanel,{children:(0,a.jsx)(i.Action.SubmitForm,{title:"Submit Webhook",icon:i.Icon.Plus,onSubmit:o})}),children:[(0,a.jsx)(i.Form.TextField,{id:"name",defaultValue:"",placeholder:"Raycast Server, Gaming Server...",title:"Channel Name"}),(0,a.jsx)(i.Form.TextField,{id:"url",defaultValue:"",placeholder:"https://discord.com/api/webhooks...",title:"Webhook URL"}),(0,a.jsx)(g,{})]})}
